import{A as ha,B as yu,C as yt,D as $f,E as Gf,F as qf,G as zf,H as Wf,I as fa,J as Kf,K as Zf,L as Qf,M as Ar,a as L,b as ae,c as j,d as bE,e as gu,f as AE,g as TE,h as SE,i as ME,j as Uf,k as RE,l as xE,m as NE,n as Bf,o as OE,p as PE,q as kE,r as qt,s as la,t as Cn,u as mu,v as da,w as Hf,x as FE,y as LE,z as VE}from"./chunk-U56RFSJ2.js";function UE(n,e){return Object.is(n,e)}var Xe=null,vu=!1,Xf=1,sn=Symbol("SIGNAL");function fe(n){let e=Xe;return Xe=n,e}function BE(){return Xe}var to={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eu(n){if(vu)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(n);let e=Xe.nextProducerIndex++;if(Du(Xe),e<Xe.producerNode.length&&Xe.producerNode[e]!==n&&pa(Xe)){let t=Xe.producerNode[e];Cu(t,Xe.producerIndexOfThis[e])}Xe.producerNode[e]!==n&&(Xe.producerNode[e]=n,Xe.producerIndexOfThis[e]=pa(Xe)?qE(n,Xe,e):0),Xe.producerLastReadVersion[e]=n.version}function XM(){Xf++}function HE(n){if(!(pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Xf)){if(!n.producerMustRecompute(n)&&!wu(n)){jE(n);return}n.producerRecomputeValue(n),jE(n)}}function $E(n){if(n.liveConsumerNode===void 0)return;let e=vu;vu=!0;try{for(let t of n.liveConsumerNode)t.dirty||eR(t)}finally{vu=e}}function GE(){return Xe?.consumerAllowSignalWrites!==!1}function eR(n){n.dirty=!0,$E(n),n.consumerMarkedDirty?.(n)}function jE(n){n.dirty=!1,n.lastCleanEpoch=Xf}function ga(n){return n&&(n.nextProducerIndex=0),fe(n)}function Iu(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Cu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function wu(n){Du(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(HE(t),r!==t.version))return!0}return!1}function ma(n){if(Du(n),pa(n))for(let e=0;e<n.producerNode.length;e++)Cu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function qE(n,e,t){if(zE(n),n.liveConsumerNode.length===0&&WE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=qE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Cu(n,e){if(zE(n),n.liveConsumerNode.length===1&&WE(n))for(let r=0;r<n.producerNode.length;r++)Cu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Du(i),i.producerIndexOfThis[r]=e}}function pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Du(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function WE(n){return n.producerNode!==void 0}function KE(n,e){let t=Object.create(tR);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(HE(t),Eu(t),t.value===_u)throw t.error;return t.value};return r[sn]=t,r}var Yf=Symbol("UNSET"),Jf=Symbol("COMPUTING"),_u=Symbol("ERRORED"),tR=ae(L({},to),{value:Yf,dirty:!0,error:null,equal:UE,kind:"computed",producerMustRecompute(n){return n.value===Yf||n.value===Jf},producerRecomputeValue(n){if(n.value===Jf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Jf;let t=ga(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Yf&&e!==_u&&r!==_u&&n.equal(e,r)}catch(o){r=_u,n.error=o}finally{Iu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function nR(){throw new Error}var ZE=nR;function QE(n){ZE(n)}function YE(n){ZE=n}var rR=null;function JE(n,e){let t=Object.create(ep);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Eu(t),t.value);return r[sn]=t,r}function bu(n,e){GE()||QE(n),n.equal(n.value,e)||(n.value=e,iR(n))}function XE(n,e){GE()||QE(n),bu(n,e(n.value))}var ep=ae(L({},to),{equal:UE,value:void 0,kind:"signal"});function iR(n){n.version++,XM(),$E(n),rR?.()}function eI(n){let e=fe(null);try{return n()}finally{fe(e)}}var tp;function ya(){return tp}function Zn(n){let e=tp;return tp=n,e}var np=Symbol("NotFound");function ne(n){return typeof n=="function"}function no(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Au=no(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function si(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Au?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tI(o)}catch(s){e=e??[],s instanceof Au?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Au(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&si(t,e)}remove(e){let{_finalizers:t}=this;t&&si(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var rp=He.EMPTY;function Tu(n){return n instanceof He||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function tI(n){ne(n)?n():n.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(n,e,...t){let{delegate:r}=ro;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ro;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Su(n){ro.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(n);else throw n})}function va(){}var nI=ip("C",void 0,void 0);function rI(n){return ip("E",void 0,n)}function iI(n){return ip("N",n,void 0)}function ip(n,e,t){return{kind:n,value:e,error:t}}var ai=null;function io(n){if(an.useDeprecatedSynchronousErrorHandling){let e=!ai;if(e&&(ai={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ai;if(ai=null,t)throw r}}else n()}function oI(n){an.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=n)}var ci=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tu(e)&&e.add(this)):this.destination=aR}static create(e,t,r){return new Qn(e,t,r)}next(e){this.isStopped?sp(iI(e),this):this._next(e)}error(e){this.isStopped?sp(rI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sp(nI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oR=Function.prototype.bind;function op(n,e){return oR.call(n,e)}var ap=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mu(r)}else Mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mu(t)}}},Qn=class extends ci{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&op(e.next,o),error:e.error&&op(e.error,o),complete:e.complete&&op(e.complete,o)}):i=e}this.destination=new ap(i)}};function Mu(n){an.useDeprecatedSynchronousErrorHandling?oI(n):Su(n)}function sR(n){throw n}function sp(n,e){let{onStoppedNotification:t}=an;t&&ro.setTimeout(()=>t(n,e))}var aR={closed:!0,next:va,error:sR,complete:va};var oo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function Ru(...n){return cp(n)}function cp(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uR(t)?t:new Qn(t,r,i);return io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sI(r),new r((i,o)=>{let s=new Qn({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[oo](){return this}pipe(...t){return cp(t)(this)}toPromise(t){return t=sI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function sI(n){var e;return(e=n??an.Promise)!==null&&e!==void 0?e:Promise}function cR(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function uR(n){return n&&n instanceof ci||cR(n)&&Tu(n)}function up(n){return ne(n?.lift)}function pe(n){return e=>{if(up(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new lp(n,e,t,r,i)}var lp=class extends ci{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function so(){return pe((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ao=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,up(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return so()(this)}};var aI=no(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new aI}next(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rp:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,si(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new xu(e,t),n})(),xu=class extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:rp}};var lt=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _a={now(){return(_a.delegate||Date).now()},delegate:void 0};var Ea=class extends Oe{constructor(e=1/0,t=1/0,r=_a){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var Nu=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var Ia={setInterval(n,e,...t){let{delegate:r}=Ia;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ia;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var co=class extends Nu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ia.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var uo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};uo.now=_a.now;var lo=class extends uo{constructor(e,t=uo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var wa=new lo(co);var Ou=class extends co{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Pu=class extends lo{};var dp=new Pu(Ou);var vt=new re(n=>n.complete());function cI(n){return n&&ne(n.schedule)}function hp(n){return n[n.length-1]}function ku(n){return ne(hp(n))?n.pop():void 0}function Dn(n){return cI(hp(n))?n.pop():void 0}function uI(n,e){return typeof hp(n)=="number"?n.pop():e}var Fu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lu(n){return ne(n?.then)}function Vu(n){return ne(n[oo])}function ju(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=lR();function Hu(n){return ne(n?.[Bu])}function $u(n){return AE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield gu(t.read());if(i)return yield gu(void 0);yield yield gu(r)}}finally{t.releaseLock()}})}function Gu(n){return ne(n?.getReader)}function Pe(n){if(n instanceof re)return n;if(n!=null){if(Vu(n))return dR(n);if(Fu(n))return hR(n);if(Lu(n))return fR(n);if(ju(n))return lI(n);if(Hu(n))return pR(n);if(Gu(n))return gR(n)}throw Uu(n)}function dR(n){return new re(e=>{let t=n[oo]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hR(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fR(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Su)})}function pR(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function lI(n){return new re(e=>{mR(n,e).catch(t=>e.error(t))})}function gR(n){return lI($u(n))}function mR(n,e){var t,r,i,o;return bE(this,void 0,void 0,function*(){try{for(t=TE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ut(n,e=0){return pe((t,r)=>{t.subscribe(ge(r,i=>Nt(r,n,()=>r.next(i),e),()=>Nt(r,n,()=>r.complete(),e),i=>Nt(r,n,()=>r.error(i),e)))})}function zt(n,e=0){return pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function dI(n,e){return Pe(n).pipe(zt(e),Ut(e))}function hI(n,e){return Pe(n).pipe(zt(e),Ut(e))}function fI(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function pI(n,e){return new re(t=>{let r;return Nt(t,e,()=>{r=n[Bu](),Nt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function qu(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Nt(t,e,()=>{let r=n[Symbol.asyncIterator]();Nt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function gI(n,e){return qu($u(n),e)}function mI(n,e){if(n!=null){if(Vu(n))return dI(n,e);if(Fu(n))return fI(n,e);if(Lu(n))return hI(n,e);if(ju(n))return qu(n,e);if(Hu(n))return pI(n,e);if(Gu(n))return gI(n,e)}throw Uu(n)}function le(n,e){return e?mI(n,e):Pe(n)}function Q(...n){let e=Dn(n);return le(n,e)}function ho(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function fp(n){return!!n&&(n instanceof re||ne(n.lift)&&ne(n.subscribe))}var Yn=no(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return pe((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yR}=Array;function vR(n,e){return yR(e)?n(...e):n(e)}function zu(n){return J(e=>vR(n,e))}var{isArray:_R}=Array,{getPrototypeOf:ER,prototype:IR,keys:wR}=Object;function Wu(n){if(n.length===1){let e=n[0];if(_R(e))return{args:e,keys:null};if(CR(e)){let t=wR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function CR(n){return n&&typeof n=="object"&&ER(n)===IR}function Ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ca(...n){let e=Dn(n),t=ku(n),{args:r,keys:i}=Wu(n);if(r.length===0)return le([],e);let o=new re(DR(r,e,i?s=>Ku(i,s):jt));return t?o.pipe(zu(t)):o}function DR(n,e,t=jt){return r=>{yI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)yI(e,()=>{let l=le(n[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yI(n,e,t){n?Nt(t,n,e):e()}function vI(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=T=>l<r?D(T):u.push(T),D=T=>{o&&e.next(T),l++;let M=!1;Pe(t(T,h++)).subscribe(ge(e,F=>{i?.(F),o?m(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();s?Nt(e,s,()=>D(F)):D(F)}y()}catch(F){e.error(F)}}))};return n.subscribe(ge(e,m,()=>{p=!0,y()})),()=>{a?.()}}function We(n,e,t=1/0){return ne(e)?We((r,i)=>J((o,s)=>e(r,o,i,s))(Pe(n(r,i))),t):(typeof e=="number"&&(t=e),pe((r,i)=>vI(r,i,n,t)))}function Tr(n=1/0){return We(jt,n)}function _I(){return Tr(1)}function fo(...n){return _I()(le(n,Dn(n)))}function Zu(n){return new re(e=>{Pe(n()).subscribe(e)})}function pp(...n){let e=ku(n),{args:t,keys:r}=Wu(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Pe(t[h]).subscribe(ge(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(zu(e)):i}function gp(...n){let e=Dn(n),t=uI(n,1/0),r=n;return r.length?r.length===1?Pe(r[0]):Tr(t)(le(r,e)):vt}function dt(n,e){return pe((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Sr(n){return pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=Pe(n(s,Sr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function EI(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Jn(n,e){return ne(e)?We(n,e,1):We(n,1)}function mp(n,e=wa){return pe((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(ge(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Mr(n){return pe((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>vt:pe((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qu(n=bR){return pe((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bR(){return new Yn}function ui(n){return pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):jt,Xn(1),t?Mr(e):Qu(()=>new Yn))}function po(n){return n<=0?()=>vt:pe((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,o)=>n(i,o,r)):jt,po(1),t?Mr(e):Qu(()=>new Yn))}function Yu(n,e){return pe(EI(n,e,arguments.length>=2,!0))}function II(n={}){let{connector:e=()=>new Oe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,y=()=>{a?.unsubscribe(),a=void 0},m=()=>{y(),s=u=void 0,h=p=!1},D=()=>{let T=s;m(),T?.unsubscribe()};return pe((T,M)=>{l++,!p&&!h&&y();let F=u=u??e();M.add(()=>{l--,l===0&&!p&&!h&&(a=vp(D,i))}),F.subscribe(M),!s&&l>0&&(s=new Qn({next:Z=>F.next(Z),error:Z=>{p=!0,y(),a=vp(m,t,Z),F.error(Z)},complete:()=>{h=!0,y(),a=vp(m,r),F.complete()}}),Pe(T).subscribe(s))})(o)}}function vp(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Qn({next:()=>{r.unsubscribe(),n()}});return Pe(e(...t)).subscribe(r)}function Ju(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,II({connector:()=>new Ea(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xu(...n){let e=Dn(n);return pe((t,r)=>{(e?fo(n,t,e):fo(n,t)).subscribe(r)})}function ke(n,e){return pe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;Pe(n(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function el(n,e){return ne(e)?ke(()=>n,e):ke(()=>n)}function _p(n){return pe((e,t)=>{Pe(n).subscribe(ge(t,()=>t.complete(),va)),!t.closed&&e.subscribe(t)})}function rt(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var aw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(kl(e,t)),this.code=e}};function kl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var cw=Symbol("InputSignalNode#UNSET"),AR=ae(L({},ep),{transformFn:void 0,applyValueToInputSignal(n,e){bu(n,e)}});function uw(n,e){let t=Object.create(AR);t.value=n,t.transformFn=e?.transform;function r(){if(Eu(t),t.value===cw){let i=null;throw new q(-950,i)}return t.value}return r[sn]=t,r}function Va(n){return{toString:n}.toString()}var tl="__parameters__";function TR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function lw(n,e,t){return Va(()=>{let r=TR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(tl)?u[tl]:Object.defineProperty(u,tl,{value:[]})[tl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Pp=globalThis;function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function SR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function kp(n,e){return n?e?`${n} ${e}`:n:e||""}var MR=Me({__forward_ref__:Me});function Pr(n){return n.__forward_ref__=Pr,n.toString=function(){return Pt(this())},n}function At(n){return dw(n)?n():n}function dw(n){return typeof n=="function"&&n.hasOwnProperty(MR)&&n.__forward_ref__===Pr}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fl(n){return wI(n,fw)||wI(n,pw)}function hw(n){return Fl(n)!==null}function wI(n,e){return n.hasOwnProperty(e)?n[e]:null}function RR(n){let e=n&&(n[fw]||n[pw]);return e||null}function CI(n){return n&&(n.hasOwnProperty(DI)||n.hasOwnProperty(xR))?n[DI]:null}var fw=Me({\u0275prov:Me}),DI=Me({\u0275inj:Me}),pw=Me({ngInjectableDef:Me}),xR=Me({ngInjectorDef:Me}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gw(n){return n&&!!n.\u0275providers}var NR=Me({\u0275cmp:Me}),OR=Me({\u0275dir:Me}),PR=Me({\u0275pipe:Me}),kR=Me({\u0275mod:Me}),ul=Me({\u0275fac:Me}),Ta=Me({__NG_ELEMENT_ID__:Me}),bI=Me({__NG_ENV_ID__:Me});function Ll(n){return typeof n=="string"?n:n==null?"":String(n)}function FR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ll(n)}function mw(n,e){throw new q(-200,n)}function Pg(n,e){throw new q(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),Fp;function yw(){return Fp}function Wt(n){let e=Fp;return Fp=n,e}function vw(n,e,t){let r=Fl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;Pg(n,"Injector")}var LR={},li=LR,Lp="__NG_DI_FLAG__",ll=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?np:li,r)}},dl="ngTempTokenPath",VR="ngTokenPath",jR=/\n/gm,UR="\u0275",AI="__source";function BR(n,e=de.Default){if(ya()===void 0)throw new q(-203,!1);if(ya()===null)return vw(n,void 0,e);{let t=ya(),r;return t instanceof ll?r=t.injector:r=t,r.get(n,e&de.Optional?null:void 0,e)}}function H(n,e=de.Default){return(yw()||BR)(At(n),e)}function x(n,e=de.Default){return H(n,Vl(e))}function Vl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vp(n){let e=[];for(let t=0;t<n.length;t++){let r=At(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=HR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function _w(n,e){return n[Lp]=e,n.prototype[Lp]=e,n}function HR(n){return n[Lp]}function $R(n,e,t,r){let i=n[dl];throw e[AI]&&i.unshift(e[AI]),n.message=GR(`
`+n.message,i,t,r),n[VR]=i,n[dl]=null,n}function GR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==UR?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jR,`
  `)}`}var _t=_w(lw("Optional"),8);var Ew=_w(lw("SkipSelf"),4);function Io(n,e){let t=n.hasOwnProperty(ul);return t?n[ul]:null}function kg(n,e){n.forEach(t=>Array.isArray(t)?kg(t,e):e(t))}function Iw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Fg(n,e,t){let r=ja(n,e);return r>=0?n[r|1]=t:(r=~r,qR(n,r,e,t)),r}function Ep(n,e){let t=ja(n,e);if(t>=0)return n[t|1]}function ja(n,e){return zR(n,e,1)}function zR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var hi={},Ot=[],wo=new U(""),ww=new U("",-1),Cw=new U(""),fl=class{get(e,t=li){if(t===li){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}};function Dw(n,e){let t=n[kR]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function fi(n){return n[NR]||null}function WR(n){return n[OR]||null}function KR(n){return n[PR]||null}function Zt(n){return{\u0275providers:n}}function ZR(...n){return{\u0275providers:bw(!0,n),\u0275fromNgModule:!0}}function bw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return kg(e,s=>{let a=s;jp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Aw(i,o),t}function Aw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Lg(i,o=>{e(o,r)})}}function jp(n,e,t,r){if(n=At(n),!n)return!1;let i=null,o=CI(n),s=!o&&fi(n);if(!o&&!s){let u=n.ngModule;if(o=CI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{kg(o.imports,h=>{jp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Aw(l,e)}if(!a){let l=Io(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:Cw,useValue:i,multi:!0},i),e({provide:wo,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Lg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Lg(n,e){for(let t of n)gw(t)&&(t=t.\u0275providers),Array.isArray(t)?Lg(t,e):e(t)}var QR=Me({provide:String,useValue:Me});function Tw(n){return n!==null&&typeof n=="object"&&QR in n}function YR(n){return!!(n&&n.useExisting)}function JR(n){return!!(n&&n.useFactory)}function Co(n){return typeof n=="function"}function XR(n){return!!n.useClass}var jl=new U(""),il={},TI={},Ip;function Vg(){return Ip===void 0&&(Ip=new fl),Ip}var tt=class{},Sa=class extends tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Bp(e,s=>this.processProvider(s)),this.records.set(ww,go(void 0,this)),i.has("environment")&&this.records.set(tt,go(void 0,this));let o=this.records.get(jl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cw,Ot,de.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?np:li,r)}destroy(){ba(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return ba(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ba(this);let t=Zn(this),r=Wt(void 0),i;try{return e()}finally{Zn(t),Wt(r)}}get(e,t=li,r=de.Default){if(ba(this),e.hasOwnProperty(bI))return e[bI](this);r=Vl(r);let i,o=Zn(this),s=Wt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ix(e)&&Fl(e);l&&this.injectableDefInScope(l)?u=go(Up(e),il):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?Vg():this.parent;return t=r&de.Optional&&t===li?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[dl]=a[dl]||[]).unshift(Pt(e)),o)throw a;return $R(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),Zn(o)}}resolveInjectorInitializers(){let e=fe(null),t=Zn(this),r=Wt(void 0),i;try{let o=this.get(wo,Ot,de.Self);for(let s of o)s()}finally{Zn(t),Wt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=At(e);let t=Co(e)?e:At(e&&e.provide),r=tx(e);if(!Co(e)&&e.multi===!0){let i=this.records.get(t);i||(i=go(void 0,il,!0),i.factory=()=>Vp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=fe(null);try{return t.value===TI?mw(Pt(e)):t.value===il&&(t.value=TI,t.value=t.factory()),typeof t.value=="object"&&t.value&&rx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=At(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Up(n){let e=Fl(n),t=e!==null?e.factory:Io(n);if(t!==null)return t;if(n instanceof U)throw new q(204,!1);if(n instanceof Function)return ex(n);throw new q(204,!1)}function ex(n){if(n.length>0)throw new q(204,!1);let t=RR(n);return t!==null?()=>t.factory(n):()=>new n}function tx(n){if(Tw(n))return go(void 0,n.useValue);{let e=Sw(n);return go(e,il)}}function Sw(n,e,t){let r;if(Co(n)){let i=At(n);return Io(i)||Up(i)}else if(Tw(n))r=()=>At(n.useValue);else if(JR(n))r=()=>n.useFactory(...Vp(n.deps||[]));else if(YR(n))r=()=>H(At(n.useExisting));else{let i=At(n&&(n.useClass||n.provide));if(nx(n))r=()=>new i(...Vp(n.deps));else return Io(i)||Up(i)}return r}function ba(n){if(n.destroyed)throw new q(205,!1)}function go(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nx(n){return!!n.deps}function rx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ix(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function Bp(n,e){for(let t of n)Array.isArray(t)?Bp(t,e):t&&gw(t)?Bp(t.\u0275providers,e):e(t)}function ot(n,e){let t;n instanceof Sa?(ba(n),t=n):t=new ll(n);let r,i=Zn(t),o=Wt(void 0);try{return e()}finally{Zn(i),Wt(o)}}function Mw(){return yw()!==void 0||ya()!=null}function Ua(n){if(!Mw())throw new q(-203,!1)}function ox(n){return typeof n=="function"}var ir=0,ye=1,ie=2,St=3,dn=4,pn=5,Ma=6,pl=7,et=8,Ra=9,er=10,nt=11,xa=12,SI=13,xo=14,hn=15,Do=16,mo=17,bo=18,Ul=19,Rw=20,Rr=21,wp=22,pi=23,Kt=24,_o=25,kt=26,xw=1;var gi=7,gl=8,ml=9,Tt=10;function xr(n){return Array.isArray(n)&&typeof n[xw]=="object"}function or(n){return Array.isArray(n)&&n[xw]===!0}function jg(n){return(n.flags&4)!==0}function No(n){return n.componentOffset>-1}function Bl(n){return(n.flags&1)===1}function An(n){return!!n.template}function yl(n){return(n[ie]&512)!==0}function Ba(n){return(n[ie]&256)===256}var Hp=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Nw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var kr=(()=>{let n=()=>Ow;return n.ngInherit=!0,n})();function Ow(n){return n.type.prototype.ngOnChanges&&(n.setInput=ax),sx}function sx(){let n=kw(this),e=n?.current;if(e){let t=n.previous;if(t===hi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ax(n,e,t,r,i){let o=this.declaredInputs[r],s=kw(n)||cx(n,{previous:hi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hp(l&&l.currentValue,t,u===hi),Nw(n,e,i,t)}var Pw="__ngSimpleChanges__";function kw(n){return n[Pw]||null}function cx(n,e){return n[Pw]=e}var MI=null;var Ae=function(n,e=null,t){MI?.(n,e,t)},Fw="svg",ux="math";function Tn(n){for(;Array.isArray(n);)n=n[ir];return n}function Lw(n,e){return Tn(e[n])}function xn(n,e){return Tn(e[n.index])}function Ug(n,e){return n.data[e]}function lx(n,e){return n[e]}function Sn(n,e){let t=e[n];return xr(t)?t:t[ir]}function Bg(n){return(n[ie]&128)===128}function dx(n){return or(n[St])}function Nr(n,e){return e==null?null:n[e]}function Vw(n){n[mo]=0}function jw(n){n[ie]&1024||(n[ie]|=1024,Bg(n)&&Oo(n))}function hx(n,e){for(;n>0;)e=e[xo],n--;return e}function Hl(n){return!!(n[ie]&9216||n[Kt]?.dirty)}function $p(n){n[er].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),Hl(n)&&Oo(n)}function Oo(n){n[er].changeDetectionScheduler?.notify(0);let e=mi(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Bg(e)));)e=mi(e)}function Uw(n,e){if(Ba(n))throw new q(911,!1);n[Rr]===null&&(n[Rr]=[]),n[Rr].push(e)}function fx(n,e){if(n[Rr]===null)return;let t=n[Rr].indexOf(e);t!==-1&&n[Rr].splice(t,1)}function mi(n){let e=n[St];return or(e)?e[St]:e}function px(n){return n[pl]??=[]}function gx(n){return n.cleanup??=[]}var ue={lFrame:Kw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gp=!1;function mx(){return ue.lFrame.elementDepthCount}function yx(){ue.lFrame.elementDepthCount++}function vx(){ue.lFrame.elementDepthCount--}function Hg(){return ue.bindingsEnabled}function _x(){return ue.skipHydrationRootTNode!==null}function Ex(n){return ue.skipHydrationRootTNode===n}function Ix(){ue.skipHydrationRootTNode=null}function Ce(){return ue.lFrame.lView}function Mt(){return ue.lFrame.tView}function gn(n){return ue.lFrame.contextLView=n,n[et]}function mn(n){return ue.lFrame.contextLView=null,n}function Ft(){let n=Bw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Bw(){return ue.lFrame.currentTNode}function wx(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ei(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function $g(){return ue.lFrame.isParent}function Hw(){ue.lFrame.isParent=!1}function Cx(){return ue.lFrame.contextLView}function $w(){return Gp}function vl(n){let e=Gp;return Gp=n,e}function Dx(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function bx(n){return ue.lFrame.bindingIndex=n}function Ha(){return ue.lFrame.bindingIndex++}function Gw(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ax(){return ue.lFrame.inI18n}function Tx(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,qp(e)}function Sx(){return ue.lFrame.currentDirectiveIndex}function qp(n){ue.lFrame.currentDirectiveIndex=n}function Mx(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qw(n){ue.lFrame.currentQueryIndex=n}function Rx(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[pn]:null}function zw(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=Rx(o),i===null||(o=o[xo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ue.lFrame=Ww();return r.currentTNode=e,r.lView=n,!0}function Gg(n){let e=Ww(),t=n[ye];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ww(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?Kw(n):e}function Kw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Zw(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Qw=Zw;function qg(){let n=Zw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xx(n){return(ue.lFrame.contextLView=hx(n,ue.lFrame.contextLView))[et]}function Fr(){return ue.lFrame.selectedIndex}function yi(n){ue.lFrame.selectedIndex=n}function Yw(){let n=ue.lFrame;return Ug(n.tView,n.selectedIndex)}function Qt(){ue.lFrame.currentNamespace=Fw}function Lr(){Nx()}function Nx(){ue.lFrame.currentNamespace=null}function Ox(){return ue.lFrame.currentNamespace}var Jw=!0;function $l(){return Jw}function Gl(n){Jw=n}function Px(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ow(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function zg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ol(n,e,t){Xw(n,e,3,t)}function sl(n,e,t,r){(n[ie]&3)===t&&Xw(n,e,t,r)}function Cp(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function Xw(n,e,t,r){let i=r!==void 0?n[mo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[mo]+=65536),(a<o||o==-1)&&(kx(n,t,e,u),n[mo]=(n[mo]&4294901760)+u+2),u++}function RI(n,e){Ae(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Ae(5,n,e)}}function kx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ie]>>14<n[mo]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,RI(a,o)):RI(a,o)}var Eo=-1,vi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Fx(n){return(n.flags&8)!==0}function Lx(n){return(n.flags&16)!==0}function Vx(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];jx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function e1(n){return n===3||n===4||n===6}function jx(n){return n.charCodeAt(0)===64}function Ao(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?xI(n,t,i,null,e[++r]):xI(n,t,i,null,null))}}return n}function xI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}var Dp={},zp=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vl(r);let i=this.injector.get(e,Dp,r);return i!==Dp||t===Dp?i:this.parentInjector.get(e,t,r)}};function t1(n){return n!==Eo}function _l(n){return n&32767}function Ux(n){return n>>16}function El(n,e){let t=Ux(n),r=e;for(;t>0;)r=r[xo],t--;return r}var Wp=!0;function NI(n){let e=Wp;return Wp=n,e}var Bx=256,n1=Bx-1,r1=5,Hx=0,bn={};function $x(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ta)&&(r=t[Ta]),r==null&&(r=t[Ta]=Hx++);let i=r&n1,o=1<<i;e.data[n+(i>>r1)]|=o}function Il(n,e){let t=i1(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,bp(r.data,n),bp(e,null),bp(r.blueprint,null));let i=Wg(n,e),o=n.injectorIndex;if(t1(i)){let s=_l(i),a=El(i,e),u=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function bp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function i1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=u1(i),r===null)return Eo;if(t++,i=i[xo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Eo}function Kp(n,e,t){$x(n,e,t)}function Gx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(e1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function o1(n,e,t){if(t&de.Optional||n!==void 0)return n;Pg(e,"NodeInjector")}function s1(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),(t&(de.Self|de.Host))===0){let i=n[Ra],o=Wt(void 0);try{return i?i.get(e,r,t&de.Optional):vw(e,r,t&de.Optional)}finally{Wt(o)}}return o1(r,e,t)}function a1(n,e,t,r=de.Default,i){if(n!==null){if(e[ie]&2048&&!(r&de.Self)){let s=Zx(n,e,t,r,bn);if(s!==bn)return s}let o=c1(n,e,t,r,bn);if(o!==bn)return o}return s1(e,t,r,i)}function c1(n,e,t,r,i){let o=Wx(t);if(typeof o=="function"){if(!zw(e,n,r))return r&de.Host?o1(i,t,r):s1(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))Pg(t);else return s}finally{Qw()}}else if(typeof o=="number"){let s=null,a=i1(n,e),u=Eo,l=r&de.Host?e[hn][pn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?Wg(n,e):e[a+8],u===Eo||!PI(r,!1)?a=-1:(s=e[ye],a=_l(u),e=El(u,e)));a!==-1;){let h=e[ye];if(OI(o,a,h.data)){let p=qx(a,e,t,s,r,l);if(p!==bn)return p}u=e[a+8],u!==Eo&&PI(r,e[ye].data[a+8]===l)&&OI(o,a,e)?(s=h,a=_l(u),e=El(u,e)):a=-1}}return i}function qx(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],u=r==null?No(a)&&Wp:r!=s&&(a.type&3)!==0,l=i&de.Host&&o===a,h=zx(a,s,t,u,l);return h!==null?wl(e,s,h,a):bn}function zx(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let D=s[m];if(m<u&&t===D||m>=u&&D.type===t)return m}if(i){let m=s[u];if(m&&An(m)&&m.type===t)return u}return null}function wl(n,e,t,r){let i=n[t],o=e.data;if(i instanceof vi){let s=i;s.resolving&&mw(FR(o[t]));let a=NI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Wt(s.injectImpl):null,h=zw(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Px(t,o[t],e)}finally{l!==null&&Wt(l),NI(a),s.resolving=!1,Qw()}}return i}function Wx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ta)?n[Ta]:void 0;return typeof e=="number"?e>=0?e&n1:Kx:e}function OI(n,e,t){let r=1<<n;return!!(t[e+(n>>r1)]&r)}function PI(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var di=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return a1(this._tNode,this._lView,e,Vl(r),t)}};function Kx(){return new di(Ft(),Ce())}function Ii(n){return Va(()=>{let e=n.prototype.constructor,t=e[ul]||Zp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ul]||Zp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Zp(n){return dw(n)?()=>{let e=Zp(At(n));return e&&e()}:Io(n)}function Zx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!yl(s);){let a=c1(o,s,t,r|de.Self,bn);if(a!==bn)return a;let u=o.parent;if(!u){let l=s[Rw];if(l){let h=l.get(t,bn,r);if(h!==bn)return h}u=u1(s),s=s[xo]}o=u}return i}function u1(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[pn]:null}function Kg(n){return Gx(Ft(),n)}function kI(n,e=null,t=null,r){let i=l1(n,e,t,r);return i.resolveInjectorInitializers(),i}function l1(n,e=null,t=null,r,i=new Set){let o=[t||Ot,ZR(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new Sa(o,e||Vg(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=li;static NULL=new fl;static create(e,t){if(Array.isArray(e))return kI({name:""},t,e,"");{let r=e.name??"";return kI({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>H(ww)});static __NG_ELEMENT_ID__=-1};var Qx=new U("");Qx.__NG_ELEMENT_ID__=n=>{let e=Ft();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new q(204,!1)};var d1=!1,wi=(()=>{class n{static __NG_ELEMENT_ID__=Yx;static __NG_ENV_ID__=t=>t}return n})(),Cl=class extends wi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Uw(this._lView,e),()=>fx(this._lView,e)}};function Yx(){return new Cl(Ce())}var Or=class{},ql=new U("",{providedIn:"root",factory:()=>!1});var h1=new U(""),f1=new U(""),sr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),zl=(()=>{class n{internalPendingTasks=x(sr);scheduler=x(Or);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return j(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qp=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Mw()&&(this.destroyRef=x(wi,{optional:!0})??void 0,this.pendingTasks=x(sr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},it=Qp;function Na(...n){}function p1(n){let e,t;function r(){n=Na;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function FI(n){return queueMicrotask(()=>n()),()=>{n=Na}}var Zg="isAngularZone",Dl=Zg+"_ID",Jx=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new it(!1);onMicrotaskEmpty=new it(!1);onStable=new it(!1);onError=new it(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=d1}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Xx,Na,Na);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Xx={};function Qg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){p1(()=>{n.callbackScheduled=!1,Yp(n),n.isCheckStableRunning=!0,Qg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Yp(n)}function tN(n){let e=()=>{eN(n)},t=Jx++;n._inner=n._inner.fork({name:"angular",properties:{[Zg]:!0,[Dl]:t,[Dl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(nN(u))return r.invokeTask(o,s,a,u);try{return LI(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),VI(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LI(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rN(u)&&e(),VI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Yp(n),Qg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Yp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VI(n){n._nesting--,Qg(n)}var Jp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new it;onMicrotaskEmpty=new it;onStable=new it;onError=new it;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function nN(n){return g1(n,"__ignore_ng_zone__")}function rN(n){return g1(n,"__scheduler_tick__")}function g1(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var tr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},iN=new U("",{providedIn:"root",factory:()=>{let n=x(Ee),e=x(tr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function jI(n,e){return uw(n,e)}function oN(n){return uw(cw,n)}var m1=(jI.required=oN,jI);function sN(){return Wl(Ft(),Ce())}function Wl(n,e){return new Yt(xn(n,e))}var Yt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=sN}return n})();function Et(n,e){let t=JE(n,e?.equal),r=t[sn];return t.set=i=>bu(r,i),t.update=i=>XE(r,i),t.asReadonly=aN.bind(t),t}function aN(){let n=this[sn];if(n.readonlyFn===void 0){let e=()=>this();e[sn]=n,n.readonlyFn=e}return n.readonlyFn}function y1(n){return(n.flags&128)===128}var v1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(v1||{}),_1=new Map,cN=0;function uN(){return cN++}function lN(n){_1.set(n[Ul],n)}function Xp(n){_1.delete(n[Ul])}var UI="__ngContext__";function Po(n,e){xr(e)?(n[UI]=e[Ul],lN(e)):n[UI]=e}function E1(n){return w1(n[xa])}function I1(n){return w1(n[dn])}function w1(n){for(;n!==null&&!or(n);)n=n[dn];return n}var eg;function C1(n){eg=n}function dN(){if(eg!==void 0)return eg;if(typeof document<"u")return document;throw new q(210,!1)}var Yg=new U("",{providedIn:"root",factory:()=>hN}),hN="ng",Jg=new U(""),Jt=new U("",{providedIn:"platform",factory:()=>"unknown"});var Xg=new U("",{providedIn:"root",factory:()=>dN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fN="h",pN="b";var D1=!1,gN=new U("",{providedIn:"root",factory:()=>D1});var em=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(em||{}),ko=new U(""),BI=new Set;function Ci(n){BI.has(n)||(BI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var tm=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=mN}return n})();function mN(){return new tm(Ce(),Ft())}var yo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yo||{}),b1=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),yN=[yo.EarlyRead,yo.Write,yo.MixedReadWrite,yo.Read],vN=(()=>{class n{ngZone=x(Ee);scheduler=x(Or);errorHandler=x(tr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(ko,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ae(16),this.executing=!0;for(let r of yN)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ae(17)}register(t){let{view:r}=t;r!==void 0?((r[_o]??=[]).push(t),Oo(r),r[ie]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(em.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),tg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_o];e&&(this.view[_o]=e.filter(t=>t!==this))}};function nm(n,e){!e?.injector&&Ua(nm);let t=e?.injector??x(Le);return Ci("NgAfterNextRender"),EN(n,t,e,!0)}function _N(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function EN(n,e,t,r){let i=e.get(b1);i.impl??=e.get(vN);let o=e.get(ko,null,{optional:!0}),s=t?.phase??yo.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(wi):null,u=e.get(tm,null,{optional:!0}),l=new tg(i.impl,_N(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var IN=()=>null;function A1(n,e,t=!1){return IN(n,e,t)}function T1(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];qw(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function ng(n,e,t){qw(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function rm(n,e,t){if(jg(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});var nl;function wN(){if(nl===void 0&&(nl=null,Pp.trustedTypes))try{nl=Pp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nl}function HI(n){return wN()?.createScriptURL(n)||n}var bl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aw})`}};function Fo(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function im(n,e){let t=CN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${aw})`)}return t===e}function CN(n){return n instanceof bl&&n.getTypeName()||null}var DN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function S1(n){return n=String(n),n.match(DN)?n:"unsafe:"+n}var Kl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kl||{});function bN(n){let e=R1();return e?e.sanitize(Kl.URL,n)||"":im(n,"URL")?Fo(n):S1(Ll(n))}function AN(n){let e=R1();if(e)return HI(e.sanitize(Kl.RESOURCE_URL,n)||"");if(im(n,"ResourceURL"))return HI(Fo(n));throw new q(904,!1)}function TN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?AN:bN}function M1(n,e,t){return TN(e,t)(n)}function R1(){let n=Ce();return n&&n[er].sanitizer}var SN=/^>|^->|<!--|-->|--!>|<!-$/g,MN=/(<|>)/g,RN="\u200B$1\u200B";function xN(n){return n.replace(SN,e=>e.replace(MN,RN))}function x1(n){return n instanceof Function?n():n}function NN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var N1="ng-template";function ON(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(om(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function om(n){return n.type===4&&n.value!==N1}function PN(n,e,t){let r=n.type===4&&!t?N1:n.value;return e===r}function kN(n,e,t){let r=4,i=n.attrs,o=i!==null?VN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PN(n,u,t)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!ON(n,i,u,t)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=FN(u,i,om(n),t);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(n){return(n&1)===0}function FN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jN(e,n)}function LN(n,e,t=!1){for(let r=0;r<e.length;r++)if(kN(n,e[r],t))return!0;return!1}function VN(n){for(let e=0;e<n.length;e++){let t=n[e];if(e1(t))return e}return n.length}function jN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $I(n,e){return n?":not("+e.trim()+")":e}function UN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=$I(o,i),i=""),r=s,o=o||!un(r);t++}return i!==""&&(e+=$I(o,i)),e}function BN(n){return n.map(UN).join(",")}function HN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!un(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Nn={};function $N(n,e){return n.createText(e)}function GN(n,e,t){n.setValue(e,t)}function qN(n,e){return n.createComment(xN(e))}function O1(n,e,t){return n.createElement(e,t)}function Al(n,e,t,r,i){n.insertBefore(e,t,r,i)}function P1(n,e,t){n.appendChild(e,t)}function GI(n,e,t,r,i){r!==null?Al(n,e,t,r,i):P1(n,e,t)}function zN(n,e,t){n.removeChild(null,e,t)}function WN(n,e,t){n.setAttribute(e,"style",t)}function KN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function k1(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Vx(n,e,r),i!==null&&KN(n,e,i),o!==null&&WN(n,e,o)}function sm(n,e,t,r,i,o,s,a,u,l,h){let p=kt+r,y=p+i,m=ZN(p,y),D=typeof l=="function"?l():l;return m[ye]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function ZN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Nn);return t}function QN(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function am(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[ir]=i,p[ie]=r|4|128|8|64|1024,(l!==null||n&&n[ie]&2048)&&(p[ie]|=2048),Vw(p),p[St]=p[xo]=n,p[et]=t,p[er]=s||n&&n[er],p[nt]=a||n&&n[nt],p[Ra]=u||n&&n[Ra]||null,p[pn]=o,p[Ul]=uN(),p[Ma]=h,p[Rw]=l,p[hn]=e.type==2?n[hn]:p,p}function YN(n,e,t){let r=xn(e,n),i=QN(t),o=n[er].rendererFactory,s=cm(n,am(n,i,null,F1(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function F1(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function L1(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cm(n,e){return n[xa]?n[SI][dn]=e:n[xa]=e,n[SI]=e,e}function G(n=1){V1(Mt(),Ce(),Fr()+n,!1)}function V1(n,e,t,r){if(!r)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ol(e,o,t)}else{let o=n.preOrderHooks;o!==null&&sl(e,o,0,t)}yi(t)}var Zl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Zl||{});function rg(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Zl.SignalBased)!==0&&(u=e[o][sn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Nw(e,u,o,r)}finally{fe(i)}}function j1(n,e,t,r,i){let o=Fr(),s=r&2;try{yi(-1),s&&e.length>kt&&V1(n,e,kt,!1),Ae(s?2:0,i),t(r,i)}finally{yi(o),Ae(s?3:1,i)}}function Ql(n,e,t){iO(n,e,t),(t.flags&64)===64&&oO(n,e,t)}function um(n,e,t=xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function JN(n,e,t,r){let o=r.get(gN,D1)||t===Mn.ShadowDom,s=n.selectRootElement(e,o);return XN(s),s}function XN(n){eO(n)}var eO=()=>null;function tO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nO(n,e,t,r,i,o,s,a){if(!a&&dm(e,n,t,r,i)){No(e)&&rO(t,e.index);return}if(e.type&3){let u=xn(e,t);r=tO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function rO(n,e){let t=Sn(e,n);t[ie]&16||(t[ie]|=64)}function iO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;No(t)&&YN(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Il(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=wl(e,n,s,t);if(Po(u,e),o!==null&&uO(e,s-r,u,a,t,o),An(a)){let l=Sn(t.index,e);l[et]=wl(e,n,s,t)}}}function oO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Sx();try{yi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];qp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sO(u,l)}}finally{yi(-1),qp(s)}}function sO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];LN(e,o.selectors,!1)&&(r??=[],An(o)?r.unshift(o):r.push(o))}return r}function aO(n,e,t,r,i,o){let s=xn(n,e);cO(e[nt],s,o,n.value,t,r,i)}function cO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ll(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function uO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];rg(r,t,u,l)}}function U1(n,e){let t=n[Ra],r=t?t.get(tr,null):null;r&&r.handleError(e)}function dm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];rg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];rg(h,l,r,i),a=!0}return a}function lO(n,e){let t=Sn(e,n),r=t[ye];dO(r,t);let i=t[ir];i!==null&&t[Ma]===null&&(t[Ma]=A1(i,t[Ra])),Ae(18),hm(r,t,t[et]),Ae(19,t[et])}function dO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function hm(n,e,t){Gg(e);try{let r=n.viewQuery;r!==null&&ng(1,r,t);let i=n.template;i!==null&&j1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bo]?.finishViewCreation(n),n.staticContentQueries&&T1(n,e),n.staticViewQueries&&ng(2,n.viewQuery,t);let o=n.components;o!==null&&hO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,qg()}}function hO(n,e){for(let t=0;t<e.length;t++)lO(n,e[t])}function Yl(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ie]&4096?4096:16,u=am(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Do]=l;let h=n[bo];return h!==null&&(u[bo]=h.createEmbeddedView(o)),hm(o,u,t),u}finally{fe(i)}}function Oa(n,e){return!e||e.firstChild===null||y1(n)}var fO;function fm(n,e){return fO(n,e)}var Rn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Rn||{});function B1(n){return(n.flags&32)===32}function vo(n,e,t,r,i){if(r!=null){let o,s=!1;or(r)?o=r:xr(r)&&(s=!0,r=r[ir]);let a=Tn(r);n===0&&t!==null?i==null?P1(e,t,a):Al(e,t,a,i||null,!0):n===1&&t!==null?Al(e,t,a,i||null,!0):n===2?zN(e,a,s):n===3&&e.destroyNode(a),o!=null&&bO(e,n,o,t,i)}}function pO(n,e){H1(n,e),e[ir]=null,e[pn]=null}function gO(n,e,t,r,i,o){r[ir]=i,r[pn]=e,ed(n,r,t,1,i,o)}function H1(n,e){e[er].changeDetectionScheduler?.notify(9),ed(n,e,e[nt],2,null,null)}function mO(n){let e=n[xa];if(!e)return Ap(n[ye],n);for(;e;){let t=null;if(xr(e))t=e[xa];else{let r=e[Tt];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)xr(e)&&Ap(e[ye],e),e=e[St];e===null&&(e=n),xr(e)&&Ap(e[ye],e),t=e&&e[dn]}e=t}}function pm(n,e){let t=n[ml],r=t.indexOf(e);t.splice(r,1)}function Jl(n,e){if(Ba(e))return;let t=e[nt];t.destroyNode&&ed(n,e,t,3,null,null),mO(e)}function Ap(n,e){if(Ba(e))return;let t=fe(null);try{e[ie]&=-129,e[ie]|=256,e[Kt]&&ma(e[Kt]),vO(n,e),yO(n,e),e[ye].type===1&&e[nt].destroy();let r=e[Do];if(r!==null&&or(e[St])){r!==e[St]&&pm(r,e);let i=e[bo];i!==null&&i.detachView(n)}Xp(e)}finally{fe(t)}}function yO(n,e){let t=n.cleanup,r=e[pl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[pl]=null);let i=e[Rr];if(i!==null){e[Rr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[pi];if(o!==null){e[pi]=null;for(let s of o)s.destroy()}}function vO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof vi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ae(4,a,u);try{u.call(a)}finally{Ae(5,a,u)}}else{Ae(4,i,o);try{o.call(i)}finally{Ae(5,i,o)}}}}}function _O(n,e,t){return EO(n,e.parent,t)}function EO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ir];if(No(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return xn(r,t)}function IO(n,e,t){return CO(n,e,t)}function wO(n,e,t){return n.type&40?xn(n,t):null}var CO=wO,qI;function Xl(n,e,t,r){let i=_O(n,r,e),o=e[nt],s=r.parent||e[pn],a=IO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)GI(o,i,t[u],a,!1);else GI(o,i,t,a,!1);qI!==void 0&&qI(o,r,e,t,i)}function Aa(n,e){if(e!==null){let t=e.type;if(t&3)return xn(e,n);if(t&4)return ig(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Aa(n,r);{let i=n[e.index];return or(i)?ig(-1,i):Tn(i)}}else{if(t&128)return Aa(n,e.next);if(t&32)return fm(e,n)()||Tn(n[e.index]);{let r=$1(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mi(n[hn]);return Aa(i,r)}else return Aa(n,e.next)}}}return null}function $1(n,e){if(e!==null){let r=n[hn][pn],i=e.projection;return r.projection[i]}return null}function ig(n,e){let t=Tt+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return Aa(r,i)}return e[gi]}function gm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Po(Tn(a),r),t.flags|=2),!B1(t))if(u&8)gm(n,e,t.child,r,i,o,!1),vo(e,n,i,a,o);else if(u&32){let l=fm(t,r),h;for(;h=l();)vo(e,n,i,h,o);vo(e,n,i,a,o)}else u&16?DO(n,e,r,t,i,o):vo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ed(n,e,t,r,i,o){gm(t,r,n.firstChild,e,i,o,!1)}function DO(n,e,t,r,i,o){let s=t[hn],u=s[pn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];vo(e,n,i,h,o)}else{let l=u,h=s[St];y1(r)&&(l.flags|=128),gm(n,e,l,h,i,o,!0)}}function bO(n,e,t,r,i){let o=t[gi],s=Tn(t);o!==s&&vo(e,n,r,o,i);for(let a=Tt;a<t.length;a++){let u=t[a];ed(u[ye],u,n,e,r,o)}}function AO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Rn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rn.Important),n.setStyle(t,r,i,o))}}function Tl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Tn(o)),or(o)&&TO(o,r);let s=t.type;if(s&8)Tl(n,e,t.child,r);else if(s&32){let a=fm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=$1(e,t);if(Array.isArray(a))r.push(...a);else{let u=mi(e[hn]);Tl(u[ye],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function TO(n,e){for(let t=Tt;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Tl(r[ye],r,i,e)}n[gi]!==n[ir]&&e.push(n[gi])}function G1(n){if(n[_o]!==null){for(let e of n[_o])e.impl.addSequence(e);n[_o].length=0}}var q1=[];function SO(n){return n[Kt]??MO(n)}function MO(n){let e=q1.pop()??Object.create(xO);return e.lView=n,e}function RO(n){n.lView[Kt]!==n&&(n.lView=null,q1.push(n))}var xO=ae(L({},to),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Oo(n.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function NO(n){let e=n[Kt]??Object.create(OO);return e.lView=n,e}var OO=ae(L({},to),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=mi(n.lView);for(;e&&!z1(e[ye]);)e=mi(e);e&&jw(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function z1(n){return n.type!==2}function W1(n){if(n[pi]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[pi])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ie]&8192)}}var PO=100;function K1(n,e=!0,t=0){let i=n[er].rendererFactory,o=!1;o||i.begin?.();try{kO(n,t)}catch(s){throw e&&U1(n,s),s}finally{o||i.end?.()}}function kO(n,e){let t=$w();try{vl(!0),og(n,e);let r=0;for(;Hl(n);){if(r===PO)throw new q(103,!1);r++,og(n,1)}}finally{vl(t)}}function FO(n,e,t,r){if(Ba(e))return;let i=e[ie],o=!1,s=!1;Gg(e);let a=!0,u=null,l=null;o||(z1(n)?(l=SO(e),u=ga(l)):BE()===null?(a=!1,l=NO(e),u=ga(l)):e[Kt]&&(ma(e[Kt]),e[Kt]=null));try{Vw(e),bx(n.bindingStartIndex),t!==null&&j1(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&ol(e,m,null)}else{let m=n.preOrderHooks;m!==null&&sl(e,m,0,null),Cp(e,0)}if(s||LO(e),W1(e),Z1(e,0),n.contentQueries!==null&&T1(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&ol(e,m)}else{let m=n.contentHooks;m!==null&&sl(e,m,1),Cp(e,1)}jO(n,e);let p=n.components;p!==null&&Y1(e,p,0);let y=n.viewQuery;if(y!==null&&ng(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&ol(e,m)}else{let m=n.viewHooks;m!==null&&sl(e,m,2),Cp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[wp]){for(let m of e[wp])m();e[wp]=null}o||(G1(e),e[ie]&=-73)}catch(h){throw o||Oo(e),h}finally{l!==null&&(Iu(l,u),a&&RO(l)),qg()}}function Z1(n,e){for(let t=E1(n);t!==null;t=I1(t))for(let r=Tt;r<t.length;r++){let i=t[r];Q1(i,e)}}function LO(n){for(let e=E1(n);e!==null;e=I1(e)){if(!(e[ie]&2))continue;let t=e[ml];for(let r=0;r<t.length;r++){let i=t[r];jw(i)}}}function VO(n,e,t){Ae(18);let r=Sn(e,n);Q1(r,t),Ae(19,r[et])}function Q1(n,e){Bg(n)&&og(n,e)}function og(n,e){let r=n[ye],i=n[ie],o=n[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wu(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)FO(r,n,r.template,n[et]);else if(i&8192){W1(n),Z1(n,1);let a=r.components;a!==null&&Y1(n,a,1),G1(n)}}function Y1(n,e,t){for(let r=0;r<e.length;r++)VO(n,e[r],t)}function jO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)yi(~i);else{let o=i,s=t[++r],a=t[++r];Tx(s,o);let u=e[o];Ae(24,u),a(2,u),Ae(25,u)}}}finally{yi(-1)}}function mm(n,e){let t=$w()?64:1088;for(n[er].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=mi(n);if(yl(n)&&!r)return n;n=r}return null}function J1(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function X1(n,e){let t=Tt+e;if(t<n.length)return n[t]}function td(n,e,t,r=!0){let i=e[ye];if(UO(i,e,n,t),r){let s=ig(t,n),a=e[nt],u=a.parentNode(n[gi]);u!==null&&gO(i,n[pn],a,e,u,s)}let o=e[Ma];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function eC(n,e){let t=Pa(n,e);return t!==void 0&&Jl(t[ye],t),t}function Pa(n,e){if(n.length<=Tt)return;let t=Tt+e,r=n[t];if(r){let i=r[Do];i!==null&&i!==n&&pm(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=hl(n,Tt+e);pO(r[ye],r);let s=o[bo];s!==null&&s.detachView(o[ye]),r[St]=null,r[dn]=null,r[ie]&=-129}return r}function UO(n,e,t,r){let i=Tt+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-Tt?(e[dn]=t[i],Iw(t,Tt+r,e)):(t.push(e),e[dn]=null),e[St]=t;let s=e[Do];s!==null&&t!==s&&tC(s,e);let a=e[bo];a!==null&&a.insertView(n),$p(e),e[ie]|=128}function tC(n,e){let t=n[ml],r=e[St];if(xr(r))n[ie]|=2;else{let i=r[St][hn];e[hn]!==i&&(n[ie]|=2)}t===null?n[ml]=[e]:t.push(e)}var ka=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ye];return Tl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return Ba(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(or(e)){let t=e[gl],r=t?t.indexOf(this):-1;r>-1&&(Pa(e,r),hl(t,r))}this._attachedToViewContainer=!1}Jl(this._lView[ye],this._lView)}onDestroy(e){Uw(this._lView,e)}markForCheck(){mm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){$p(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,K1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=yl(this._lView),t=this._lView[Do];t!==null&&!e&&pm(t,this._lView),H1(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=yl(this._lView),r=this._lView[Do];r!==null&&!t&&tC(r,this._lView),$p(this._lView)}};var nd=(()=>{class n{static __NG_ELEMENT_ID__=$O}return n})(),BO=nd,HO=class extends BO{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Yl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ka(i)}};function $O(){return nC(Ft(),Ce())}function nC(n,e){return n.type&4?new HO(e,n,Wl(n,e)):null}function rd(n,e,t,r,i){let o=n.data[e];if(o===null)o=GO(n,e,t,r,i),Ax()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ei(o,!0),o}function GO(n,e,t,r,i){let o=Bw(),s=$g(),a=s?o:o&&o.parent,u=n.data[e]=zO(n,a,t,e,r,i);return qO(n,u,o,s),u}function qO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function zO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _x()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var u$=new RegExp(`^(\\d+)*(${pN}|${fN})*(.*)`);var WO=()=>null;function Fa(n,e){return WO(n,e)}var KO=class{},rC=class{},sg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Pt(e)}.`)}},id=class{static NULL=new sg},To=class{},yn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>ZO()}return n})();function ZO(){let n=Ce(),e=Ft(),t=Sn(e.index,n);return(xr(t)?t:n)[nt]}var QO=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();function ag(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=kp(i,a);else if(o==2){let u=a,l=e[++s];r=kp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function K(n,e=de.Default){let t=Ce();if(t===null)return H(n,e);let r=Ft();return a1(r,t,At(n),e)}function iC(){let n="invalid";throw new Error(n)}function ym(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=JO(s);h===null?a=s:[a,u,l]=h,tP(n,e,t,a,o,u,l)}o!==null&&r!==null&&YO(t,r,o)}function YO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function JO(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&An(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,XO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function XO(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function eP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tP(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&An(m)&&(u=!0,eP(n,t,y)),Kp(Il(t,e),n,m.type)}aP(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=L1(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=Ao(t.mergedAttrs,m.hostAttrs),rP(n,t,e,p,m),sP(p,m,i),s!==null&&s.has(m)){let[T,M]=s.get(m);t.directiveToIndex.set(m.type,[p,T+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}nP(n,t,o)}function nP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))zI(0,e,i,r),zI(1,e,i,r),KI(e,r,!1);else{let o=t.get(i);WI(0,e,o,r),WI(1,e,o,r),KI(e,r,!0)}}}function zI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),oC(e,o)}}function WI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),oC(e,s)}}function oC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function KI(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||om(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function rP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Io(i.type,!0)),s=new vi(o,An(i),K);n.blueprint[r]=s,t[r]=s,iP(n,e,r,L1(n,t,i.hostVars,Nn),i)}function iP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oP(s)!=a&&s.push(a),s.push(t,r,o)}}function oP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;An(e)&&(t[""]=n)}}function aP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sC(n,e,t,r,i,o,s,a){let u=e.consts,l=Nr(u,s),h=rd(e,n,2,r,l);return o&&ym(e,t,h,Nr(u,a),i),h.mergedAttrs=Ao(h.mergedAttrs,h.attrs),h.attrs!==null&&ag(h,h.attrs,!1),h.mergedAttrs!==null&&ag(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function aC(n,e){zg(n,e),jg(e)&&n.queries.elementEnd(e)}var Sl=class extends id{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fi(e);return new So(t,this.ngModule)}};function cP(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Zl.SignalBased)!==0};return i&&(o.transform=i),o})}function uP(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lP(n,e,t){let r=e instanceof tt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new zp(t,r):t}function dP(n){let e=n.get(To,null);if(e===null)throw new q(407,!1);let t=n.get(QO,null),r=n.get(Or,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function hP(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return O1(e,t,t==="svg"?Fw:t==="math"?ux:null)}var So=class extends rC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=cP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uP(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=BN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ae(22);let o=fe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.3"]:HN(this.componentDef.selectors[0]),u=sm(0,null,null,1,0,null,null,null,null,[a],null),l=lP(s,i||this.ngModule,e),h=dP(l),p=h.rendererFactory.createRenderer(null,s),y=r?JN(p,r,s.encapsulation,l):hP(s,p),m=am(null,u,null,512|F1(s),null,null,h,p,l,null,A1(y,l,!0));m[kt]=y,Gg(m);let D=null;try{let T=sC(kt,u,m,"#host",()=>[this.componentDef],!0,0);y&&(k1(p,y,T),Po(y,m)),Ql(u,m,T),rm(u,T,m),aC(u,T),t!==void 0&&fP(T,this.ngContentSelectors,t),D=Sn(T.index,m),m[et]=D[et],hm(u,m,null)}catch(T){throw D!==null&&Xp(D),Xp(m),T}finally{Ae(23),qg()}return new cg(this.componentType,m)}finally{fe(o)}}},cg=class extends KO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Ug(t[ye],kt),this.location=Wl(this._tNode,t),this.instance=Sn(this._tNode.index,t)[et],this.hostView=this.changeDetectorRef=new ka(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=dm(r,i[ye],i,e,t);this.previousInputValues.set(e,t);let s=Sn(r.index,i);mm(s,1)}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Di=(()=>{class n{static __NG_ELEMENT_ID__=pP}return n})();function pP(){let n=Ft();return mP(n,Ce())}var gP=Di,cC=class extends gP{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wg(this._hostTNode,this._hostLView);if(t1(e)){let t=El(e,this._hostLView),r=_l(e),i=t[ye].data[r+8];return new di(i,t)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ZI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Fa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Oa(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!ox(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new So(fi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let T=(s?l:this.parentInjector).get(tt,null);T&&(o=T)}let h=fi(u.componentType??{}),p=Fa(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,Oa(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new cC(u,u[pn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return td(s,i,o,r),e.attachToViewContainerRef(),Iw(Tp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ZI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pa(this._lContainer,t);r&&(hl(Tp(this._lContainer),t),Jl(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pa(this._lContainer,t);return r&&hl(Tp(this._lContainer),t)!=null?new ka(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ZI(n){return n[gl]}function Tp(n){return n[gl]||(n[gl]=[])}function mP(n,e){let t,r=e[n.index];return or(r)?t=r:(t=J1(r,e,null,n),e[n.index]=t,cm(e,t)),vP(t,e,n,r),new cC(t,n,e)}function yP(n,e){let t=n[nt],r=t.createComment(""),i=xn(e,n),o=t.parentNode(i);return Al(t,o,r,t.nextSibling(i),!1),r}var vP=IP,_P=()=>!1;function EP(n,e,t){return _P(n,e,t)}function IP(n,e,t,r){if(n[gi])return;let i;t.type&8?i=Tn(r):i=yP(e,t),n[gi]=i}var Mo=class{},vm=class{};var ug=class extends Mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Dw(e);this._bootstrapComponents=x1(o.bootstrap),this._r3Injector=l1(e,t,[{provide:Mo,useValue:this},{provide:id,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lg=class extends vm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ug(this.moduleType,e,[])}};var Ml=class extends Mo{injector;componentFactoryResolver=new Sl(this);instance=null;constructor(e){super();let t=new Sa([...e.providers,{provide:Mo,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],e.parent||Vg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function od(n,e,t=null){return new Ml({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var wP=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bw(!1,t.type),i=r.length>0?od([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(H(tt))})}return n})();function Ke(n){return Va(()=>{let e=uC(n),t=ae(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===v1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(wP).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ci("NgStandalone"),lC(t);let r=n.dependencies;return t.directiveDefs=QI(r,!1),t.pipeDefs=QI(r,!0),t.id=TP(t),t})}function CP(n){return fi(n)||WR(n)}function DP(n){return n!==null}function vn(n){return Va(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bP(n,e){if(n==null)return hi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Zl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function AP(n){if(n==null)return hi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function $e(n){return Va(()=>{let e=uC(n);return lC(e),e})}function uC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||hi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bP(n.inputs,e),outputs:AP(n.outputs),debugInfo:null}}function lC(n){n.features?.forEach(e=>e(n))}function QI(n,e){if(!n)return null;let t=e?KR:CP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(DP)}function TP(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function SP(n){return Object.getPrototypeOf(n.prototype).constructor}function On(n){let e=SP(n.type),t=!0,r=[n];for(;e;){let i;if(An(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Sp(n.inputs),s.declaredInputs=Sp(n.declaredInputs),s.outputs=Sp(n.outputs);let a=i.hostBindings;a&&OP(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xP(n,u),l&&NP(n,l),MP(n,i),SR(n.outputs,i.outputs),An(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===On&&(t=!1)}}e=Object.getPrototypeOf(e)}RP(r)}function MP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function RP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,t=Ao(t,i.hostAttrs))}}function Sp(n){return n===hi?{}:n===Ot?[]:n}function xP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function NP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function OP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function dC(n){return _m(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function PP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _m(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function kP(n,e,t){return n[e]=t}function Vr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function FP(n,e,t,r,i,o,s,a,u){let l=e.consts,h=rd(e,n,4,s||null,a||null);Hg()&&ym(e,t,h,Nr(l,u),lm),h.mergedAttrs=Ao(h.mergedAttrs,h.attrs),zg(e,h);let p=h.tView=sm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function dg(n,e,t,r,i,o,s,a,u,l){let h=t+kt,p=e.firstCreatePass?FP(h,e,n,r,i,o,s,a,u):e.data[h];Ei(p,!1);let y=LP(e,n,p,t);$l()&&Xl(e,n,y,p),Po(y,n);let m=J1(y,n,y,p);return n[h]=m,cm(n,m),EP(m,p,n),Bl(p)&&Ql(e,n,p),u!=null&&um(n,p,l),p}function me(n,e,t,r,i,o,s,a){let u=Ce(),l=Mt(),h=Nr(l.consts,o);return dg(u,l,n,e,t,r,i,h,s,a),me}var LP=VP;function VP(n,e,t,r){return Gl(!0),e[nt].createComment("")}var Em=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var hC=new U("");var fC=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new hg})}return n})(),hg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function bi(n){return!!n&&typeof n.then=="function"}function pC(n){return!!n&&typeof n.subscribe=="function"}var sd=new U("");var gC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(sd,{optional:!0})??[];injector=x(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ot(this.injector,i);if(bi(o))t.push(o);else if(pC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$a=new U("");function jP(){YE(()=>{throw new q(600,!1)})}function UP(n){return n.isBoundToModule}var BP=10;var nr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(iN);afterRenderManager=x(b1);zonelessEnabled=x(ql);rootEffectScheduler=x(fC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(sr).hasPendingTasks.pipe(J(t=>!t));constructor(){x(ko,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){Ae(10);let i=t instanceof rC;if(!this._injector.get(gC).done){let y="";throw new q(405,y)}let s;i?s=t:s=this._injector.get(id).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=UP(s)?void 0:this._injector.get(Mo),u=r||s.selector,l=s.create(Le.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(hC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),al(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),Ae(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(em.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(To,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<BP;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)HP(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;al(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($a,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>al(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function al(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HP(n,e,t,r){if(!t&&!Hl(n))return;K1(n,e,t&&!r?0:1)}function ad(n,e,t,r){let i=Ce(),o=Ha();if(Vr(i,o,e)){let s=Mt(),a=Yw();aO(a,i,n,e,t,r)}return ad}function $P(n,e,t,r){return Vr(n,Ha(),t)?e+Ll(t)+r:Nn}function rl(n,e){return n<<17|e<<2}function _i(n){return n>>17&32767}function GP(n){return(n&2)==2}function qP(n,e){return n&131071|e<<17}function fg(n){return n|2}function Ro(n){return(n&131068)>>2}function Mp(n,e){return n&-131069|e<<2}function zP(n){return(n&1)===1}function pg(n){return n|1}function WP(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_i(s),u=Ro(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ja(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=_i(n[a+1]);n[r+1]=rl(y,a),y!==0&&(n[y+1]=Mp(n[y+1],r)),n[a+1]=qP(n[a+1],r)}else n[r+1]=rl(a,0),a!==0&&(n[a+1]=Mp(n[a+1],r)),a=r;else n[r+1]=rl(u,0),a===0?a=r:n[u+1]=Mp(n[u+1],r),u=r;l&&(n[r+1]=fg(n[r+1])),YI(n,h,r,!0),YI(n,h,r,!1),KP(e,h,n,r,o),s=rl(a,u),o?e.classBindings=s:e.styleBindings=s}function KP(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ja(o,e)>=0&&(t[r+1]=pg(t[r+1]))}function YI(n,e,t,r){let i=n[t+1],o=e===null,s=r?_i(i):Ro(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];ZP(u,e)&&(a=!0,n[s+1]=r?pg(l):fg(l)),s=r?_i(l):Ro(l)}a&&(n[t+1]=r?fg(i):pg(i))}function ZP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ja(n,e)>=0:!1}var ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QP(n){return n.substring(ln.key,ln.keyEnd)}function YP(n){return JP(n),mC(n,yC(n,0,ln.textEnd))}function mC(n,e){let t=ln.textEnd;return t===e?-1:(e=ln.keyEnd=XP(n,ln.key=e,t),yC(n,e,t))}function JP(n){ln.key=0,ln.keyEnd=0,ln.value=0,ln.valueEnd=0,ln.textEnd=n.length}function yC(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function XP(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Y(n,e,t){let r=Ce(),i=Ha();if(Vr(r,i,e)){let o=Mt(),s=Yw();nO(o,s,r,n,e,r[nt],t,!1)}return Y}function gg(n,e,t,r,i){dm(e,n,t,i?"class":"style",r)}function cd(n,e){return t2(n,e,null,!0),cd}function ud(n){n2(c2,e2,n,!0)}function e2(n,e){for(let t=YP(e);t>=0;t=mC(e,t))Fg(n,QP(e),!0)}function t2(n,e,t,r){let i=Ce(),o=Mt(),s=Gw(2);if(o.firstUpdatePass&&_C(o,n,s,r),e!==Nn&&Vr(i,s,e)){let a=o.data[Fr()];EC(o,a,i,i[nt],n,i[s+1]=l2(e,t),r,s)}}function n2(n,e,t,r){let i=Mt(),o=Gw(2);i.firstUpdatePass&&_C(i,null,o,r);let s=Ce();if(t!==Nn&&Vr(s,o,t)){let a=i.data[Fr()];if(IC(a,r)&&!vC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=kp(u,t||"")),gg(i,a,s,t,r)}else u2(i,a,s,s[nt],s[o+1],s[o+1]=a2(n,e,t),r,o)}}function vC(n,e){return e>=n.expandoStartIndex}function _C(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Fr()],s=vC(n,t);IC(o,r)&&e===null&&!s&&(e=!1),e=r2(i,o,e,r),WP(i,o,e,t,s,r)}}function r2(n,e,t,r){let i=Mx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Rp(null,n,e,t,r),t=La(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Rp(i,n,e,t,r),o===null){let u=i2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Rp(null,n,e,u[1],r),u=La(u,e.attrs,r),o2(n,e,r,u))}else o=s2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function i2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ro(r)!==0)return n[_i(r)]}function o2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[_i(i)]=r}function s2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=La(r,s,t)}return La(r,e.attrs,t)}function Rp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=La(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function La(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Fg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function a2(n,e,t){if(t==null||t==="")return Ot;let r=[],i=Fo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function c2(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Fg(n,r,t)}function u2(n,e,t,r,i,o,s,a){i===Nn&&(i=Ot);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,D=null,T;h===p?(u+=2,l+=2,y!==m&&(D=p,T=m)):p===null||h!==null&&h<p?(u+=2,D=h):(l+=2,D=p,T=m),D!==null&&EC(n,e,t,r,D,T,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function EC(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=zP(l)?JI(u,e,t,i,Ro(l),s):void 0;if(!Rl(h)){Rl(o)||GP(l)&&(o=JI(u,null,t,i,a,s));let p=Lw(Fr(),t);AO(r,s,p,i,o)}}function JI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Nn&&(y=p?Ot:void 0);let m=p?Ep(y,r):h===r?y:void 0;if(l&&!Rl(m)&&(m=Ep(u,r)),Rl(m)&&(a=m,s))return a;let D=n[i+1];i=s?_i(D):Ro(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ep(u,r))}return a}function Rl(n){return n!==void 0}function l2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(Fo(n)))),n}function IC(n,e){return(n.flags&(e?8:16))!==0}var mg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function xp(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function d2(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=xp(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let y=n.at(s),m=e[u],D=xp(s,y,u,m,t);if(D!==0){D<0&&n.updateValue(s,m),s--,u--;continue}let T=t(o,l),M=t(s,y),F=t(o,h);if(Object.is(F,M)){let Z=t(u,m);Object.is(Z,T)?(n.swap(o,s),n.updateValue(s,m),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new xl,i??=ew(n,o,s,t),yg(n,r,o,F))n.updateValue(o,h),o++,s++;else if(i.has(F))r.set(T,n.detach(o)),s--;else{let Z=n.create(o,e[o]);n.attach(o,Z),o++,s++}}for(;o<=u;)XI(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,y=xp(o,h,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new xl,i??=ew(n,o,s,t);let m=t(o,p);if(yg(n,r,o,m))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let D=t(o,h);r.set(D,n.detach(o)),s--}}}for(;!l.done;)XI(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function yg(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function XI(n,e,t,r,i){if(yg(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function ew(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var xl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Xt(n,e){Ci("NgControlFlow");let t=Ce(),r=Ha(),i=t[r]!==Nn?t[r]:-1,o=i!==-1?Nl(t,kt+i):void 0,s=0;if(Vr(t,r,n)){let a=fe(null);try{if(o!==void 0&&eC(o,s),n!==-1){let u=kt+n,l=Nl(t,u),h=Ig(t[ye],u),p=Fa(l,h.tView.ssrId),y=Yl(t,h,e,{dehydratedView:p});td(l,y,s,Oa(h,p))}}finally{fe(a)}}else if(o!==void 0){let a=X1(o,s);a!==void 0&&(a[et]=e)}}var vg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Tt}};function wC(n){return n}var _g=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function CC(n,e,t,r,i,o,s,a,u,l,h,p,y){Ci("NgControlFlow");let m=Ce(),D=Mt(),T=u!==void 0,M=Ce(),F=a?s.bind(M[hn][et]):s,Z=new _g(T,F);M[kt+n]=Z,dg(m,D,n+1,e,t,r,i,Nr(D.consts,o)),T&&dg(m,D,n+2,u,l,h,p,Nr(D.consts,y))}var Eg=class extends mg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Tt}at(e){return this.getLView(e)[et].$implicit}attach(e,t){let r=t[Ma];this.needsIndexUpdate||=e!==this.length,td(this.lContainer,t,e,Oa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,h2(this.lContainer,e)}create(e,t){let r=Fa(this.lContainer,this.templateTNode.tView.ssrId),i=Yl(this.hostLView,this.templateTNode,new vg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Jl(e[ye],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[et].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[et].$index=e}getLView(e){return f2(this.lContainer,e)}};function DC(n){let e=fe(null),t=Fr();try{let r=Ce(),i=r[ye],o=r[t],s=t+1,a=Nl(r,s);if(o.liveCollection===void 0){let l=Ig(i,s);o.liveCollection=new Eg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(d2(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Ha(),h=u.length===0;if(Vr(r,l,h)){let p=t+2,y=Nl(r,p);if(h){let m=Ig(i,p),D=Fa(y,m.tView.ssrId),T=Yl(r,m,void 0,{dehydratedView:D});td(y,T,0,Oa(m,D))}else eC(y,0)}}}finally{fe(e)}}function Nl(n,e){return n[e]}function h2(n,e){return Pa(n,e)}function f2(n,e){return X1(n,e)}function Ig(n,e){return Ug(n,e)}function N(n,e,t,r){let i=Ce(),o=Mt(),s=kt+n,a=i[nt],u=o.firstCreatePass?sC(s,o,i,e,lm,Hg(),t,r):o.data[s],l=p2(o,i,u,a,e,n);i[s]=l;let h=Bl(u);return Ei(u,!0),k1(a,l,u),!B1(u)&&$l()&&Xl(o,i,l,u),(mx()===0||h)&&Po(l,i),yx(),h&&(Ql(o,i,u),rm(o,u,i)),r!==null&&um(i,u),N}function R(){let n=Ft();$g()?Hw():(n=n.parent,Ei(n,!1));let e=n;Ex(e)&&Ix(),vx();let t=Mt();return t.firstCreatePass&&aC(t,e),e.classesWithoutHost!=null&&Fx(e)&&gg(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Lx(e)&&gg(t,e,Ce(),e.stylesWithoutHost,!1),R}function ee(n,e,t,r){return N(n,e,t,r),R(),ee}var p2=(n,e,t,r,i,o)=>(Gl(!0),O1(r,i,Ox()));function g2(n,e,t,r,i){let o=e.consts,s=Nr(o,r),a=rd(e,n,8,"ng-container",s);s!==null&&ag(a,s,!0);let u=Nr(o,i);return Hg()&&ym(e,t,a,u,lm),a.mergedAttrs=Ao(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function bC(n,e,t){let r=Ce(),i=Mt(),o=n+kt,s=i.firstCreatePass?g2(o,i,r,e,t):i.data[o];Ei(s,!0);let a=m2(i,r,s,n);return r[o]=a,$l()&&Xl(i,r,a,s),Po(a,r),Bl(s)&&(Ql(i,r,s),rm(i,s,r)),t!=null&&um(r,s),bC}function AC(){let n=Ft(),e=Mt();return $g()?Hw():(n=n.parent,Ei(n,!1)),e.firstCreatePass&&(zg(e,n),jg(n)&&e.queries.elementEnd(n)),AC}function Im(n,e,t){return bC(n,e,t),AC(),Im}var m2=(n,e,t,r)=>(Gl(!0),qN(e[nt],""));function Ai(){return Ce()}var Ol="en-US";var y2=Ol;function v2(n){typeof n=="string"&&(y2=n.toLowerCase().replace(/_/g,"-"))}var _2=(n,e,t)=>{};function Re(n,e,t,r){let i=Ce(),o=Mt(),s=Ft();return I2(o,i,i[nt],s,n,e,r),Re}function E2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[pl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function I2(n,e,t,r,i,o,s){let a=Bl(r),l=n.firstCreatePass?gx(n):null,h=e[et],p=px(e),y=!0;if(r.type&3||s){let m=xn(r,e),D=s?s(m):m,T=p.length,M=s?Z=>s(Tn(Z[r.index])):r.index,F=null;if(!s&&a&&(F=E2(n,e,i,r.index)),F!==null){let Z=F.__ngLastListenerFn__||F;Z.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,y=!1}else{o=rw(r,e,h,o),_2(D,i,o);let Z=t.listen(D,i,o);p.push(o,Z),l&&l.push(i,M,T,T+1)}}else o=rw(r,e,h,o);if(y){let m=r.outputs?.[i],D=r.hostDirectiveOutputs?.[i];if(D&&D.length)for(let T=0;T<D.length;T+=2){let M=D[T],F=D[T+1];tw(r,n,e,M,F,i,o,p,l)}if(m&&m.length)for(let T of m)tw(r,n,e,T,i,i,o,p,l)}}function tw(n,e,t,r,i,o,s,a,u){let l=t[r],p=e.data[r].outputs[i],m=l[p].subscribe(s),D=a.length;a.push(s,m),u&&u.push(o,n.index,D,-(D+1))}function nw(n,e,t,r){let i=fe(null);try{return Ae(6,e,t),t(r)!==!1}catch(o){return U1(n,o),!1}finally{Ae(7,e,t),fe(i)}}function rw(n,e,t,r){return function i(o){if(o===Function)return r;let s=No(n)?Sn(n.index,e):e;mm(s,5);let a=nw(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=nw(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ge(n=1){return xx(n)}function TC(n){let e=Cx();return lx(e,kt+n)}function k(n,e=""){let t=Ce(),r=Mt(),i=n+kt,o=r.firstCreatePass?rd(r,i,1,e,null):r.data[i],s=w2(r,t,o,e,n);t[i]=s,$l()&&Xl(r,t,s,o),Ei(o,!1)}var w2=(n,e,t,r,i)=>(Gl(!0),$N(e[nt],r));function Ti(n){return Rt("",n,""),Ti}function Rt(n,e,t){let r=Ce(),i=$P(r,n,e,t);return i!==Nn&&C2(r,Fr(),i),Rt}function C2(n,e,t){let r=Lw(e,n);GN(n[nt],r,t)}function D2(n,e,t){let r=Mt();if(r.firstCreatePass){let i=An(n);wg(t,r.data,r.blueprint,i,!0),wg(e,r.data,r.blueprint,i,!1)}}function wg(n,e,t,r,i){if(n=At(n),Array.isArray(n))for(let o=0;o<n.length;o++)wg(n[o],e,t,r,i);else{let o=Mt(),s=Ce(),a=Ft(),u=Co(n)?n:At(n.provide),l=Sw(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Co(n)||!n.multi){let m=new vi(l,i,K),D=Op(u,e,i?h:h+y,p);D===-1?(Kp(Il(a,s),o,u),Np(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{let m=Op(u,e,h+y,p),D=Op(u,e,h,h+y),T=m>=0&&t[m],M=D>=0&&t[D];if(i&&!M||!i&&!T){Kp(Il(a,s),o,u);let F=T2(i?A2:b2,t.length,i,r,l);!i&&M&&(t[D].providerFactory=F),Np(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=SC(t[i?D:m],l,!i&&r);Np(o,n,m>-1?m:D,F)}!i&&r&&M&&t[D].componentProviders++}}}function Np(n,e,t,r){let i=Co(e),o=XR(e);if(i||o){let u=(o?At(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function SC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Op(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function b2(n,e,t,r){return Cg(this.multi,[])}function A2(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wl(t,t[ye],this.providerFactory.index,r);o=a.slice(0,s),Cg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Cg(i,o);return o}function Cg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function T2(n,e,t,r,i){let o=new vi(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,SC(o,i,r&&!t),o}function Lo(n,e=[]){return t=>{t.providersResolver=(r,i)=>D2(r,i?i(n):n,e)}}function xt(n,e,t,r){return M2(Ce(),Dx(),n,e,t,r)}function S2(n,e){let t=n[e];return t===Nn?void 0:t}function M2(n,e,t,r,i,o){let s=e+t;return Vr(n,s,i)?kP(n,s+1,o?r.call(o,i):r(i)):S2(n,s+1)}function MC(n,e){return nC(n,e)}var rr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},wm=new rr("19.2.3"),Dg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ld=(()=>{class n{compileModuleSync(t){return new lg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Dw(t),o=x1(i.declarations).reduce((s,a)=>{let u=fi(a);return u&&s.push(new So(u)),s},[]);return new Dg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R2=(()=>{class n{zone=x(Ee);changeDetectionScheduler=x(Or);applicationRef=x(nr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x2=new U("",{factory:()=>!1});function RC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(ae(L({},NC()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:wo,multi:!0,useFactory:()=>{let r=x(R2,{optional:!0});return()=>r.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let r=x(N2);return()=>{r.initialize()}}},e===!0?{provide:h1,useValue:!0}:[],{provide:f1,useValue:t??d1}]}function xC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=RC({ngZoneFactory:()=>{let i=NC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ci("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Zt([{provide:x2,useValue:!0},{provide:ql,useValue:!1},r])}function NC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var N2=(()=>{class n{subscription=new He;initialized=!1;zone=x(Ee);pendingTasks=x(sr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O2=(()=>{class n{appRef=x(nr);taskService=x(sr);ngZone=x(Ee);zonelessEnabled=x(ql);tracing=x(ko,{optional:!0});disableScheduling=x(h1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(f1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FI:p1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P2(){return typeof $localize<"u"&&$localize.locale||Ol}var Cm=new U("",{providedIn:"root",factory:()=>x(Cm,de.Optional|de.SkipSelf)||P2()});var bg=new U(""),k2=new U("");function Da(n){return!n.moduleRef}function F2(n){let e=Da(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Da(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(tr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Da(n)){let o=()=>e.destroy(),s=n.platformInjector.get(bg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(bg);s.add(o),n.moduleRef.onDestroy(()=>{al(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return V2(r,t,()=>{let o=e.get(gC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Cm,Ol);if(v2(s||Ol),!e.get(k2,!0))return Da(n)?e.get(nr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Da(n)){let u=e.get(nr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return L2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function L2(n,e){let t=n.injector.get(nr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}function V2(n,e,t){try{let r=t();return bi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var cl=null;function j2(n=[],e){return Le.create({name:e,providers:[{provide:jl,useValue:"platform"},{provide:bg,useValue:new Set([()=>cl=null])},...n]})}function U2(n=[]){if(cl)return cl;let e=j2(n);return cl=e,jP(),B2(e),e}function B2(n){let e=n.get(Jg,null);ot(n,()=>{e?.forEach(t=>t())})}function Vo(){return!1}var jo=(()=>{class n{static __NG_ELEMENT_ID__=H2}return n})();function H2(n){return $2(Ft(),Ce(),(n&16)===16)}function $2(n,e,t){if(No(n)&&!t){let r=Sn(n.index,e);return new ka(r,r)}else if(n.type&175){let r=e[hn];return new ka(r,e)}return null}var Ag=class{constructor(){}supports(e){return dC(e)}create(e){return new Tg(e)}},G2=(n,e)=>e,Tg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||G2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<iw(r,i,o)?t:r,a=iw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,D=m+y;h<=D&&D<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dC(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,PP(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Sg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Mg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Mg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Rg=class{constructor(){}supports(e){return e instanceof Map||_m(e)}create(){return new xg}},xg=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||_m(e)))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Ng(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Ng=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function ow(){return new Dm([new Ag])}var Dm=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:ow});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ow()),deps:[[n,new Ew,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new q(901,!1)}}return n})();function sw(){return new bm([new Rg])}var bm=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:sw});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sw()),deps:[[n,new Ew,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new q(901,!1)}}return n})();function OC(n){Ae(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=U2(r),o=[RC({}),{provide:Or,useExisting:O2},...t||[]],s=new Ml({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return F2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ae(9)}}function Uo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Pn(n){return eI(n)}function Si(n,e){return KE(n,e?.equal)}var Og=class{[sn];constructor(e){this[sn]=e}destroy(){this[sn].destroy()}};function dd(n,e){!e?.injector&&Ua(dd);let t=e?.injector??x(Le),r=e?.manualCleanup!==!0?t.get(wi):null,i,o=t.get(tm,null,{optional:!0}),s=t.get(Or);return o!==null&&!e?.forceRoot?(i=W2(o.view,s,n),r instanceof Cl&&r._lView===o.view&&(r=null)):i=K2(n,t.get(fC),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Og(i)}var PC=ae(L({},to),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Na,run(){if(this.dirty=!1,this.hasRun&&!wu(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=ga(this),t=vl(!1);try{this.maybeCleanup(),this.fn(n)}finally{vl(t),Iu(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),q2=ae(L({},PC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ma(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),z2=ae(L({},PC),{consumerMarkedDirty(){this.view[ie]|=8192,Oo(this.view),this.notifier.notify(13)},destroy(){ma(this),this.onDestroyFn(),this.maybeCleanup(),this.view[pi]?.delete(this)}});function W2(n,e,t){let r=Object.create(z2);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[pi]??=new Set,n[pi].add(r),r.consumerMarkedDirty(r),r}function K2(n,e,t){let r=Object.create(q2);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function kC(n){let e=fi(n);if(!e)return null;let t=new So(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var BC=null;function cr(){return BC}function HC(n){BC??=n}var hd=class{};var It=new U(""),Rm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(Z2),providedIn:"platform"})}return n})(),$C=new U(""),Z2=(()=>{class n extends Rm{_location;_history;_doc=x(It);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(t){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function xm(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function FC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ar(n){return n&&n[0]!=="?"?`?${n}`:n}var kn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(Nm),providedIn:"root"})}return n})(),GC=new U(""),Nm=(()=>{class n extends kn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ar(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ar(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Rm),H(GC,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Om=(()=>{class n extends kn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=xm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ar(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ar(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Rm),H(GC,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ho=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=J2(FC(LC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ar(r))}normalize(t){return n.stripTrailingSlash(Y2(this._basePath,LC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ar(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ar;static joinWithSlash=xm;static stripTrailingSlash=FC;static \u0275fac=function(r){return new(r||n)(H(kn))};static \u0275prov=$({token:n,factory:()=>Q2(),providedIn:"root"})}return n})();function Q2(){return new Ho(H(kn))}function Y2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function LC(n){return n.replace(/\/index.html$/,"")}function J2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function fd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Am=/\s+/,VC=[],$o=(()=>{class n{_ngEl;_renderer;initialClasses=VC;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Am):VC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Am):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Am).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(K(Yt),K(yn))};static \u0275dir=$e({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Tm=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qC=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Tm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),jC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(Di),K(nd),K(Dm))};static \u0275dir=$e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function jC(n,e){n.context.$implicit=e.item}var Go=(()=>{class n{_viewContainer;_context=new Sm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){UC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){UC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(Di),K(nd))};static \u0275dir=$e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Sm=class{$implicit=null;ngIf=null};function UC(n,e){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}var zC=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Rn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(K(Yt),K(bm),K(yn))};static \u0275dir=$e({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),WC=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(K(Di))};static \u0275dir=$e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[kr]})}return n})();var Mi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=fn({})}return n})(),KC="browser",X2="server";function Ga(n){return n===X2}var ZC=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new Mm(x(It),window)})}return n})(),Mm=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=ek(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function ek(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Bo=class{};var Wa=class{},gd=class{},Ri=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var km=class{encodeKey(e){return QC(e)}encodeValue(e){return QC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function tk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var nk=/%(\d[a-f0-9])/gi,rk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QC(n){return encodeURIComponent(n).replace(nk,(e,t)=>rk[t]??e)}function pd(n){return`${n}`}var jr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new km,e.fromString){if(e.fromObject)throw new q(2805,!1);this.map=tk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(pd):[pd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(pd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(pd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Fm=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ik(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function YC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JC(n){return typeof Blob<"u"&&n instanceof Blob}function XC(n){return typeof FormData<"u"&&n instanceof FormData}function ok(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var eD="Content-Type",tD="Accept",iD="X-Request-URL",oD="text/plain",sD="application/json",sk=`${sD}, ${oD}, */*`,za=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(ik(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ri,this.context??=new Fm,!this.params)this.params=new jr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||YC(this.body)||JC(this.body)||XC(this.body)||ok(this.body)?this.body:this.body instanceof jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XC(this.body)?null:JC(this.body)?this.body.type||null:YC(this.body)?null:typeof this.body=="string"?oD:this.body instanceof jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},qo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qo||{}),Ka=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ri,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Lm=class n extends Ka{constructor(e={}){super(e)}type=qo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},md=class n extends Ka{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=qo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yd=class extends Ka{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ak=200,ck=204;function Pm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Vm=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof za)o=t;else{let u;i.headers instanceof Ri?u=i.headers:u=new Ri(i.headers);let l;i.params&&(i.params instanceof jr?l=i.params:l=new jr({fromObject:i.params})),o=new za(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Q(o).pipe(Jn(u=>this.handler.handle(u)));if(t instanceof za||i.observe==="events")return s;let a=s.pipe(dt(u=>u instanceof md));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new q(2806,!1);return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new q(2807,!1);return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new q(2808,!1);return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new q(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Pm(i,r))}post(t,r,i={}){return this.request("POST",t,Pm(i,r))}put(t,r,i={}){return this.request("PUT",t,Pm(i,r))}static \u0275fac=function(r){return new(r||n)(H(Wa))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var uk=new U("");function lk(n,e){return e(n)}function dk(n,e,t){return(r,i)=>ot(t,()=>e(r,o=>n(o,i)))}var jm=new U(""),hk=new U(""),fk=new U("",{providedIn:"root",factory:()=>!0});var nD=(()=>{class n extends Wa{backend;injector;chain=null;pendingTasks=x(sr);contributeToStability=x(fk);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(jm),...this.injector.get(hk,[])]));this.chain=r.reduceRight((i,o)=>dk(i,o,this.injector),lk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ui(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(gd),H(tt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var pk=/^\)\]\}',?\n/,gk=RegExp(`^${iD}:`,"m");function mk(n){return"responseURL"in n&&n.responseURL?n.responseURL:gk.test(n.getAllResponseHeaders())?n.getResponseHeader(iD):null}var rD=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?le(r.\u0275loadImpl()):Q(null)).pipe(ke(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,M)=>s.setRequestHeader(T,M.join(","))),t.headers.has(tD)||s.setRequestHeader(tD,sk),!t.headers.has(eD)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(eD,T)}if(t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let T=s.statusText||"OK",M=new Ri(s.getAllResponseHeaders()),F=mk(s)||t.url;return u=new Lm({headers:M,status:s.status,statusText:T,url:F}),u},h=()=>{let{headers:T,status:M,statusText:F,url:Z}=l(),B=null;M!==ck&&(B=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=B?ak:0);let ve=M>=200&&M<300;if(t.responseType==="json"&&typeof B=="string"){let Ue=B;B=B.replace(pk,"");try{B=B!==""?JSON.parse(B):null}catch(Te){B=Ue,ve&&(ve=!1,B={error:Te,text:B})}}ve?(o.next(new md({body:B,headers:T,status:M,statusText:F,url:Z||void 0})),o.complete()):o.error(new yd({error:B,headers:T,status:M,statusText:F,url:Z||void 0}))},p=T=>{let{url:M}=l(),F=new yd({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(F)},y=!1,m=T=>{y||(o.next(l()),y=!0);let M={type:qo.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},D=T=>{let M={type:qo.UploadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:qo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(Bo))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),aD=new U(""),yk="XSRF-TOKEN",vk=new U("",{providedIn:"root",factory:()=>yk}),_k="X-XSRF-TOKEN",Ek=new U("",{providedIn:"root",factory:()=>_k}),vd=class{},Ik=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(It),H(Jt),H(vk))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function wk(n,e){let t=n.url.toLowerCase();if(!x(aD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(vd).getToken(),i=x(Ek);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var cD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(cD||{});function Ck(n,e){return{\u0275kind:n,\u0275providers:e}}function uD(...n){let e=[Vm,rD,nD,{provide:Wa,useExisting:nD},{provide:gd,useFactory:()=>x(uk,{optional:!0})??x(rD)},{provide:jm,useValue:wk,multi:!0},{provide:aD,useValue:!0},{provide:vd,useClass:Ik}];for(let t of n)e.push(...t.\u0275providers);return Zt(e)}function lD(n){return Ck(cD.Interceptors,n.map(e=>({provide:jm,useValue:e,multi:!0})))}var Bm=class extends hd{supportsDOMEvents=!0},Hm=class n extends Bm{static makeCurrent(){HC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bk();return t==null?null:Ak(t)}resetBaseElement(){Za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fd(document.cookie,e)}},Za=null;function bk(){return Za=Za||document.querySelector("base"),Za?Za.getAttribute("href"):null}function Ak(n){return new URL(n,document.baseURI).pathname}var Tk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),$m=new U(""),mD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H($m),H(Ee))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ed=class{_doc;constructor(e){this._doc=e}manager},_d="ng-app-id";function dD(n){for(let e of n)e.remove()}function hD(n,e){let t=e.createElement("style");return t.textContent=n,t}function Sk(n,e,t,r){let i=n.head?.querySelectorAll(`style[${_d}="${e}"],link[${_d}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_d),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Gm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var yD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ga(o),Sk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,hD);r?.forEach(i=>this.addUsage(i,this.external,Gm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(dD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])dD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,hD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Gm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_d,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(It),H(Yg),H(Xg,8),H(Jt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Um={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zm=/%COMP%/g;var vD="%COMP%",Mk=`_nghost-${vD}`,Rk=`_ngcontent-${vD}`,xk=!0,Nk=new U("",{providedIn:"root",factory:()=>xk});function Ok(n){return Rk.replace(zm,n)}function Pk(n){return Mk.replace(zm,n)}function _D(n,e){return e.map(t=>t.replace(zm,n))}var fD=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Ga(a),this.defaultRenderer=new Qa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mn.ShadowDom&&(r=ae(L({},r),{encapsulation:Mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Id?i.applyToHost(t):i instanceof Ya&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Mn.Emulated:o=new Id(u,l,r,this.appId,h,s,a,p,y);break;case Mn.ShadowDom:return new qm(u,l,t,r,s,a,this.nonce,p,y);default:o=new Ya(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(mD),H(yD),H(Yg),H(Nk),H(It),H(Jt),H(Ee),H(Xg),H(ko,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Qa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Um[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Um[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Um[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(t,r,i&Rn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var qm=class extends Qa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=_D(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=Gm(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ya=class extends Qa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?_D(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Id=class extends Ya{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=Ok(h),this.hostAttr=Pk(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},kk=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(It))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),gD=["alt","control","meta","shift"],Fk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Vk=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Fk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gD.forEach(s=>{if(s!==i){let a=Lk[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(It))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function ED(n,e){return OC(L({rootComponent:n},jk(e)))}function jk(n){return{appProviders:[...Gk,...n?.providers??[]],platformProviders:$k}}function Uk(){Hm.makeCurrent()}function Bk(){return new tr}function Hk(){return C1(document),document}var $k=[{provide:Jt,useValue:KC},{provide:Jg,useValue:Uk,multi:!0},{provide:It,useFactory:Hk,deps:[]}];var Gk=[{provide:jl,useValue:"root"},{provide:tr,useFactory:Bk,deps:[]},{provide:$m,useClass:kk,multi:!0,deps:[It]},{provide:$m,useClass:Vk,multi:!0,deps:[It]},fD,yD,mD,{provide:To,useExisting:fD},{provide:Bo,useClass:Tk,deps:[]},[]];var ID=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(It))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce="primary",lc=Symbol("RouteTitle"),Ym=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Yo(n){return new Ym(n)}function zk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}function Fn(n,e){let t=n?Jm(n):void 0,r=e?Jm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xD(n[i],e[i]))return!1;return!0}function Jm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function ND(n){return n.length>0?n[n.length-1]:null}function Hr(n){return fp(n)?n:bi(n)?le(Promise.resolve(n)):Q(n)}var Kk={exact:PD,subset:kD},OD={exact:Zk,subset:Qk,ignored:()=>!0};function wD(n,e,t){return Kk[t.paths](n.root,e.root,t.matrixParams)&&OD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Zk(n,e){return Fn(n,e)}function PD(n,e,t){if(!Ni(n.segments,e.segments)||!Dd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!PD(n.children[r],e.children[r],t))return!1;return!0}function Qk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xD(n[t],e[t]))}function kD(n,e,t){return FD(n,e,e.segments,t)}function FD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ni(i,t)||e.hasChildren()||!Dd(i,t,r))}else if(n.segments.length===t.length){if(!Ni(n.segments,t)||!Dd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!kD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ni(n.segments,i)||!Dd(n.segments,i,r)||!n.children[ce]?!1:FD(n.children[ce],e,o,r)}}function Dd(n,e,t){return e.every((r,i)=>OD[t](n[i].parameters,r.parameters))}var lr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return Xk.serialize(this)}},De=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bd(this)}},xi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return VD(this)}};function Yk(n,e){return Ni(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}function Ni(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Jk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var dc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Jo,providedIn:"root"})}return n})(),Jo=class{parse(e){let t=new ey(e);return new lr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ja(e.root,!0)}`,r=nF(e.queryParams),i=typeof e.fragment=="string"?`#${eF(e.fragment)}`:"";return`${t}${r}${i}`}},Xk=new Jo;function bd(n){return n.segments.map(e=>VD(e)).join("/")}function Ja(n,e){if(!n.hasChildren())return bd(n);if(e){let t=n.children[ce]?Ja(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Ja(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Jk(n,(r,i)=>i===ce?[Ja(n.children[ce],!1)]:[`${i}:${Ja(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${bd(n)}/${t[0]}`:`${bd(n)}/(${t.join("//")})`}}function LD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(n){return LD(n).replace(/%3B/gi,";")}function eF(n){return encodeURI(n)}function Xm(n){return LD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(n){return decodeURIComponent(n)}function CD(n){return Ad(n.replace(/\+/g,"%20"))}function VD(n){return`${Xm(n.path)}${tF(n.parameters)}`}function tF(n){return Object.entries(n).map(([e,t])=>`;${Xm(e)}=${Xm(t)}`).join("")}function nF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wd(t)}=${wd(i)}`).join("&"):`${wd(t)}=${wd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var rF=/^[^\/()?;#]+/;function Wm(n){let e=n.match(rF);return e?e[0]:""}var iF=/^[^\/()?;=#]+/;function oF(n){let e=n.match(iF);return e?e[0]:""}var sF=/^[^=?&#]+/;function aF(n){let e=n.match(sF);return e?e[0]:""}var cF=/^[^&#]+/;function uF(n){let e=n.match(cF);return e?e[0]:""}var ey=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new De(e,t)),r}parseSegment(){let e=Wm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new xi(Ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=oF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Wm(this.remaining);i&&(r=i,this.capture(r))}e[Ad(t)]=Ad(r)}parseQueryParam(e){let t=aF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=uF(this.remaining);s&&(r=s,this.capture(r))}let i=CD(t),o=CD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function jD(n){return n.segments.length>0?new De([],{[ce]:n}):n}function UD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=UD(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new De(n.segments,e);return lF(t)}function lF(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new De(n.segments.concat(e.segments),e.children)}return n}function Oi(n){return n instanceof lr}function dF(n,e,t=null,r=null){let i=BD(n);return HD(i,e,t,r)}function BD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new De(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jD(r);return e??i}function HD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Km(i,i,i,t,r);let o=hF(e);if(o.toRoot())return Km(i,i,new De([],{}),t,r);let s=fF(o,i,n),a=s.processChildren?ec(s.segmentGroup,s.index,o.commands):GD(s.segmentGroup,s.index,o.commands);return Km(i,s.segmentGroup,a,t,r)}function Sd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function nc(n){return typeof n=="object"&&n!=null&&n.outlets}function Km(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=$D(n,e,t);let a=jD(UD(s));return new lr(a,o,i)}function $D(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=$D(o,e,t)}),new De(n.segments,r)}var Md=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sd(r[0]))throw new q(4003,!1);let i=r.find(nc);if(i&&i!==ND(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Md(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Md(t,e,r)}var Ko=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function fF(n,e,t){if(n.isAbsolute)return new Ko(e,!0,0);if(!t)return new Ko(e,!1,NaN);if(t.parent===null)return new Ko(t,!0,0);let r=Sd(n.commands[0])?0:1,i=t.segments.length-1+r;return pF(t,i,n.numberOfDoubleDots)}function pF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Ko(r,!1,i-o)}function gF(n){return nc(n[0])?n[0].outlets:{[ce]:n}}function GD(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return ec(n,e,t);let r=mF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new De(n.segments.slice(r.pathIndex),n.children),ec(o,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?ty(n,e,t):r.match?ec(n,0,i):ty(n,e,t)}function ec(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=gF(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=ec(n.children[ce],e,t);return new De(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(n.segments,i)}}function mF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(nc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!bD(u,l,s))return o;r+=2}else{if(!bD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ty(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(nc(o)){let u=yF(o.outlets);return new De(r,u)}if(i===0&&Sd(t[0])){let u=n.segments[e];r.push(new xi(u.path,DD(t[0]))),i++;continue}let s=nc(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Sd(a)?(r.push(new xi(s,DD(a))),i+=2):(r.push(new xi(s,{})),i++)}return new De(r,{})}function yF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ty(new De([],{}),0,r))}),e}function DD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function bD(n,e,t){return n==t.path&&Fn(e,t.parameters)}var Td="imperative",st=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(st||{}),en=class{id;url;constructor(e,t){this.id=e,this.url=t}},Xo=class extends en{type=st.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends en{urlAfterRedirects;type=st.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ht||{}),Rd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Rd||{}),ur=class extends en{reason;code;type=st.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends en{reason;code;type=st.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},rc=class extends en{error;target;type=st.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xd=class extends en{urlAfterRedirects;state;type=st.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ny=class extends en{urlAfterRedirects;state;type=st.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ry=class extends en{urlAfterRedirects;state;shouldActivate;type=st.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},iy=class extends en{urlAfterRedirects;state;type=st.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oy=class extends en{urlAfterRedirects;state;type=st.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sy=class{route;type=st.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ay=class{route;type=st.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cy=class{snapshot;type=st.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uy=class{snapshot;type=st.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ly=class{snapshot;type=st.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dy=class{snapshot;type=st.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nd=class{routerEvent;position;anchor;type=st.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ic=class{},es=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vF(n,e){return n.providers&&!n._injector&&(n._injector=od(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _n(n){return n.outlet||ce}function _F(n,e){let t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}function hc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new fc(this.rootInjector)}},fc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(tt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Od=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=fy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return py(e,this._root).map(t=>t.value)}};function fy(n,e){if(n===e.value)return e;for(let t of e.children){let r=fy(n,t);if(r)return r}return null}function py(n,e){if(n===e.value)return[e];for(let t of e.children){let r=py(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pd=class extends Od{snapshot;constructor(e,t){super(e),this.snapshot=t,Cy(this,e)}toString(){return this.snapshot.toString()}};function qD(n){let e=EF(n),t=new lt([new xi("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new Br(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new Pd(new Bt(a,[]),e)}function EF(n){let e={},t={},r={},i="",o=new Zo([],e,r,i,t,ce,n,null,{});return new Fd("",new Bt(o,[]))}var Br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[lc]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&WD(i)&&(r.resolve[lc]=i.title),r}var Zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fd=class extends Od{url;constructor(e,t){super(t),this.url=e,Cy(this,t)}toString(){return zD(this._root)}};function Cy(n,e){e.value._routerState=n,e.children.forEach(t=>Cy(n,t))}function zD(n){let e=n.children.length>0?` { ${n.children.map(zD).join(", ")} } `:"";return`${n.value}${e}`}function Zm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fn(e.params,t.params)||n.paramsSubject.next(t.params),Wk(e.url,t.url)||n.urlSubject.next(t.url),Fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gy(n,e){let t=Fn(n.params,e.params)&&Yk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||gy(n.parent,e.parent))}function WD(n){return typeof n.title=="string"||n.title===null}var IF=new U(""),Dy=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new it;deactivateEvents=new it;attachEvents=new it;detachEvents=new it;routerOutletData=m1(void 0);parentContexts=x(fc);location=x(Di);changeDetector=x(jo);inputBinder=x(Ud,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new my(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=$e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kr]})}return n})(),my=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Br?this.route:e===fc?this.childContexts:e===IF?this.outletData:this.parent.get(e,t)}},Ud=new U(""),AD=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ca([r.queryParams,r.params,r.data]).pipe(ke(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=kC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function wF(n,e,t){let r=oc(n,e._root,t?t._root:void 0);return new Pd(r,e)}function oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=CF(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>oc(n,a)),s}}let r=DF(e.value),i=e.children.map(o=>oc(n,o));return new Bt(r,i)}}function CF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oc(n,r,i);return oc(n,r)})}function DF(n){return new Br(new lt(n.url),new lt(n.params),new lt(n.queryParams),new lt(n.fragment),new lt(n.data),n.outlet,n.component,n)}var sc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},KD="ngNavigationCancelingError";function Ld(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Oi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZD(!1,Ht.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[KD]=!0,t.cancellationCode=e,t}function bF(n){return QD(n)&&Oi(n.url)}function QD(n){return!!n&&n[KD]}var AF=(n,e,t,r)=>J(i=>(new yy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),yy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Zm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Vd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function TF(n,e,t){let r=n._root,i=e?e._root:null;return Xa(r,i,t,[r.value])}function SF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hw(n)?n:e.get(n):r}function Xa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wo(e);return n.children.forEach(s=>{MF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tc(a,t.getContext(s),i)),i}function MF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=RF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xa(n,e,a?a.children:null,r,i):Xa(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qo(a.outlet.component,s))}else s&&tc(e,a,i),i.canActivateChecks.push(new Vd(r)),o.component?Xa(n,null,a?a.children:null,r,i):Xa(n,null,t,r,i);return i}function RF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ni(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gy(n,e)||!Fn(n.queryParams,e.queryParams);case"paramsChange":default:return!gy(n,e)}}function tc(n,e,t){let r=Wo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tc(s,e.children.getContext(o),t):tc(s,null,t):tc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Qo(e.outlet.component,i)):t.canDeactivateChecks.push(new Qo(null,i)):t.canDeactivateChecks.push(new Qo(null,i))}function pc(n){return typeof n=="function"}function xF(n){return typeof n=="boolean"}function NF(n){return n&&pc(n.canLoad)}function OF(n){return n&&pc(n.canActivate)}function PF(n){return n&&pc(n.canActivateChild)}function kF(n){return n&&pc(n.canDeactivate)}function FF(n){return n&&pc(n.canMatch)}function YD(n){return n instanceof Yn||n?.name==="EmptyError"}var Cd=Symbol("INITIAL_VALUE");function ts(){return ke(n=>Ca(n.map(e=>e.pipe(Xn(1),Xu(Cd)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===Cd)return Cd;if(t===!1||LF(t))return t}return!0}),dt(e=>e!==Cd),Xn(1)))}function LF(n){return Oi(n)||n instanceof sc}function VF(n,e){return We(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(ae(L({},t),{guardsResult:!0})):jF(s,r,i,n).pipe(We(a=>a&&xF(a)?UF(r,o,n,e):Q(a)),J(a=>ae(L({},t),{guardsResult:a})))})}function jF(n,e,t,r){return le(n).pipe(We(i=>qF(i.component,i.route,t,e,r)),cn(i=>i!==!0,!0))}function UF(n,e,t,r){return le(e).pipe(Jn(i=>fo(HF(i.route.parent,r),BF(i.route,r),GF(n,i.path,t),$F(n,i.route,t))),cn(i=>i!==!0,!0))}function BF(n,e){return n!==null&&e&&e(new ly(n)),Q(!0)}function HF(n,e){return n!==null&&e&&e(new cy(n)),Q(!0)}function $F(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Zu(()=>{let s=hc(e)??t,a=ns(o,s),u=OF(a)?a.canActivate(e,n):ot(s,()=>a(e,n));return Hr(u).pipe(cn())}));return Q(i).pipe(ts())}function GF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>SF(s)).filter(s=>s!==null).map(s=>Zu(()=>{let a=s.guards.map(u=>{let l=hc(s.node)??t,h=ns(u,l),p=PF(h)?h.canActivateChild(r,n):ot(l,()=>h(r,n));return Hr(p).pipe(cn())});return Q(a).pipe(ts())}));return Q(o).pipe(ts())}function qF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=hc(e)??i,l=ns(a,u),h=kF(l)?l.canDeactivate(n,e,t,r):ot(u,()=>l(n,e,t,r));return Hr(h).pipe(cn())});return Q(s).pipe(ts())}function zF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=ns(s,n),u=NF(a)?a.canLoad(e,t):ot(n,()=>a(e,t));return Hr(u)});return Q(o).pipe(ts(),JD(r))}function JD(n){return Ru(rt(e=>{if(typeof e!="boolean")throw Ld(n,e)}),J(e=>e===!0))}function WF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=ns(s,n),u=FF(a)?a.canMatch(e,t):ot(n,()=>a(e,t));return Hr(u)});return Q(o).pipe(ts(),JD(r))}var ac=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function zo(n){return ho(new ac(n))}function KF(n){return ho(new q(4e3,!1))}function ZF(n){return ho(ZD(!1,Ht.GuardRejected))}var vy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ce])return KF(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:D,title:T}=i,M=ot(o,()=>a({params:m,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:T}));if(M instanceof lr)throw new cc(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new cc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new lr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},_y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QF(n,e,t,r,i){let o=XD(n,e,t);return o.matched?(r=vF(e,r),WF(r,e,t,i).pipe(J(s=>s===!0?o:L({},_y)))):Q(o)}function XD(n,e,t){if(e.path==="**")return YF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},_y):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zk)(t,n,e);if(!i)return L({},_y);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YF(n){return{matched:!0,parameters:n.length>0?ND(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function TD(n,e,t,r){return t.length>0&&eL(n,t,r)?{segmentGroup:new De(e,XF(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&tL(n,t,r)?{segmentGroup:new De(n.segments,JF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function JF(n,e,t,r){let i={};for(let o of t)if(Bd(n,e,o)&&!r[_n(o)]){let s=new De([],{});i[_n(o)]=s}return L(L({},r),i)}function XF(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&_n(r)!==ce){let i=new De([],{});t[_n(r)]=i}return t}function eL(n,e,t){return t.some(r=>Bd(n,e,r)&&_n(r)!==ce)}function tL(n,e,t){return t.some(r=>Bd(n,e,r))}function Bd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nL(n,e,t){return e.length===0&&!n.children[t]}var Ey=class{};function rL(n,e,t,r,i,o,s="emptyOnly"){return new Iy(n,e,t,r,i,s,o).recognize()}var iL=31,Iy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vy(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=TD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new Fd("",i),s=dF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(J(r=>({children:r,rootSnapshot:t})),Sr(r=>{if(r instanceof cc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ac?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(J(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return le(o).pipe(Jn(s=>{let a=r.children[s],u=_F(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Yu((s,a)=>(s.push(...a),s)),Mr(null),yp(),We(s=>{if(s===null)return zo(r);let a=eb(s);return oL(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return le(t).pipe(Jn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Sr(l=>{if(l instanceof ac)return Q(null);throw l}))),cn(u=>!!u),Sr(u=>{if(YD(u))return nL(r,i,o)?Q(new Ey):zo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return _n(r)!==s&&(s===ce||!Bd(i,o,r))?zo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):zo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=XD(t,i,o);if(!u)return zo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iL&&(this.allowRedirects=!1));let m=new Zo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,SD(i),_n(i),i.component??i._loadedComponent??null,i,MD(i)),D=kd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let T=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(We(M=>this.processSegment(e,r,t,M.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=QF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ke(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,D=new Zo(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,SD(r),_n(r),r.component??r._loadedComponent??null,r,MD(r)),T=kd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(T.params),D.data=Object.freeze(T.data);let{segmentGroup:M,slicedSegments:F}=TD(t,y,m,l);if(F.length===0&&M.hasChildren())return this.processChildren(h,l,M,D).pipe(J(B=>new Bt(D,B)));if(l.length===0&&F.length===0)return Q(new Bt(D,[]));let Z=_n(r)===o;return this.processSegment(h,l,M,F,Z?ce:o,!0,D).pipe(J(B=>new Bt(D,B instanceof Bt?[B]:[])))}))):zo(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):zF(e,t,r,this.urlSerializer).pipe(We(i=>i?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):ZF(t))):Q({routes:[],injector:e})}};function oL(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function sL(n){let e=n.value.routeConfig;return e&&e.path===""}function eb(n){let e=[],t=new Set;for(let r of n){if(!sL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=eb(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function SD(n){return n.data||{}}function MD(n){return n.resolve||{}}function aL(n,e,t,r,i,o){return We(s=>rL(n,e,t,r,s.extractedUrl,i,o).pipe(J(({state:a,tree:u})=>ae(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function cL(n,e){return We(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of tb(u))s.add(l);let a=0;return le(s).pipe(Jn(u=>o.has(u)?uL(u,r,n,e):(u.data=kd(u,u.parent,n).resolve,Q(void 0))),rt(()=>a++),po(1),We(u=>a===s.size?Q(t):vt))})}function tb(n){let e=n.children.map(t=>tb(t)).flat();return[n,...e]}function uL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!WD(i)&&(o[lc]=i.title),lL(o,n,e,r).pipe(J(s=>(n._resolvedData=s,n.data=kd(n,n.parent,t).resolve,null)))}function lL(n,e,t,r){let i=Jm(n);if(i.length===0)return Q({});let o={};return le(i).pipe(We(s=>dL(n[s],e,t,r).pipe(cn(),rt(a=>{if(a instanceof sc)throw Ld(new Jo,a);o[s]=a}))),po(1),J(()=>o),Sr(s=>YD(s)?vt:ho(s)))}function dL(n,e,t,r){let i=hc(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):ot(i,()=>o(e,t));return Hr(s)}function Qm(n){return ke(e=>{let t=n(e);return t?le(t).pipe(J(()=>e)):Q(e)})}var nb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[lc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(hL),providedIn:"root"})}return n})(),hL=(()=>{class n extends nb{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(ID))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gc=new U("",{providedIn:"root",factory:()=>({})}),fL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ee(0,"router-outlet")},dependencies:[Dy],encapsulation:2})}return n})();function by(n){let e=n.children&&n.children.map(by),t=e?ae(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=fL),t}var uc=new U(""),Ay=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(ld);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Hr(t.loadComponent()).pipe(J(rb),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ui(()=>{this.componentLoaders.delete(t)})),i=new ao(r,()=>new Oe).pipe(so());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pL(r,this.compiler,t,this.onLoadEndListener).pipe(ui(()=>{this.childrenLoaders.delete(r)})),s=new ao(o,()=>new Oe).pipe(so());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pL(n,e,t,r){return Hr(n.loadChildren()).pipe(J(rb),We(i=>i instanceof vm||Array.isArray(i)?Q(i):le(e.compileModuleAsync(i))),J(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(uc,[],{optional:!0,self:!0}).flat()),{routes:s.map(by),injector:o}}))}function gL(n){return n&&typeof n=="object"&&"default"in n}function rb(n){return gL(n)?n.default:n}var Ty=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(mL),providedIn:"root"})}return n})(),mL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ib=new U(""),ob=new U("");function yL(n,e,t){let r=n.get(ob),i=n.get(It);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),vL(n))),{onViewTransitionCreated:u}=r;return u&&ot(n,()=>u({transition:a,from:e,to:t})),s})}function vL(n){return new Promise(e=>{nm({read:()=>setTimeout(e)},{injector:n})})}var sb=new U(""),Sy=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortSubject=new Oe;configLoader=x(Ay);environmentInjector=x(tt);destroyRef=x(wi);urlSerializer=x(dc);rootContexts=x(fc);location=x(Ho);inputBindingEnabled=x(Ud,{optional:!0})!==null;titleStrategy=x(nb);options=x(gc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Ty);createViewTransition=x(ib,{optional:!0});navigationErrorHandler=x(sb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new sy(i)),r=i=>this.events.next(new ay(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new lt(null),this.transitions.pipe(dt(r=>r!==null),ke(r=>{let i=!1,o=!1;return Q(r).pipe(ke(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),vt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ae(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.rawUrl),l,Rd.IgnoredSameUrlNavigation)),s.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(ke(l=>(this.events.next(new Xo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?vt:Promise.resolve(l))),aL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ae(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new xd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,D=new Xo(l,this.urlSerializer.serialize(h),p,y);this.events.next(D);let T=qD(this.rootComponentType).snapshot;return this.currentTransition=r=ae(L({},s),{targetSnapshot:T,urlAfterRedirects:h,extras:ae(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Q(r)}else{let l="";return this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Rd.IgnoredByUrlHandlingStrategy)),s.resolve(!1),vt}}),rt(s=>{let a=new ny(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=ae(L({},s),{guards:TF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),VF(this.environmentInjector,s=>this.events.next(s)),rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ld(this.urlSerializer,s.guardsResult);let a=new ry(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ht.GuardRejected),!1)),Qm(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(rt(a=>{let u=new iy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ke(a=>{let u=!1;return Q(a).pipe(cL(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Ht.NoDataFromResolver)}}))}),rt(a=>{let u=new oy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Qm(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(rt(h=>{u.component=h}),J(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Ca(a(s.targetSnapshot.root)).pipe(Mr(null),Xn(1))}),Qm(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?le(u).pipe(J(()=>r)):Q(r)}),J(s=>{let a=wF(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ae(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),rt(()=>{this.events.next(new ic)}),AF(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Xn(1),rt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),_p(this.transitionAbortSubject.pipe(rt(s=>{throw s}))),ui(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sr(s=>{if(this.destroyed)return r.resolve(!1),vt;if(o=!0,QD(s))this.events.next(new ur(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bF(s)?this.events.next(new es(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new rc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof sc){let{message:l,cancellationCode:h}=Ld(this.urlSerializer,u);this.events.next(new ur(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new es(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return vt}))}))}cancelNavigationTransition(t,r,i){let o=new ur(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _L(n){return n!==Td}var EL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(IL),providedIn:"root"})}return n})(),wy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},IL=(()=>{class n extends wy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ii(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ab=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>x(wL),providedIn:"root"})}return n})(),wL=(()=>{class n extends ab{location=x(Ho);urlSerializer=x(dc);options=x(gc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=x(Ty);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=qD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Xo)this.stateMemento=this.createStateMemento();else if(t instanceof Ur)this.rawUrlTree=r.initialUrl;else if(t instanceof xd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ic?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ur&&(t.code===Ht.GuardRejected||t.code===Ht.NoDataFromResolver)?this.restoreHistory(r):t instanceof rc?this.restoreHistory(r,!0):t instanceof Ln&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof lr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ii(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cb(n,e){n.events.pipe(dt(t=>t instanceof Ln||t instanceof ur||t instanceof rc||t instanceof Ur),J(t=>t instanceof Ln||t instanceof Ur?0:(t instanceof ur?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?2:1),dt(t=>t!==2),Xn(1)).subscribe(()=>{e()})}var CL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Em);stateManager=x(ab);options=x(gc,{optional:!0})||{};pendingTasks=x(sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Sy);urlSerializer=x(dc);location=x(Ho);urlHandlingStrategy=x(Ty);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(EL);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(uc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Ud,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ur&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ln)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_L(i.source)},s);this.scheduleNavigation(a,Td,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Td,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(by),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=BD(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return HD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Oi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Td,null,r)}navigate(t,r={skipLocationChange:!1}){return bL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},CL):r===!1?i=L({},DL):i=r,Oi(t))return wD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return wD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return cb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function AL(n){return!(n instanceof ic)&&!(n instanceof es)}var rs=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:M1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Oi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(K(xe),K(Br),Kg("tabindex"),K(yn),K(Yt),K(kn))};static \u0275dir=$e({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ad("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Uo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Uo],replaceUrl:[2,"replaceUrl","replaceUrl",Uo],routerLink:"routerLink"},features:[kr]})}return n})();var jd=class{};var TL=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dt(t=>t instanceof Ln),Jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=od(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return le(i).pipe(Tr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(We(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return le([o,s]).pipe(Tr())}else return o})}static \u0275fac=function(r){return new(r||n)(H(xe),H(ld),H(tt),H(jd),H(Ay))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ub=new U(""),SL=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ln?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ur&&t.code===Rd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){iC()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function lb(n,...e){return Zt([{provide:uc,multi:!0,useValue:n},[],{provide:Br,useFactory:db,deps:[xe]},{provide:$a,multi:!0,useFactory:hb},e.map(t=>t.\u0275providers)])}function db(n){return n.routerState.root}function is(n,e){return{\u0275kind:n,\u0275providers:e}}function hb(){let n=x(Le);return e=>{let t=n.get(nr);if(e!==t.components[0])return;let r=n.get(xe),i=n.get(fb);n.get(My)===1&&r.initialNavigation(),n.get(pb,null,de.Optional)?.setUpPreloading(),n.get(ub,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fb=new U("",{factory:()=>new Oe}),My=new U("",{providedIn:"root",factory:()=>1});function ML(){return is(2,[{provide:My,useValue:0},{provide:sd,multi:!0,deps:[Le],useFactory:e=>{let t=e.get($C,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(xe),o=e.get(fb);cb(i,()=>{r(!0)}),e.get(Sy).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}])}function RL(){return is(3,[{provide:sd,multi:!0,useFactory:()=>{let e=x(xe);return()=>{e.setUpLocationChangeListener()}}},{provide:My,useValue:2}])}var pb=new U("");function xL(n){return is(0,[{provide:pb,useExisting:TL},{provide:jd,useExisting:n}])}function gb(){return is(6,[{provide:kn,useClass:Om}])}function NL(){return is(8,[AD,{provide:Ud,useExisting:AD}])}function OL(n){let e=[{provide:ib,useValue:yL},{provide:ob,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return is(9,e)}var PL=[Ho,{provide:dc,useClass:Jo},xe,fc,{provide:Br,useFactory:db,deps:[xe]},Ay,[]],os=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[PL,[],{provide:uc,multi:!0,useValue:t},[],r?.errorHandler?{provide:sb,useValue:r.errorHandler}:[],{provide:gc,useValue:r||{}},r?.useHash?FL():LL(),kL(),r?.preloadingStrategy?xL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?VL(r):[],r?.bindToComponentInputs?NL().\u0275providers:[],r?.enableViewTransitions?OL().\u0275providers:[],jL()]}}static forChild(t){return{ngModule:n,providers:[{provide:uc,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=fn({})}return n})();function kL(){return{provide:ub,useFactory:()=>{let n=x(ZC),e=x(Ee),t=x(gc),r=x(Sy),i=x(dc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new SL(i,r,n,e,t)}}}function FL(){return{provide:kn,useClass:Om}}function LL(){return{provide:kn,useClass:Nm}}function VL(n){return[n.initialNavigation==="disabled"?RL().\u0275providers:[],n.initialNavigation==="enabledBlocking"?ML().\u0275providers:[]]}var RD=new U("");function jL(){return[{provide:RD,useFactory:hb},{provide:$a,multi:!0,useExisting:RD}]}var UL=n=>({procedure:n}),Hd=class n{constructor(e){this.router=e}card_data=null;onClick_card(){this.card_data.unique=="subject"?this.router.navigate([this.card_data.url]):window.open(this.card_data.url,"_blank")}static \u0275fac=function(t){return new(t||n)(K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-card"]],inputs:{card_data:"card_data"},decls:13,vars:5,consts:[[1,"container",3,"click"],[1,"overlay"],[1,"right_arrow"],["width","50px","height","50px","viewBox","0 -6.5 38 38","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#fff"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","icons","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","ui-gambling-website-lined-icnos-casinoshunter","transform","translate(-1511.000000, -158.000000)","fill","black","fill-rule","nonzero"],["id","1","transform","translate(1350.000000, 120.000000)"],["d","M187.812138,38.5802109 L198.325224,49.0042713 L198.41312,49.0858421 C198.764883,49.4346574 198.96954,49.8946897 199,50.4382227 L198.998248,50.6209428 C198.97273,51.0514917 198.80819,51.4628128 198.48394,51.8313977 L198.36126,51.9580208 L187.812138,62.4197891 C187.031988,63.1934036 185.770571,63.1934036 184.990421,62.4197891 C184.205605,61.6415481 184.205605,60.3762573 184.990358,59.5980789 L192.274264,52.3739093 L162.99947,52.3746291 C161.897068,52.3746291 161,51.4850764 161,50.3835318 C161,49.2819872 161.897068,48.3924345 162.999445,48.3924345 L192.039203,48.3917152 L184.990421,41.4019837 C184.205605,40.6237427 184.205605,39.3584519 184.990421,38.5802109 C185.770571,37.8065964 187.031988,37.8065964 187.812138,38.5802109 Z","id","right-arrow"]],template:function(t,r){t&1&&(N(0,"div",0),Re("click",function(){return r.onClick_card()}),ee(1,"div",1),N(2,"h3"),k(3),R(),N(4,"span",2),Qt(),N(5,"svg",3),ee(6,"g",4)(7,"g",5),N(8,"g",6)(9,"g",7)(10,"g",8)(11,"g",9),ee(12,"path",10),R()()()()()()()),t&2&&(G(2),ud(xt(3,UL,r.card_data.unique=="procedure")),G(),Rt(" ",r.card_data.title," "))},styles:["*[_ngcontent-%COMP%]{--card_overlay_color:#00D6C5}.container[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;padding:30px 20px;background-color:#fff;border-radius:15px;box-shadow:0 4px 8px #0003;min-width:200px;width:90%;min-height:60px;transition:.4s;position:relative}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:3}.container[_ngcontent-%COMP%]:hover{scale:1.019;cursor:pointer;color:#fff}.container[_ngcontent-%COMP%]:hover   g[_ngcontent-%COMP%]{fill:#fff}.container[_ngcontent-%COMP%]:hover   .right_arrow[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fade_Right .6s ease forwards}.container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:15px}.container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:20%;height:29px;background-color:var(--card_overlay_color);border-radius:15px 0% 100%/15px 100% 100%;transition:.5s}.container[_ngcontent-%COMP%]   .right_arrow[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_fade_Right{0%{transform:translate(-50px)}to{transform:translate(0)}}@media screen and (max-width: 290px){.container[_ngcontent-%COMP%]{width:50%}}.procedure[_ngcontent-%COMP%]{text-decoration:dotted}"]})};var Gr=class n{isLoading=Et(!1);constructor(){}specProf=new Set;bypassItIfYouCan(){document.addEventListener("contextmenu",e=>{e.preventDefault()}),document.addEventListener("keydown",e=>{(e.ctrlKey&&e.key=="p"||e.ctrlKey&&e.shiftKey&&(e.key=="i"||e.key=="c")||e.ctrlKey&&e.key=="s"||e.ctrlKey&&e.key=="u"||e.key=="F12")&&e.preventDefault()}),document.body.style.userSelect="none",setInterval(()=>{document.body.style.userSelect="none"},5e3)}heyedR9omLwala(e){let t=e.map(r=>(r.subject=r.subject.replace(/^(\d+|\s*|\d+ |\s*\d+)[-–\.]\s*/,"").trim(),r));console.log(t)}specialityList=["RHUMATOLOGIE","PHARMACIE","TOXICOLOGIE","CARDIOLOGIE",`PHARMACIE BIOLOGISTE\r\r
(VIROLOGIE)`,"MICROBIOLOGIE ET BIOLOGIE MOLECULAIRE","MICROBIOLOGIE","P\xC9DIATRIE","CHIRURGIE THORACIQUE","CHIRURGIE GENERALE","CHIRURGIE PEDIATRIQUE","GASTRO-ENTEROLOGIE","MEDECINE INTERNE","HEMATOLOGIE BIOLOGIQUE","ANESTHESIE-REANIMATION","CHIRURGIE REPARATRICE ET PLASTIQUE","CHIRURGIE CARDIO-VASCULAIRE","GYNECOLOGIE- OBSTETRIQUE","DERMATOLOGIE","CHIRURGIE CARDIOVASCULAIRE",`CHIRURGIE MAXILLO-FACIALE\r
`,"UROLOGIE","NEURO-CHIRURGIE","REANIMATION MEDICALE","NEUROLOGIE","PNEUMO-PHTISIOLOGIE","MEDECINE NUCLEAIRE","CHIRURGIE VASCULAIRE PERIPHERIQUE","PHARMACOLOGIE","O.R.L","ANATOMIE","ANESTHESIE REANIMATION","RADIOTHERAPIE","PSYCHIATRIE","STOMATOLOGIE ET CHIRURGIE MAXILLO FACIALE","MEDECINE SOCIALE, SANTE PUBLIQUE ET HYGIENE","ANATOMIE PATHOLOGIQUE","NEPHROLOGIE","MEDECINE LEGALE","GENETIQUE","BIOCHIMIE","IMMUNOLOGIE"];professorList=["RKAIN HANANE","AHID SAMIR","BOUSLIMAN YASSIR","EL JAOUDI RACHID","MOUINE NAJAT","LAKHAL ZOUHAIR","KHEYI JAMAL","BEN EL MAKKI  Abdelilah","DOGHMI NAOUFAL","Pr. Reda ","AANNIZ TARIK","OUADGHIRI MOUNA","KABBAJ HAKIMA","SEKHSOKH YASSINE","LAMYA KARBOUBI","AMINA BARAKAT","CHKIRATE BOUCHRA ","MAHRAOUI CHAFIK","EL KHORASSANI MOHAMED","ETTAIR SAID","MESKINI TOUFIK","HESSISSEN LAILA","THIMOU AMAL","KABIRI EL HASSAN","MASSINE HAMOUMI","BOUCHIKH MOHAMMED ","EL ABSI MOHAMED","EL MALKI HADJ OMAR","SABBAH FARID","BENAMR SAID","BOUCHENTOUF SIDI MOHAMMED","AIT ALI ABDELMOUNAIM","ZENTAR AZIZ","BOUNAIM AHMED","MOUJAHID MOUNTASSIR","Amrani Abdelouahed ","BOUHAFS AMINE","OUBEJJA HOUDA","AJANA FATIMA ZOHRA","AMMOURI WAFA"," BELMEKKI ABDELKADER","EL MOUSSAOUI RACHID","TADILI SIDI JAWAD","AWAB AL MAHDI","ALILOU MUSTAPHA","FEJJAL NAWFAL","KHALES AMINE","BAMOUS MEHDI","ALAMI MOHAMED HASSAN","KOUACH JAOUAD","FILALI  ADIB ABDELHAI","MEZIANE MARYEME","ISMAILI NADIA","Younes Moutaki allah","BELLOUIZE  SIHAM","BOULAADAS MALIK","NOUINI YASSINE","EL FATEMI NIZARE","HEMAMA MUSTAPHA","ABOUQAL REDOUANE","BELAYACHI JIHANE","YOUSFI MALKI MOUNIA","FILALI KARIM","ECH-CHERIF EL KETTANI SELMA","SATTE AMAL","REGRAGUI WAFA","ZAHRAOUI RACHIDA","BOURKADI JAMAL-EDDINE","EL FTOUH MUSTAPHA","SOUALHI MOUNA","ACHACHI LEILA","GUERROUJ HASNAE","LEKEHAL BRAHIM","MEDDAH BOUCHRA","BENCHEIKH RAZIKA","ESSAKALLI HOUSSYNI LEILA","BENBOUZID MOHAMMED ANAS","BENARIBA FOUAD","ERRAMI NOUREDDINE","ZALAGH MOHAMMED","JAHIDI MOHAMMED ALI","OURAINI SALOUA","HEMMAOUI BOUCHAIB","BASSIR  RIDA ALLAH","GAZZAZ  MILOUDI","EL AHMADI BRAHIM","KEBDANI TAYEB ","HASSOUNI KHALID","EL KACEMI  HANAN","SABIR MARIA","HAMAMA JALAL","ELARBI BOUAITI","CHERRADI NADIA","ELKTAIBI ABDERRAHIM","CHAHDI HAFSA","DAMIRI AMAL","ELOCHI MOHAMED REDA","ZAJJARI YASSIR","AIT BOUGHIMA FADILA","CHAFAI ELALAOUI SIHAM","OUAZZANI CHADIA","HADEF RACHID","ZRARA ABDELHAMID","ATOUF OUAFA","OUADGHIRI SANAE"];static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var BL="firebase",HL="11.5.0";yt(BL,HL,"app");function mc(n){n===void 0&&(Ua(mc),n=x(Le));let e=n.get(zl);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Vn=new rr("ANGULARFIRE2_VERSION");function yc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var as=(n,e)=>{let t=e?[e]:yu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ss=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ss||{}),mb=Vo()&&typeof Zone<"u"?ss.WARN:ss.SILENT;var $d=class{zone;delegate;constructor(e,t=dp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},jn=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(Ee);this.outsideAngular=t.runOutsideAngular(()=>new $d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new $d(typeof Zone>"u"?void 0:Zone.current,wa))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yb=!1;function $L(n,e){!yb&&(mb>ss.SILENT||Vo())&&(yb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mb>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function GL(n){let e=x(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Pi(n){let e=x(Ee,{optional:!0});return e?e.run(()=>n()):n()}var qL=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ot(t,()=>Pi(()=>n.apply(void 0,r)))),Ve=(n,e,t)=>(t||=e?ss.WARN:ss.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(jn),s=x(zl),a=x(tt)}catch{return $L(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Pi(()=>s.add())),i[l]=qL(i[l],r,a));let u=GL(()=>n.apply(this,i));return e?u instanceof re?u.pipe(zt(o.outsideAngular),Ut(o.insideAngular),mc(a)):u instanceof Promise?Pi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>ot(a,()=>Pi(()=>l(p))),p=>ot(a,()=>Pi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Pi(()=>u):u instanceof re?u.pipe(zt(o.outsideAngular),Ut(o.insideAngular)):Pi(()=>u)});var hr=class{constructor(e){return e}},ki=class{constructor(){return yu()}};function WL(n){return n&&n.length===1?n[0]:new hr(ha())}var Ry=new U("angularfire2._apps"),KL={provide:hr,useFactory:WL,deps:[[new _t,Ry]]},ZL={provide:ki,deps:[[new _t,Ry]]};function QL(n){return(e,t)=>{let r=t.get(Jt);yt("angularfire",Vn.full,"core"),yt("angularfire",Vn.full,"app"),yt("angular",wm.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new hr(i)}}function vb(n,...e){return Zt([KL,ZL,{provide:Ry,useFactory:QL(n),multi:!0,deps:[Ee,Le,jn,...e]}])}var _b=Ve(VE,!0);var YL=new Map,JL={activated:!1,tokenObservers:[]},XL={initialized:!1,enabled:!1};function En(n){return YL.get(n)||Object.assign({},JL)}function Cb(){return XL}var eV="https://content-firebaseappcheck.googleapis.com/v1";var tV="exchangeDebugToken",Eb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},jq=24*60*60*1e3;var Oy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return j(this,null,function*(){this.stop();try{this.pending=new Uf,this.pending.promise.catch(t=>{}),yield nV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Uf,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nV(n){return new Promise(e=>{setTimeout(e,n)})}var rV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},qr=new PE("appCheck","AppCheck",rV);function Db(n){if(!En(n).activated)throw qr.create("use-before-activation",{appName:n.name})}function bb(r,i){return j(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw qr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw qr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw qr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function Ab(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${eV}/projects/${t}/apps/${r}:${tV}?key=${i}`,body:{debug_token:e}}}var iV="firebase-app-check-database",oV=1,Py="firebase-app-check-store";var Gd=null;function sV(){return Gd||(Gd=new Promise((n,e)=>{try{let t=indexedDB.open(iV,oV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Py,{keyPath:"compositeKey"})}}}catch(t){e(qr.create("storage-open",{originalErrorMessage:t?.message}))}}),Gd)}function aV(n,e){return cV(uV(n),e)}function cV(n,e){return j(this,null,function*(){let r=(yield sV()).transaction(Py,"readwrite"),o=r.objectStore(Py).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(qr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function uV(n){return`${n.options.appId}-${n.name}`}var vc=new mu("@firebase/app-check");function xy(n,e){return Bf()?aV(n,e).catch(t=>{vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Tb(){return Cb().enabled}function Sb(){return j(this,null,function*(){let n=Cb();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lV={error:"UNKNOWN_ERROR"};function dV(n){return SE.encodeString(JSON.stringify(n),!1)}function ky(n,e=!1,t=!1){return j(this,null,function*(){let r=n.app;Db(r);let i=En(r),o=i.token,s;if(o&&!_c(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(_c(l)?o=l:yield xy(r,void 0))}if(!e&&o&&_c(o))return{token:o.token};let a=!1;if(Tb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=bb(Ab(r,yield Sb()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield xy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),Ny(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield En(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),s=l}let u;return o?s?_c(o)?u={token:o.token,internalError:s}:u=Ny(s):(u={token:o.token},i.token=o,yield xy(r,o)):u=Ny(s),a&&gV(r,u),u})}function hV(n){return j(this,null,function*(){let e=n.app;Db(e);let{provider:t}=En(e);if(Tb()){let r=yield Sb(),{token:i}=yield bb(Ab(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function fV(n,e,t,r){let{app:i}=n,o=En(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_c(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Ib(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Ib(n))}function Mb(n,e){let t=En(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ib(n){let{app:e}=n,t=En(e),r=t.tokenRefresher;r||(r=pV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pV(n){let{app:e}=n;return new Oy(()=>j(this,null,function*(){let t=En(e),r;if(t.token?r=yield ky(n,!0):r=yield ky(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=En(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Eb.RETRIAL_MIN_WAIT,Eb.RETRIAL_MAX_WAIT)}function gV(n,e){let t=En(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _c(n){return n.expireTimeMillis-Date.now()>0}function Ny(n){return{token:dV(lV),error:n}}var Fy=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=En(this.app);for(let t of e)Mb(this.app,t.next);return Promise.resolve()}};function mV(n,e){return new Fy(n,e)}function yV(n){return{getToken:e=>ky(n,e),getLimitedUseToken:()=>hV(n),addTokenListener:e=>fV(n,"INTERNAL",e),removeTokenListener:e=>Mb(n.app,e)}}var vV="@firebase/app-check",_V="0.8.13";var EV="app-check",wb="app-check-internal";function IV(){da(new la(EV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wb).initialize()})),da(new la(wb,n=>{let e=n.getProvider("app-check").getImmediate();return yV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yt(vV,_V)}IV();var wV="app-check";var zr=class{constructor(){return as(wV)}};var CV=["localhost","0.0.0.0","127.0.0.1"],Jq=typeof window<"u"&&CV.includes(window.location.hostname);function Nb(n){return new re(function(e){var t=fa(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Ob="auth",fr=class{constructor(e){return e}},Ec=class{constructor(){return as(Ob)}};var Ly=new U("angularfire2.auth-instances");function p4(n,e){let t=yc(Ob,n,e);return t&&new fr(t)}function g4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fr(r)}}var m4={provide:Ec,deps:[[new _t,Ly]]},y4={provide:fr,useFactory:p4,deps:[[new _t,Ly],hr]};function Pb(n,...e){return yt("angularfire",Vn.full,"auth"),Zt([y4,m4,{provide:Ly,useFactory:g4(n),multi:!0,deps:[Ee,Le,jn,ki,[new _t,zr],...e]}])}var qd=Ve(Nb,!0);var kb=Ve(Gf,!0,2);var Fb=Ve(Qf,!0);var Lb=Ve(fa,!0);var Vy=Ve(zf,!0,2);var Vb=Ve(qf,!0,2);var jb=Ve(Zf,!0,2);var Ic=Ve(Kf,!0,2);var Ub=Ve(Wf,!0,2);var tn=class n{constructor(e){this.router=e;Lb(this.firebaseAuth,t=>{t?this.user$.set(t):this.user$.set(null)})}sharedService=x(Gr);firebaseAuth=x(fr);errorMessage=Et(null);errorMessage_signUp=Et(null);user$=Et(null);onLogin(e){if(e){let t=Vb(this.firebaseAuth,e.email,e.password).then(r=>{r.user.emailVerified?r.user&&r.user.emailVerified&&(this.errorMessage.set(null),this.user$.set(r.user),this.router.navigate(["/home"])):(this.errorMessage.set("Email pas encore v\xE9rifi\xE9 !"),Ic(this.firebaseAuth),sessionStorage.clear())}).catch(r=>{r.code=="auth/invalid-credential"&&this.errorMessage.set("Email ou mot de passe invalide !")});return le(t)}return Q(null)}onLoginMicrosoft(){let e=new $f("microsoft.com"),t=jb(this.firebaseAuth,e).then(r=>{console.log("Test Microsoft Login",r),r.user&&r.user.emailVerified?this.router.navigate(["/subject"]):r.user.emailVerified||(Vy(r.user),Ic(this.firebaseAuth),this.router.navigate(["/verifyEmail"]),this.errorMessage.set("Email pas encore v\xE9rifi\xE9 !"))}).catch(r=>{r.code=="auth/email-already-in-use"?this.errorMessage_signUp.set("Email d\xE9j\xE0 utilis\xE9 !"):r.code=="auth/invalid-email"&&this.errorMessage_signUp.set("Email invalide !")});return le(t)}onSignUp(e){let t=kb(this.firebaseAuth,e.email,e.password).then(r=>{Ub(r.user,{displayName:e.username}),Vy(r.user),Ic(this.firebaseAuth),this.router.navigate(["/verifyEmail/"+r.user.email]),this.errorMessage_signUp.set(null)}).catch(r=>{r.code=="auth/email-already-in-use"?this.errorMessage_signUp.set("Email d\xE9j\xE0 utilis\xE9 !"):r.code=="auth/invalid-email"&&this.errorMessage_signUp.set("Email invalide !")});return le(t)}onLogout(){sessionStorage.clear(),this.router.navigate(["/login"]),Ic(this.firebaseAuth).then(e=>{this.user$.set(null)}),this.errorMessage.set(null),this.errorMessage_signUp.set(null)}isLoggedIn(){return qd(this.firebaseAuth).pipe(J(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(H(xe))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function _4(n,e){if(n&1){let t=Ai();N(0,"div",5)(1,"span",6),Re("click",function(){gn(t);let i=Ge();return mn(i.onLogout())}),Qt(),N(2,"svg",7),ee(3,"g",8)(4,"g",9),N(5,"g",10),ee(6,"path",11),R()()()()}}var cs=class n{constructor(e){this.router=e}authService=x(tn);username=null;ngOnInit(){this.username=this.authService.user$().email.split("@")[0]}onLogout(){this.authService.onLogout()}static \u0275fac=function(t){return new(t||n)(K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-header"]],decls:8,vars:2,consts:[[1,"header_container"],[1,"img_cnt",3,"click"],["src","images/image.png","alt","Logo","height","70px",1,"logo"],[1,"title_desc"],[1,"info_details"],[1,"logout"],[1,"logOut_span",3,"click"],["width","34","height","34","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill-rule","evenodd","clip-rule","evenodd","d","M2 6.5C2 4.01472 4.01472 2 6.5 2H12C14.2091 2 16 3.79086 16 6V7C16 7.55228 15.5523 8 15 8C14.4477 8 14 7.55228 14 7V6C14 4.89543 13.1046 4 12 4H6.5C5.11929 4 4 5.11929 4 6.5V17.5C4 18.8807 5.11929 20 6.5 20H12C13.1046 20 14 19.1046 14 18V17C14 16.4477 14.4477 16 15 16C15.5523 16 16 16.4477 16 17V18C16 20.2091 14.2091 22 12 22H6.5C4.01472 22 2 19.9853 2 17.5V6.5ZM18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L19.7071 15.7071C19.3166 16.0976 18.6834 16.0976 18.2929 15.7071C17.9024 15.3166 17.9024 14.6834 18.2929 14.2929L19.5858 13L11 13C10.4477 13 10 12.5523 10 12C10 11.4477 10.4477 11 11 11L19.5858 11L18.2929 9.70711C17.9024 9.31658 17.9024 8.68342 18.2929 8.29289Z","fill","#a1a1a1"]],template:function(t,r){t&1&&(N(0,"main",0)(1,"div",1),Re("click",function(){return r.router.navigate(["home"])}),ee(2,"img",2),N(3,"span",3),k(4,"Facult\xE9 de M\xE9decine et de Pharmacie de Rabat"),R()(),N(5,"div",4),k(6),me(7,_4,7,0,"div",5),R()()),t&2&&(G(6),Rt(" ",r.username," "),G(),Xt(r.authService.isLoggedIn()?7:-1))},styles:['.header_container[_ngcontent-%COMP%]{background-color:#fff;height:70px;border-radius:1px;display:flex;position:relative;justify-content:flex-end}.header_container[_ngcontent-%COMP%]   .img_cnt[_ngcontent-%COMP%]{display:flex;position:absolute;gap:1px;left:0;width:180px}.header_container[_ngcontent-%COMP%]   .img_cnt[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:103px}.header_container[_ngcontent-%COMP%]   .img_cnt[_ngcontent-%COMP%]   .title_desc[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center;color:gray}.header_container[_ngcontent-%COMP%]   .img_cnt[_ngcontent-%COMP%]:hover{cursor:pointer}.header_container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-family:Poppins,sans-serif}.header_container[_ngcontent-%COMP%]   .info_details[_ngcontent-%COMP%]{font-size:13px;text-align:center;color:gray;height:100%;display:flex;align-items:center;gap:10px}.header_container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{right:1px;text-align:center;height:100%;display:flex;align-items:center}.header_container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   #logOut_text[_ngcontent-%COMP%]{display:block;color:#a1a1a1;position:absolute}.header_container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .logOut_span[_ngcontent-%COMP%]:before{content:"Quitter";width:30px;color:gray;height:10px;font-size:.75em;display:none;position:absolute;bottom:10px;right:20%}.header_container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .logOut_span[_ngcontent-%COMP%]:hover{scale:1.097;transition:.5s;cursor:pointer}.header_container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .logOut_span[_ngcontent-%COMP%]:hover:before{display:block;bottom:-7px}@media screen and (max-width: 750px){.header_container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{transform:translateY(65px);color:#fff}}']})};var us=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer_container"],[1,"footer_content"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1),k(2," \xA9 Service Informatique de la FMP Rabat "),R()())},styles:[".footer_container[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#333;display:grid;place-items:center;color:#d3d3d3;opacity:.875;font-size:.9rem}"]})};function E4(n,e){if(n&1&&ee(0,"app-card",3),n&2){let t=e.$implicit,r=e.$index;ud("card card"+r),Y("card_data",t)}}var zd=class n{constructor(e){this.router=e}data=[{title:"Proc\xE9dure de soutenance de th\xE8se",description:"Proc\xE9dure de soutenance de th\xE8se",icon:"icon1.png",url:"https://fmp.um5.ac.ma/sites/fmp.um5.ac.ma/files/Proc%C3%A9dure%20de%20soutenance%20de%20th%C3%A8se.pdf",unique:"procedure"},{title:"Sujets de th\xE8se propos\xE9s",description:"Sujets de th\xE8se propos\xE9s",icon:"icon1.png",url:"/subject",unique:"subject"},{title:"Fiche de d\xE9pot de sujet de th\xE8se ",description:"Fiche de d\xE9pot de sujet de th\xE8se ",icon:"icon2.png",url:"https://fmp.um5.ac.ma/sites/fmp.um5.ac.ma/files/FICHE%20DE%20DEPOT%20DU%20SUJET%20DE%20THESE_0.pdf",unique:null},{title:"D\xE9poser la fiche de d\xE9pot du sujet de th\xE8se",description:"D\xE9poser la fiche de d\xE9pot du sujet de th\xE8se",icon:"icon3.png",url:"https://forms.office.com/pages/responsepage.aspx?id=_VCZqYIlME-RbvwGG3oli4OFeXKLNqtHpXp4_T5ltOBUNThRSlVSSENTUjJQMEZFNVc3TkRaTTFKMy4u&route=shorturl",unique:null},{title:"Fiche d'autorisation de soutenance",description:"Fiche d'autorisation de soutenance",icon:"icon4.png",url:"https://fmp.um5.ac.ma/sites/fmp.um5.ac.ma/files/AUTORISATION%20DE%20SOUTENANCE%20DE%20THESE_0.pdf",unique:null},{title:"D\xE9poser la fiche d'autorisation de soutenance",description:"D\xE9poser la fiche d'autorisation de soutenance",icon:"icon5.png",url:"https://forms.office.com/pages/responsepage.aspx?id=_VCZqYIlME-RbvwGG3oli4OFeXKLNqtHpXp4_T5ltOBUOTdSSUdHOUtPQ1lOUExLMVc5NU5ZNzQwVS4u&route=shorturl",unique:null},{title:"La charte graphique",description:"La charte graphique",icon:"icon6.png",url:"https://drive.google.com/file/d/1PtHR9vDETSofBqmlOG_-bpmtjWo7UX0n/view?usp=sharing",unique:null}];static \u0275fac=function(t){return new(t||n)(K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"title_cnt"],[1,"card_container"],[3,"card_data","class"],[3,"card_data"]],template:function(t,r){t&1&&(ee(0,"app-header"),N(1,"section",0)(2,"h2"),k(3,"Soutenance de th\xE8se "),R(),N(4,"p"),k(5,"Plateforme de la proc\xE9dure de soutenance de th\xE8se"),R()(),N(6,"div",1),CC(7,E4,1,3,"app-card",2,wC),R(),ee(9,"app-footer")),t&2&&(G(7),DC(r.data))},dependencies:[Hd,cs,us],styles:[".card_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(300px,1fr));align-content:start;gap:40px;min-height:100vh;margin:10px}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade_In 1s linear 0s 1 forwards;opacity:0}.card0[_ngcontent-%COMP%]{animation-delay:0s}.card1[_ngcontent-%COMP%]{animation-delay:.1s}.card2[_ngcontent-%COMP%]{animation-delay:.2s}.card3[_ngcontent-%COMP%]{animation-delay:.3s}.card4[_ngcontent-%COMP%]{animation-delay:.4s}.card5[_ngcontent-%COMP%]{animation-delay:.5s}.card6[_ngcontent-%COMP%]{animation-delay:.6s}@keyframes _ngcontent-%COMP%_fade_In{0%{opacity:0}to{opacity:1}}@media screen and (max-width: 1000px){.card_container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(300px,1fr))}}@media screen and (max-width: 700px){.card_container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(300px,1fr))}}"]})};var wc=class n{constructor(e,t){this.router=e;this.auth=t}authService=x(tn);canActivate(e,t){return qd(this.auth).pipe(J(r=>r?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(H(xe),H(fr))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qb=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(K(yn),K(Yt))};static \u0275dir=$e({type:n})}return n})(),Gy=(()=>{class n extends Qb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ii(n)))(i||n)}})();static \u0275dir=$e({type:n,features:[On]})}return n})(),nh=new U("");var I4={provide:nh,useExisting:Pr(()=>Kr),multi:!0};function w4(){let n=cr()?cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C4=new U(""),Kr=(()=>{class n extends Qb{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!w4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(K(yn),K(Yt),K(C4,8))};static \u0275dir=$e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Lo([I4]),On]})}return n})();function qy(n){return n==null||zy(n)===0}function zy(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Yb=new U(""),Jb=new U(""),D4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qe=class{static min(e){return b4(e)}static max(e){return A4(e)}static required(e){return T4(e)}static requiredTrue(e){return S4(e)}static email(e){return M4(e)}static minLength(e){return R4(e)}static maxLength(e){return x4(e)}static pattern(e){return N4(e)}static nullValidator(e){return Xb()}static compose(e){return oA(e)}static composeAsync(e){return aA(e)}};function b4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function A4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function T4(n){return qy(n.value)?{required:!0}:null}function S4(n){return n.value===!0?null:{required:!0}}function M4(n){return qy(n.value)||D4.test(n.value)?null:{email:!0}}function R4(n){return e=>{let t=e.value?.length??zy(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function x4(n){return e=>{let t=e.value?.length??zy(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function N4(n){if(!n)return Xb;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Xb(n){return null}function eA(n){return n!=null}function tA(n){return bi(n)?le(n):n}function nA(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function rA(n,e){return e.map(t=>t(n))}function O4(n){return!n.validate}function iA(n){return n.map(e=>O4(e)?e:t=>e.validate(t))}function oA(n){if(!n)return null;let e=n.filter(eA);return e.length==0?null:function(t){return nA(rA(t,e))}}function sA(n){return n!=null?oA(iA(n)):null}function aA(n){if(!n)return null;let e=n.filter(eA);return e.length==0?null:function(t){let r=rA(t,e).map(tA);return pp(r).pipe(J(nA))}}function cA(n){return n!=null?aA(iA(n)):null}function Bb(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uA(n){return n._rawValidators}function lA(n){return n._rawAsyncValidators}function jy(n){return n?Array.isArray(n)?n:[n]:[]}function Zd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hb(n,e){let t=jy(e);return jy(n).forEach(i=>{Zd(t,i)||t.push(i)}),t}function $b(n,e){return jy(e).filter(t=>!Zd(n,t))}var Qd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},hs=class extends Qd{name;get formDirective(){return null}get path(){return null}},Tc=class extends Qd{_parent=null;name=null;valueAccessor=null},Yd=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},P4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},UW=ae(L({},P4),{"[class.ng-submitted]":"isSubmitted"}),ps=(()=>{class n extends Yd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(Tc,2))};static \u0275dir=$e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[On]})}return n})(),gs=(()=>{class n extends Yd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(hs,10))};static \u0275dir=$e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[On]})}return n})();var Cc="VALID",Wd="INVALID",ls="PENDING",Dc="DISABLED",Wr=class{},Jd=class extends Wr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},bc=class extends Wr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ac=class extends Wr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ds=class extends Wr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Uy=class extends Wr{source;constructor(e){super(),this.source=e}},By=class extends Wr{source;constructor(e){super(),this.source=e}};function Wy(n){return(rh(n)?n.validators:n)||null}function k4(n){return Array.isArray(n)?sA(n):n||null}function Ky(n,e){return(rh(e)?e.asyncValidators:n)||null}function F4(n){return Array.isArray(n)?cA(n):n||null}function rh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dA(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function hA(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var fs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Pn(this.statusReactive)}set status(e){Pn(()=>this.statusReactive.set(e))}_status=Si(()=>this.statusReactive());statusReactive=Et(void 0);get valid(){return this.status===Cc}get invalid(){return this.status===Wd}get pending(){return this.status==ls}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}errors;get pristine(){return Pn(this.pristineReactive)}set pristine(e){Pn(()=>this.pristineReactive.set(e))}_pristine=Si(()=>this.pristineReactive());pristineReactive=Et(!0);get dirty(){return!this.pristine}get touched(){return Pn(this.touchedReactive)}set touched(e){Pn(()=>this.touchedReactive.set(e))}_touched=Si(()=>this.touchedReactive());touchedReactive=Et(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Hb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($b(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($b(e,this._rawAsyncValidators))}hasValidator(e){return Zd(this._rawValidators,e)}hasAsyncValidator(e){return Zd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new bc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new bc(!0,r))}markAsPending(e={}){this.status=ls;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ds(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(i=>{i.disable(ae(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jd(this.value,r)),this._events.next(new ds(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this._forEachChild(r=>{r.enable(ae(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cc||this.status===ls)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jd(this.value,t)),this._events.next(new ds(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=tA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ds(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?Wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(Wd)?Wd:Cc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new bc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ac(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=k4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F4(this._rawAsyncValidators)}},Xd=class extends fs{constructor(e,t,r){super(Wy(t),Ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hA(this,!0,e),Object.keys(e).forEach(r=>{dA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hy=class extends Xd{};var fA=new U("",{providedIn:"root",factory:()=>Zy}),Zy="always";function L4(n,e){return[...e.path,n]}function Gb(n,e,t=Zy){Qy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),j4(n,e),B4(n,e),U4(n,e),V4(n,e)}function qb(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),th(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function V4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Qy(n,e){let t=uA(n);e.validator!==null?n.setValidators(Bb(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lA(n);e.asyncValidator!==null?n.setAsyncValidators(Bb(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();eh(e._rawValidators,i),eh(e._rawAsyncValidators,i)}function th(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=uA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=lA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return eh(e._rawValidators,r),eh(e._rawAsyncValidators,r),t}function j4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pA(n,e)})}function U4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function H4(n,e){n==null,Qy(n,e)}function $4(n,e){return th(n,e)}function G4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function q4(n){return Object.getPrototypeOf(n.constructor)===Gy}function z4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function W4(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Kr?t=o:q4(o)?r=o:i=o}),i||r||t||null}function K4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zb(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Wb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Kd=class extends fs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Wy(t),Ky(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Wb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Wb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Z4=n=>n instanceof Kd;var ms=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var gA=new U("");var Q4={provide:hs,useExisting:Pr(()=>Fi)},Fi=(()=>{class n extends hs{callSetDisabledState;get submitted(){return Pn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Si(()=>this._submittedReactive());_submittedReactive=Et(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new it;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(th(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Gb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qb(t.control||null,t,!1),K4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),z4(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Uy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new By(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(qb(r||null,t),Z4(i)&&(Gb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);H4(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&$4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qy(this.form,this),this._oldForm&&th(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(K(Yb,10),K(Jb,10),K(fA,8))};static \u0275dir=$e({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Lo([Q4]),On,kr]})}return n})();var Y4={provide:Tc,useExisting:Pr(()=>Li)},Li=(()=>{class n extends Tc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new it;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=W4(this,o)}ngOnChanges(t){this._added||this._setUpControl(),G4(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return L4(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(K(hs,13),K(Yb,10),K(Jb,10),K(nh,10),K(gA,8))};static \u0275dir=$e({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Lo([Y4]),On,kr]})}return n})();var J4={provide:nh,useExisting:Pr(()=>ih),multi:!0};function mA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function X4(n){return n.split(":")[0]}var ih=(()=>{class n extends Gy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=mA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=X4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ii(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Lo([J4]),On]})}return n})(),yA=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(mA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(K(Yt),K(yn),K(ih,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),e3={provide:nh,useExisting:Pr(()=>vA),multi:!0};function Kb(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function t3(n){return n.split(":")[0]}var vA=(()=>{class n extends Gy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=t3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ii(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Re("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Lo([e3]),On]})}return n})(),_A=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Kb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Kb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(K(Yt),K(yn),K(vA,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var n3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=fn({})}return n})(),$y=class extends fs{constructor(e,t,r){super(Wy(t),Ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hA(this,!1,e),e.forEach((r,i)=>{dA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Zb(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ys=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Zb(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xd(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Hy(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Zb(r)?o=r:(o.validators=r,o.asyncValidators=i),new Kd(t,ae(L({},o),{nonNullable:!0}))):new Kd(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $y(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Kd)return t;if(t instanceof fs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fA,useValue:t.callSetDisabledState??Zy}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=fn({imports:[n3]})}return n})();function oh(n){return e=>n.test(e.value)?null:{InvalidEmail:e.value}}var EA=n=>({"input-error":n});function r3(n,e){n&1&&(N(0,"div"),k(1," Email est obligatoire. "),R())}function i3(n,e){n&1&&(N(0,"div"),k(1," Connectez-vous avec votre Email institutionnel "),R())}function o3(n,e){if(n&1&&(N(0,"div",41),me(1,r3,2,0,"div",42)(2,i3,2,0,"div",42),R()),n&2){let t,r,i=Ge();G(),Y("ngIf",(t=i.loginForm.get("email").errors)==null?null:t.required),G(),Y("ngIf",((r=i.loginForm.get("email").errors)==null?null:r.email)||((r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.InvalidEmail))}}function s3(n,e){n&1&&(N(0,"div"),k(1," Mot de passe est obligatoire. "),R())}function a3(n,e){n&1&&(N(0,"div"),k(1," Le mot de passe doit comporter au moins 6 caract\xE8res. "),R())}function c3(n,e){if(n&1&&(N(0,"div",41),me(1,s3,2,0,"div",42)(2,a3,2,0,"div",42),R()),n&2){let t,r,i=Ge();G(),Y("ngIf",(t=i.loginForm.get("password").errors)==null?null:t.required),G(),Y("ngIf",(r=i.loginForm.get("password").errors)==null?null:r.minlength)}}function u3(n,e){n&1&&(N(0,"main",38),ee(1,"span",43),R())}var sh=class n{constructor(e,t){this.fb=e;this.router=t;this.loginForm=this.fb.group({email:["",[qe.required,qe.email,oh(this.emailRegex)]],password:["",[qe.required,qe.minLength(6)]]})}authService=x(tn);loginForm;emailRegex=/\w+@((fmp\.)?(um5|um5r)\.ac\.ma)$/;isLoading=!1;onSubmit(){this.isLoading=!0,this.loginForm.valid?this.authService.onLogin(this.loginForm.value).subscribe({next:e=>{this.isLoading=!1}}):console.log("Form is invalid")}onLoginWithMicrosoft(){this.authService.onLoginMicrosoft()}static \u0275fac=function(t){return new(t||n)(K(ys),K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-login"]],decls:51,vars:12,consts:[[1,"login-container"],[1,"login-card"],[1,"icon_cnt"],["width","77%","height","200px","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","id","Calque_1","data-name","Calque 1","viewBox","42.62 32.46 158.38 74.2"],["id","D\xE9grad\xE9_sans_nom_11","x1","42.62","y1","76.04","x2","92.27","y2","76.04","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#043536"],["offset","1","stop-color","#00d6c5"],["d","M105.81,72.85v.89h-3.57v20h-3v-20H95.69v-.89Z",1,"cls-1"],["d","M111.49,93.71h-3V72.85h7.26a6.59,6.59,0,0,1,4.64,1.7,4.88,4.88,0,0,1,1.64,3.64,4.72,4.72,0,0,1-1.49,3.64,7.06,7.06,0,0,1-4.94,1.52L122,93.7h-3.47l-6.4-11.07h3.07a4.05,4.05,0,0,0,3.14-1.21,4.6,4.6,0,0,0,1.11-3.24,4.25,4.25,0,0,0-1.19-3,4.82,4.82,0,0,0-3.72-1.44h-3Z",1,"cls-1"],["d","M145.05,83.29a11.08,11.08,0,0,1-2.65,7.44,10.63,10.63,0,0,1-15.59,0,11.07,11.07,0,0,1-2.65-7.47,10.8,10.8,0,0,1,2.65-7.37,10.77,10.77,0,0,1,15.59,0A10.92,10.92,0,0,1,145.05,83.29Zm-17.79,0a12,12,0,0,0,1.81,6.79,6.57,6.57,0,0,0,11.07,0,13.62,13.62,0,0,0,0-13.57,6.57,6.57,0,0,0-11.07,0A12.12,12.12,0,0,0,127.26,83.29Z",1,"cls-1"],["d","M150.91,82.25h8.33v-9.4h3V93.71h-3V83.14h-8.33V93.71h-3V72.85h3Z",1,"cls-1"],["d","M174,72l9.82,21.73h-3L178,87.52h-9.82l-2.71,6.2h-1Zm-.85,4.54-4.49,10.11h8.89Z",1,"cls-1"],["d","M195.23,72.85v.89h-3.57v20h-3v-20h-3.57v-.89Z",1,"cls-1"],["d","M197.85,93.71V72.85h3V93.71Z",1,"cls-1"],["d","M118.55,66.29a9.72,9.72,0,0,1-1.48-.12,2.73,2.73,0,0,1-1.41-.72,4.22,4.22,0,0,1-.4-.48,3.47,3.47,0,0,1-.36-.67,5.73,5.73,0,0,1-.26-.9,6.45,6.45,0,0,1-.1-1.14V60c0-.5,0-1.12,0-1.87s0-1.67,0-2.75a.72.72,0,0,0,0-.21c0-.08,0-.17,0-.26a1.21,1.21,0,0,0-.08-.25.4.4,0,0,0-.11-.18.69.69,0,0,0-.43-.19l-.49,0H113a1.82,1.82,0,0,0-.7.14,1.33,1.33,0,0,0-.53.35,1.45,1.45,0,0,0-.29.72,7.8,7.8,0,0,0-.05.8l0,4.63c0,.44,0,.87-.06,1.27a5.7,5.7,0,0,1-.22,1.12,5,5,0,0,1-.46,1,3.72,3.72,0,0,1-.74.87,3.88,3.88,0,0,1-1.61.86,8.76,8.76,0,0,1-2.14.23h-2.75a8.81,8.81,0,0,1-2.14-.23A4,4,0,0,1,99,64.32a4.43,4.43,0,0,1-.45-1,5.7,5.7,0,0,1-.23-1.12c0-.4-.06-.83-.06-1.27V56.6h3.19v3.77a7.93,7.93,0,0,0,.12,1.54,2.33,2.33,0,0,0,.42,1,1.93,1.93,0,0,0,1.07.75,5.66,5.66,0,0,0,1.52.18h.64a5.58,5.58,0,0,0,1.51-.18,1.92,1.92,0,0,0,1.08-.75,2.33,2.33,0,0,0,.42-1,8,8,0,0,0,.11-1.54l0-4.24c0-.26,0-.54,0-.83s.08-.59.14-.9a3.05,3.05,0,0,1,.89-1.65,3.3,3.3,0,0,1,1-.65,3.68,3.68,0,0,1,1.51-.27l3.46,0h.41l.47.06.48.15a1.6,1.6,0,0,1,.44.29,1.85,1.85,0,0,1,.58,1.13c0,.22.06.42.08.58s0,.3,0,.42v7.38a3,3,0,0,0,.14,1,1.68,1.68,0,0,0,.35.55,1.21,1.21,0,0,0,.69.35,5.39,5.39,0,0,0,.8.06h.4v2.45ZM101.17,71V68.5h3.18V71Zm4.29,0V68.5h3.18V71Z",1,"cls-2"],["d","M119.87,66.28V63.83h.32a4.24,4.24,0,0,0,1.42-.2,1.93,1.93,0,0,0,.88-.67,2.77,2.77,0,0,0,.47-1.13,7.78,7.78,0,0,0,.12-1.31c0-.07,0-.12,0-.18v-.18h0V51.84h3.18v8.32l.07,2a2,2,0,0,0,.51.92,2.54,2.54,0,0,0,.78.52,4,4,0,0,0,.93.23c.33,0,.64.05.93.05h.35v2.45h-1.3l-1,0a8.4,8.4,0,0,1-1-.14,4.45,4.45,0,0,1-1-.33,3.57,3.57,0,0,1-.88-.59,3.67,3.67,0,0,1-.89.58,4.45,4.45,0,0,1-1,.33,5.59,5.59,0,0,1-1,.14q-.51,0-1.08,0Zm1-16.58V47.16h3.18V49.7Zm4.28,0V47.16h3.18V49.7Z",1,"cls-2"],["d","M129.32,66.29V63.84h10.62a.61.61,0,0,0,.37-.16.49.49,0,0,0,.19-.28,1.58,1.58,0,0,0,0-.32V56.28a4.13,4.13,0,0,0-.07-.67,1.43,1.43,0,0,0-.35-.68,1.32,1.32,0,0,0-.74-.52,3.41,3.41,0,0,0-.8-.11h-7.12V51.85h8.21a4.8,4.8,0,0,1,1.71.3,3.27,3.27,0,0,1,2,2.13,6.31,6.31,0,0,1,.3,2.1v7.46h2.13v2.45Z",1,"cls-2"],["d","M149,68.6H155c.17,0,.37,0,.59,0a6.53,6.53,0,0,0,.71-.07,2.66,2.66,0,0,0,1.36-.56,2.6,2.6,0,0,0,.85-1.66h-5.12c-.37,0-.75,0-1.15-.05a5.35,5.35,0,0,1-1.18-.23,4.2,4.2,0,0,1-1.1-.55,3.72,3.72,0,0,1-.94-1c-.74-1.15-1.11-3-1.11-5.59a15.47,15.47,0,0,1,.27-3,5.22,5.22,0,0,1,1.26-2.39,4.37,4.37,0,0,1,1.05-.87,4.8,4.8,0,0,1,1.13-.48,5.63,5.63,0,0,1,1.14-.18c.38,0,.75,0,1.12,0h4.66a9.9,9.9,0,0,1,1.23.08,2.31,2.31,0,0,1,1.11.5,2,2,0,0,1,.69,1,4.4,4.4,0,0,1,.16,1.06V64.65a14.13,14.13,0,0,1-.23,2.6,4.7,4.7,0,0,1-.94,2.06,3.8,3.8,0,0,1-1.18.94,6.13,6.13,0,0,1-1.36.52,8.18,8.18,0,0,1-1.29.23c-.41,0-.75,0-1,0H149Zm9.62-13.15a1.87,1.87,0,0,0-.07-.52.87.87,0,0,0-.35-.41,1.27,1.27,0,0,0-.42-.18,2.72,2.72,0,0,0-.42,0h-2.72a4.12,4.12,0,0,0-1.45.24,2.37,2.37,0,0,0-1,.65,2.79,2.79,0,0,0-.51,1,6.37,6.37,0,0,0-.26,1.13c-.05.38-.08.74-.09,1.07s0,.58,0,.75a15.08,15.08,0,0,0,.08,1.64,10.1,10.1,0,0,0,.2,1.14,3.86,3.86,0,0,0,.26.72,1.81,1.81,0,0,0,.28.4,2.1,2.1,0,0,0,1.27.74,6.43,6.43,0,0,0,.74.08l.71,0h3.8Z",1,"cls-2"],["d","M163.45,68.68h1.13a6.06,6.06,0,0,0,.84-.1,2.36,2.36,0,0,0,.65-.2,3.27,3.27,0,0,0,.57-.32,2.27,2.27,0,0,0,.48-.44,2,2,0,0,0,.35-.57,3,3,0,0,0,.21-.75,6,6,0,0,0,.08-1V51.85h3.18v12h2.36v2.45h-2.38a5.39,5.39,0,0,1-.25,1.5,4.93,4.93,0,0,1-.49,1.08,3.89,3.89,0,0,1-.58.74,6.21,6.21,0,0,1-.51.47,5.72,5.72,0,0,1-2.24.89,15.73,15.73,0,0,1-3.4.18Z",1,"cls-2"],["d","M178.64,53.76a3.36,3.36,0,0,1,.83-.81,6.3,6.3,0,0,1,1-.54,5.92,5.92,0,0,1,1.09-.32c.36-.08.71-.13,1-.17l.86-.06h6.77a10.71,10.71,0,0,1,1.23.08,5.6,5.6,0,0,1,1.25.32,4.54,4.54,0,0,1,1.2.69,4.5,4.5,0,0,1,1,1.18,5.61,5.61,0,0,1,.57,1.25,7.63,7.63,0,0,1,.3,1.3A9.64,9.64,0,0,1,196,58c0,.44,0,.86,0,1.27s0,.95,0,1.4a9.38,9.38,0,0,1-.15,1.31,6.56,6.56,0,0,1-.36,1.22,5.86,5.86,0,0,1-.65,1.16,4.61,4.61,0,0,1-1.11,1.1,5.13,5.13,0,0,1-1.2.59,5.26,5.26,0,0,1-1.21.23c-.39,0-.77,0-1.11,0H173V63.84h2.49V47.21h3.19Zm4.43.54a4.47,4.47,0,0,0-3,1.17,5.13,5.13,0,0,0-1.4,3.16l0,5.21H188.9a7.88,7.88,0,0,0,1.15-.07,3.72,3.72,0,0,0,.9-.21,2.65,2.65,0,0,0,.68-.4,2.48,2.48,0,0,0,.49-.61,3.68,3.68,0,0,0,.49-1.52c0-.57.08-1.15.08-1.77a16.4,16.4,0,0,0-.14-2.31,3.41,3.41,0,0,0-.55-1.5,2.25,2.25,0,0,0-.68-.63,3.7,3.7,0,0,0-.8-.34,3.94,3.94,0,0,0-.82-.15l-.75,0Z",1,"cls-2"],["d","M197.76,47.21H201V66.29h-3.19ZM198,45.1h1.61c.06,0,.1,0,.1-.08s0,0,0,0l-.1,0-.31-.1-.61-.2a1.16,1.16,0,0,1-.55-.34.86.86,0,0,1-.17-.55.77.77,0,0,1,.23-.63.93.93,0,0,1,.6-.18h2v.76H199s-.07,0-.07.06a.07.07,0,0,0,0,.06.62.62,0,0,0,.16.07l.32.11.5.17a1.54,1.54,0,0,1,.63.36.84.84,0,0,1,.21.61.79.79,0,0,1-.19.56.71.71,0,0,1-.54.22H198Z",1,"cls-2"],["d","M180.72,99.31h-2.5v3.09h2.5v.32h-2.5v3.67h-1.05V99h3.55Z",1,"cls-3"],["d","M181.76,99h1.11l2.64,5.69L188.06,99H189v7.4h-1.06v-6.32l-2.84,6.45-3-6.44v6.31h-.32Z",1,"cls-3"],["d","M194.74,100.84a1.71,1.71,0,0,1-.59,1.33,2.24,2.24,0,0,1-1.55.52h-1.29v3.7h-1.06V99h2.35a2.21,2.21,0,0,1,1.54.52A1.69,1.69,0,0,1,194.74,100.84Zm-1,0a1.65,1.65,0,0,0-.36-1.11,1.26,1.26,0,0,0-1-.42h-1.1v3.07h1.1a1.25,1.25,0,0,0,1-.43A1.65,1.65,0,0,0,193.78,100.84Z",1,"cls-3"],["d","M196.69,106.39h-1.06V99h2.58a2.32,2.32,0,0,1,1.64.6,1.72,1.72,0,0,1,.58,1.29,1.7,1.7,0,0,1-.52,1.3,2.54,2.54,0,0,1-1.76.54l2.25,3.66h-1.23l-2.27-3.93H198a1.44,1.44,0,0,0,1.11-.43,1.62,1.62,0,0,0,.39-1.15,1.51,1.51,0,0,0-.42-1.06,1.7,1.7,0,0,0-1.32-.51h-1.06Z",1,"cls-3"],["d","M50.57,81.05H43.32a24.33,24.33,0,0,0,1.14,3.66h7A23.06,23.06,0,0,1,50.57,81.05Zm-.42-10.18H42.82a31.67,31.67,0,0,0-.2,3.55v.31H50a1.51,1.51,0,0,1,0-.31A31.47,31.47,0,0,1,50.15,70.87ZM52,86.17h-7a22.63,22.63,0,0,0,2.07,3.68h6.71l0,.05A20,20,0,0,1,52,86.17ZM48.91,56.88A20.47,20.47,0,0,0,47.27,59h6.61c.13-.24.27-.46.42-.69a17.81,17.81,0,0,1,2.14-2.65l-1.28-3.78A22.78,22.78,0,0,0,48.91,56.88Zm39.29,3-4.31,6a33.63,33.63,0,0,1,1,8.58q0,9.54-4.31,16.13c-3.26,4.82-7.64,7.21-13.16,7.21A14.88,14.88,0,0,1,54.8,91.27H48.19c.23.31.46.62.72.91q7,8.05,18.54,8c7.65,0,13.81-2.7,18.53-8.13a26.24,26.24,0,0,0,6.29-17.68A26.31,26.31,0,0,0,88.2,59.84Zm-42.46,1.6a21.74,21.74,0,0,0-1.54,3.45h7.07a22.87,22.87,0,0,1,1.28-3.45Zm-2,4.67A25.33,25.33,0,0,0,43,69.63h7.28a24.62,24.62,0,0,1,.66-3.52ZM50,76H42.65a27.56,27.56,0,0,0,.4,3.7h7.28A27.55,27.55,0,0,1,50,76Z",1,"cls-4"],["d","M87.69,47.63c.15,1.35.29,2.72.4,4.07,0,.67-.49,1-1.28,1-.5,0-.68-.31-.63-1,.11-1.39.2-2.78.31-4.17a15.3,15.3,0,0,0,.16-2.68c-.11-.78-.51-1.5,0-2.25a.37.37,0,0,0,0-.11c0-2.18,0-4.35,0-6.53,0-.63-.18-.72-.72-.39q-2.37,1.53-4.77,3c-.38.24-.43.47-.29.9.38,1.19.7,2.42,1,3.64.14.65.23,1.3.36,1.95,0,.13,0,.27.07.4-1.66.9-7.5,3.1-25.41,3.42,0-.57,0-1.15,0-1.71-.07-1.86-.19-3.69-.27-5.55,0-.38-.14-.58-.52-.65-2.2-.45-4.38-.9-6.56-1.37-.7-.14-1.39-.32-2.07-.47a.44.44,0,0,1,0-.16c.16-.07.34-.16.52-.22q6.6-2.54,13.23-5a3.93,3.93,0,0,1,1.12-.24c4.49-.21,9-.39,13.5-.59,2.94-.13,5.89-.2,8.85-.38.86-.06,1.67-.29,2.4.41.1.09.34,0,.52.09s.36.13.52.18a1.7,1.7,0,0,1-.23.53,2.07,2.07,0,0,0-.62,1.56c0,2.22-.07,4.42-.07,6.64a13.08,13.08,0,0,0,.22,1.51,1.79,1.79,0,0,1,0,.52,4.85,4.85,0,0,0-.13,1.18C87.41,46,87.59,46.8,87.69,47.63Z",1,"cls-2"],["d","M84.47,59.05c0,.11.07.24.11.35a1,1,0,0,1-.33,1.13.56.56,0,0,0-.07.54,1.29,1.29,0,0,1-.4,1.75,1,1,0,0,0-.43,1.1c.51,1.75-1.46,3.48-3,3.32-.72-.08-1.43-.24-2.15-.35a18.61,18.61,0,0,0-2.12-.27,1,1,0,0,0-.72.47A17.74,17.74,0,0,0,74.66,69,2.22,2.22,0,0,0,75,71c.9,1.28,1.71,2.63,2.54,4a.77.77,0,0,1,.09.27c-1.17-.7-2.3-1.51-3.55-2.11-2.63-1.28-5.33-1.46-7.87.22a34.32,34.32,0,0,0-4.1,3.24c-2.21,2-4.9,2.49-7.82,2.53a2.85,2.85,0,0,1,0-.51,40.18,40.18,0,0,1,2.31-8,11.67,11.67,0,0,1,2.85-4.36,2.34,2.34,0,0,1,2-.65A37.37,37.37,0,0,1,70.16,68c.9.36,1.78.75,2.66,1.15,0-.06.06-.13.08-.18a28.06,28.06,0,0,0-12-3.68c0-.12,0-.2,0-.25a5.28,5.28,0,0,0-.09-4.16c-.18-.51-.57-.94-.81-1.45-.48-1-.9-2-1.35-3.06a16.21,16.21,0,0,1-1.15-2.47,18.41,18.41,0,0,1-.54-3.48,10.9,10.9,0,0,1,0-1.4c.2.56,23.25.33,25.43-3.46a6.77,6.77,0,0,0,.23,1,5.18,5.18,0,0,1,.13,3.64,2,2,0,0,0,.41,2.11c.82.95,1.59,1.93,2.31,2.95a1.31,1.31,0,0,1-.38,2C84.09,57.9,84.09,57.9,84.47,59.05Z",1,"cls-2"],["d","M70.37,74.28A6.58,6.58,0,0,0,66.14,76a21.47,21.47,0,0,0-4.86,5.71.9.9,0,0,1-1,.53,7.48,7.48,0,0,0-1.49.11c-1.87.24-3.73.51-5.59.77l-.16-.22c.11-.5.24-1,.33-1.5s.3-.6.74-.6c.88,0,1.77,0,2.65,0a6.06,6.06,0,0,0,4.47-1.91,18,18,0,0,1,4-3.62,8.78,8.78,0,0,1,6.34-1.57,8.61,8.61,0,0,1,4.78,2.5c1.62,1.64,3.08,3.44,4.6,5.18.5.56,1,1.14,1.46,1.71l-.11.12c-.18-.13-.37-.25-.54-.4a94.92,94.92,0,0,0-7.95-6.92,6.87,6.87,0,0,0-2.38-1.34Z",1,"cls-2"],[3,"ngSubmit","formGroup"],[1,"error-message",2,"font-size","1.1em"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Entrez votre email (example@um5.ac.ma)",3,"ngClass"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Entrez votre mot de passe",3,"ngClass"],["type","submit",1,"btn","btn_primary",3,"disabled"],[1,"anim_cnt"],[1,"login_links"],["routerLink","/signUp"],[1,"error-message"],[4,"ngIf"],[1,"loader2"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"span",2),Qt(),N(3,"svg",3)(4,"defs")(5,"style"),k(6,".cls-1,.cls-3{fill:#075b58;}.cls-2{fill:#00d6c5;}.cls-3{stroke:#075b58;stroke-miterlimit:10;stroke-width:0.25px;}.cls-4{fill:url(#D\xE9grad\xE9_sans_nom_11);}"),R(),N(7,"linearGradient",4),ee(8,"stop",5)(9,"stop",6),R()(),ee(10,"path",7)(11,"path",8)(12,"path",9)(13,"path",10)(14,"path",11)(15,"path",12)(16,"path",13)(17,"path",14)(18,"path",15)(19,"path",16)(20,"path",17)(21,"path",18)(22,"path",19)(23,"path",20)(24,"path",21)(25,"path",22)(26,"path",23)(27,"path",24)(28,"path",25)(29,"path",26)(30,"path",27)(31,"path",28),R()(),Lr(),N(32,"form",29),Re("ngSubmit",function(){return r.onSubmit()}),N(33,"span",30),k(34),R(),N(35,"div",31)(36,"label",32),k(37,"Email"),R(),ee(38,"input",33),me(39,o3,3,2,"div",34),R(),N(40,"div",31)(41,"label",35),k(42,"Mot de passe"),R(),ee(43,"input",36),me(44,c3,3,2,"div",34),R(),N(45,"button",37),k(46," Se connecter "),me(47,u3,2,0,"main",38),R()(),N(48,"div",39)(49,"a",40),k(50," Vous n'avez pas de compte\xA0? Inscrivez-vous "),R()()()()),t&2&&(G(32),Y("formGroup",r.loginForm),G(2),Rt(" ",r.authService.errorMessage()," "),G(4),Y("ngClass",xt(8,EA,r.loginForm.get("email").invalid&&r.loginForm.get("email").touched)),G(),Y("ngIf",r.loginForm.get("email").invalid&&r.loginForm.get("email").touched),G(4),Y("ngClass",xt(10,EA,r.loginForm.get("password").invalid&&r.loginForm.get("password").touched)),G(),Y("ngIf",r.loginForm.get("password").invalid&&r.loginForm.get("password").touched),G(),Y("disabled",r.loginForm.invalid),G(2),Xt(r.isLoading?47:-1))},dependencies:[Mi,$o,Go,vs,ms,Kr,ps,gs,Fi,Li,os,rs],styles:["*[_ngcontent-%COMP%]{--primary-color: #007bff;--darker-primary-color: #0056b3;--accent-color: lightcoral;--background-color: #f5f5f5;--text-color: #333;--border-color: #ccc}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px;text-align:center}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--text-color);font-weight:700}input[_ngcontent-%COMP%]{width:90%;padding:.75rem;font-size:1rem;border:1px solid var(--border-color);border-radius:4px;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);outline:none}.input-error[_ngcontent-%COMP%]{border-color:var(--accent-color)}.error-message[_ngcontent-%COMP%]{color:var(--accent-color);font-size:.875rem;margin-top:.25rem}.submit-button[_ngcontent-%COMP%]{transition:background-color .3s ease}.login_links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px}.login_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:gray;font-style:italic;font-size:.9rem}.login_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333}.anim_cnt[_ngcontent-%COMP%]{position:relative;background-color:transparent}"]})};var ah=n=>({"input-error":n});function l3(n,e){n&1&&(N(0,"div"),k(1," Nom est obligatoire. "),R())}function d3(n,e){if(n&1&&(N(0,"div",45),me(1,l3,2,0,"div",46),R()),n&2){let t,r=Ge();G(),Y("ngIf",(t=r.loginForm.get("firstname").errors)==null?null:t.required)}}function h3(n,e){n&1&&(N(0,"div"),k(1," Pr\xE9nom est obligatoire. "),R())}function f3(n,e){if(n&1&&(N(0,"div",45),me(1,h3,2,0,"div",46),R()),n&2){let t,r=Ge();G(),Y("ngIf",(t=r.loginForm.get("lastname").errors)==null?null:t.required)}}function p3(n,e){n&1&&(N(0,"div"),k(1," Email est obligatoire. "),R())}function g3(n,e){n&1&&(N(0,"div"),k(1," Connectez-vous avec votre Email institutionnel. "),R())}function m3(n,e){if(n&1&&(N(0,"div",45),me(1,p3,2,0,"div",46)(2,g3,2,0,"div",46),R()),n&2){let t,r,i=Ge();G(),Y("ngIf",(t=i.loginForm.get("email").errors)==null?null:t.required),G(),Y("ngIf",((r=i.loginForm.get("email").errors)==null?null:r.email)||((r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.InvalidEmail))}}function y3(n,e){n&1&&(N(0,"div"),k(1," Mot de passe est obligatoire. "),R())}function v3(n,e){n&1&&(N(0,"div"),k(1," Le mot de passe doit comporter au moins 6 caract\xE8res. "),R())}function _3(n,e){if(n&1&&(N(0,"div",45),me(1,y3,2,0,"div",46)(2,v3,2,0,"div",46),R()),n&2){let t,r,i=Ge();G(),Y("ngIf",(t=i.loginForm.get("password").errors)==null?null:t.required),G(),Y("ngIf",(r=i.loginForm.get("password").errors)==null?null:r.minlength)}}function E3(n,e){n&1&&(N(0,"main",42),ee(1,"span",47),R())}var ch=class n{constructor(e,t){this.fb=e;this.router=t;this.loginForm=this.fb.group({firstname:["",[qe.required]],lastname:["",[qe.required]],email:["",[qe.required,qe.email,oh(this.emailRegex)]],password:["",[qe.required,qe.minLength(6)]]})}authService=x(tn);loginForm;emailRegex=/\w+@((fmp\.)?(um5|um5r)\.ac\.ma)$/;isLoading=!1;onSubmit(){if(this.isLoading=!0,this.loginForm.valid){let e={email:this.loginForm.get("email")?.value,password:this.loginForm.get("password")?.value,username:this.loginForm.get("firstname")?.value+" "+this.loginForm.get("lastname")?.value};this.authService.onSignUp(e).subscribe({next:t=>{this.isLoading=!1}})}else console.log("Form is invalid")}static \u0275fac=function(t){return new(t||n)(K(ys),K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-signup"]],decls:61,vars:20,consts:[[1,"login-container"],[1,"login-card"],[1,"icon_cnt"],["width","77%","height","200px","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","id","Calque_1","data-name","Calque 1","viewBox","42.62 32.46 158.38 74.2"],["id","D\xE9grad\xE9_sans_nom_11","x1","42.62","y1","76.04","x2","92.27","y2","76.04","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#043536"],["offset","1","stop-color","#00d6c5"],["d","M105.81,72.85v.89h-3.57v20h-3v-20H95.69v-.89Z",1,"cls-1"],["d","M111.49,93.71h-3V72.85h7.26a6.59,6.59,0,0,1,4.64,1.7,4.88,4.88,0,0,1,1.64,3.64,4.72,4.72,0,0,1-1.49,3.64,7.06,7.06,0,0,1-4.94,1.52L122,93.7h-3.47l-6.4-11.07h3.07a4.05,4.05,0,0,0,3.14-1.21,4.6,4.6,0,0,0,1.11-3.24,4.25,4.25,0,0,0-1.19-3,4.82,4.82,0,0,0-3.72-1.44h-3Z",1,"cls-1"],["d","M145.05,83.29a11.08,11.08,0,0,1-2.65,7.44,10.63,10.63,0,0,1-15.59,0,11.07,11.07,0,0,1-2.65-7.47,10.8,10.8,0,0,1,2.65-7.37,10.77,10.77,0,0,1,15.59,0A10.92,10.92,0,0,1,145.05,83.29Zm-17.79,0a12,12,0,0,0,1.81,6.79,6.57,6.57,0,0,0,11.07,0,13.62,13.62,0,0,0,0-13.57,6.57,6.57,0,0,0-11.07,0A12.12,12.12,0,0,0,127.26,83.29Z",1,"cls-1"],["d","M150.91,82.25h8.33v-9.4h3V93.71h-3V83.14h-8.33V93.71h-3V72.85h3Z",1,"cls-1"],["d","M174,72l9.82,21.73h-3L178,87.52h-9.82l-2.71,6.2h-1Zm-.85,4.54-4.49,10.11h8.89Z",1,"cls-1"],["d","M195.23,72.85v.89h-3.57v20h-3v-20h-3.57v-.89Z",1,"cls-1"],["d","M197.85,93.71V72.85h3V93.71Z",1,"cls-1"],["d","M118.55,66.29a9.72,9.72,0,0,1-1.48-.12,2.73,2.73,0,0,1-1.41-.72,4.22,4.22,0,0,1-.4-.48,3.47,3.47,0,0,1-.36-.67,5.73,5.73,0,0,1-.26-.9,6.45,6.45,0,0,1-.1-1.14V60c0-.5,0-1.12,0-1.87s0-1.67,0-2.75a.72.72,0,0,0,0-.21c0-.08,0-.17,0-.26a1.21,1.21,0,0,0-.08-.25.4.4,0,0,0-.11-.18.69.69,0,0,0-.43-.19l-.49,0H113a1.82,1.82,0,0,0-.7.14,1.33,1.33,0,0,0-.53.35,1.45,1.45,0,0,0-.29.72,7.8,7.8,0,0,0-.05.8l0,4.63c0,.44,0,.87-.06,1.27a5.7,5.7,0,0,1-.22,1.12,5,5,0,0,1-.46,1,3.72,3.72,0,0,1-.74.87,3.88,3.88,0,0,1-1.61.86,8.76,8.76,0,0,1-2.14.23h-2.75a8.81,8.81,0,0,1-2.14-.23A4,4,0,0,1,99,64.32a4.43,4.43,0,0,1-.45-1,5.7,5.7,0,0,1-.23-1.12c0-.4-.06-.83-.06-1.27V56.6h3.19v3.77a7.93,7.93,0,0,0,.12,1.54,2.33,2.33,0,0,0,.42,1,1.93,1.93,0,0,0,1.07.75,5.66,5.66,0,0,0,1.52.18h.64a5.58,5.58,0,0,0,1.51-.18,1.92,1.92,0,0,0,1.08-.75,2.33,2.33,0,0,0,.42-1,8,8,0,0,0,.11-1.54l0-4.24c0-.26,0-.54,0-.83s.08-.59.14-.9a3.05,3.05,0,0,1,.89-1.65,3.3,3.3,0,0,1,1-.65,3.68,3.68,0,0,1,1.51-.27l3.46,0h.41l.47.06.48.15a1.6,1.6,0,0,1,.44.29,1.85,1.85,0,0,1,.58,1.13c0,.22.06.42.08.58s0,.3,0,.42v7.38a3,3,0,0,0,.14,1,1.68,1.68,0,0,0,.35.55,1.21,1.21,0,0,0,.69.35,5.39,5.39,0,0,0,.8.06h.4v2.45ZM101.17,71V68.5h3.18V71Zm4.29,0V68.5h3.18V71Z",1,"cls-2"],["d","M119.87,66.28V63.83h.32a4.24,4.24,0,0,0,1.42-.2,1.93,1.93,0,0,0,.88-.67,2.77,2.77,0,0,0,.47-1.13,7.78,7.78,0,0,0,.12-1.31c0-.07,0-.12,0-.18v-.18h0V51.84h3.18v8.32l.07,2a2,2,0,0,0,.51.92,2.54,2.54,0,0,0,.78.52,4,4,0,0,0,.93.23c.33,0,.64.05.93.05h.35v2.45h-1.3l-1,0a8.4,8.4,0,0,1-1-.14,4.45,4.45,0,0,1-1-.33,3.57,3.57,0,0,1-.88-.59,3.67,3.67,0,0,1-.89.58,4.45,4.45,0,0,1-1,.33,5.59,5.59,0,0,1-1,.14q-.51,0-1.08,0Zm1-16.58V47.16h3.18V49.7Zm4.28,0V47.16h3.18V49.7Z",1,"cls-2"],["d","M129.32,66.29V63.84h10.62a.61.61,0,0,0,.37-.16.49.49,0,0,0,.19-.28,1.58,1.58,0,0,0,0-.32V56.28a4.13,4.13,0,0,0-.07-.67,1.43,1.43,0,0,0-.35-.68,1.32,1.32,0,0,0-.74-.52,3.41,3.41,0,0,0-.8-.11h-7.12V51.85h8.21a4.8,4.8,0,0,1,1.71.3,3.27,3.27,0,0,1,2,2.13,6.31,6.31,0,0,1,.3,2.1v7.46h2.13v2.45Z",1,"cls-2"],["d","M149,68.6H155c.17,0,.37,0,.59,0a6.53,6.53,0,0,0,.71-.07,2.66,2.66,0,0,0,1.36-.56,2.6,2.6,0,0,0,.85-1.66h-5.12c-.37,0-.75,0-1.15-.05a5.35,5.35,0,0,1-1.18-.23,4.2,4.2,0,0,1-1.1-.55,3.72,3.72,0,0,1-.94-1c-.74-1.15-1.11-3-1.11-5.59a15.47,15.47,0,0,1,.27-3,5.22,5.22,0,0,1,1.26-2.39,4.37,4.37,0,0,1,1.05-.87,4.8,4.8,0,0,1,1.13-.48,5.63,5.63,0,0,1,1.14-.18c.38,0,.75,0,1.12,0h4.66a9.9,9.9,0,0,1,1.23.08,2.31,2.31,0,0,1,1.11.5,2,2,0,0,1,.69,1,4.4,4.4,0,0,1,.16,1.06V64.65a14.13,14.13,0,0,1-.23,2.6,4.7,4.7,0,0,1-.94,2.06,3.8,3.8,0,0,1-1.18.94,6.13,6.13,0,0,1-1.36.52,8.18,8.18,0,0,1-1.29.23c-.41,0-.75,0-1,0H149Zm9.62-13.15a1.87,1.87,0,0,0-.07-.52.87.87,0,0,0-.35-.41,1.27,1.27,0,0,0-.42-.18,2.72,2.72,0,0,0-.42,0h-2.72a4.12,4.12,0,0,0-1.45.24,2.37,2.37,0,0,0-1,.65,2.79,2.79,0,0,0-.51,1,6.37,6.37,0,0,0-.26,1.13c-.05.38-.08.74-.09,1.07s0,.58,0,.75a15.08,15.08,0,0,0,.08,1.64,10.1,10.1,0,0,0,.2,1.14,3.86,3.86,0,0,0,.26.72,1.81,1.81,0,0,0,.28.4,2.1,2.1,0,0,0,1.27.74,6.43,6.43,0,0,0,.74.08l.71,0h3.8Z",1,"cls-2"],["d","M163.45,68.68h1.13a6.06,6.06,0,0,0,.84-.1,2.36,2.36,0,0,0,.65-.2,3.27,3.27,0,0,0,.57-.32,2.27,2.27,0,0,0,.48-.44,2,2,0,0,0,.35-.57,3,3,0,0,0,.21-.75,6,6,0,0,0,.08-1V51.85h3.18v12h2.36v2.45h-2.38a5.39,5.39,0,0,1-.25,1.5,4.93,4.93,0,0,1-.49,1.08,3.89,3.89,0,0,1-.58.74,6.21,6.21,0,0,1-.51.47,5.72,5.72,0,0,1-2.24.89,15.73,15.73,0,0,1-3.4.18Z",1,"cls-2"],["d","M178.64,53.76a3.36,3.36,0,0,1,.83-.81,6.3,6.3,0,0,1,1-.54,5.92,5.92,0,0,1,1.09-.32c.36-.08.71-.13,1-.17l.86-.06h6.77a10.71,10.71,0,0,1,1.23.08,5.6,5.6,0,0,1,1.25.32,4.54,4.54,0,0,1,1.2.69,4.5,4.5,0,0,1,1,1.18,5.61,5.61,0,0,1,.57,1.25,7.63,7.63,0,0,1,.3,1.3A9.64,9.64,0,0,1,196,58c0,.44,0,.86,0,1.27s0,.95,0,1.4a9.38,9.38,0,0,1-.15,1.31,6.56,6.56,0,0,1-.36,1.22,5.86,5.86,0,0,1-.65,1.16,4.61,4.61,0,0,1-1.11,1.1,5.13,5.13,0,0,1-1.2.59,5.26,5.26,0,0,1-1.21.23c-.39,0-.77,0-1.11,0H173V63.84h2.49V47.21h3.19Zm4.43.54a4.47,4.47,0,0,0-3,1.17,5.13,5.13,0,0,0-1.4,3.16l0,5.21H188.9a7.88,7.88,0,0,0,1.15-.07,3.72,3.72,0,0,0,.9-.21,2.65,2.65,0,0,0,.68-.4,2.48,2.48,0,0,0,.49-.61,3.68,3.68,0,0,0,.49-1.52c0-.57.08-1.15.08-1.77a16.4,16.4,0,0,0-.14-2.31,3.41,3.41,0,0,0-.55-1.5,2.25,2.25,0,0,0-.68-.63,3.7,3.7,0,0,0-.8-.34,3.94,3.94,0,0,0-.82-.15l-.75,0Z",1,"cls-2"],["d","M197.76,47.21H201V66.29h-3.19ZM198,45.1h1.61c.06,0,.1,0,.1-.08s0,0,0,0l-.1,0-.31-.1-.61-.2a1.16,1.16,0,0,1-.55-.34.86.86,0,0,1-.17-.55.77.77,0,0,1,.23-.63.93.93,0,0,1,.6-.18h2v.76H199s-.07,0-.07.06a.07.07,0,0,0,0,.06.62.62,0,0,0,.16.07l.32.11.5.17a1.54,1.54,0,0,1,.63.36.84.84,0,0,1,.21.61.79.79,0,0,1-.19.56.71.71,0,0,1-.54.22H198Z",1,"cls-2"],["d","M180.72,99.31h-2.5v3.09h2.5v.32h-2.5v3.67h-1.05V99h3.55Z",1,"cls-3"],["d","M181.76,99h1.11l2.64,5.69L188.06,99H189v7.4h-1.06v-6.32l-2.84,6.45-3-6.44v6.31h-.32Z",1,"cls-3"],["d","M194.74,100.84a1.71,1.71,0,0,1-.59,1.33,2.24,2.24,0,0,1-1.55.52h-1.29v3.7h-1.06V99h2.35a2.21,2.21,0,0,1,1.54.52A1.69,1.69,0,0,1,194.74,100.84Zm-1,0a1.65,1.65,0,0,0-.36-1.11,1.26,1.26,0,0,0-1-.42h-1.1v3.07h1.1a1.25,1.25,0,0,0,1-.43A1.65,1.65,0,0,0,193.78,100.84Z",1,"cls-3"],["d","M196.69,106.39h-1.06V99h2.58a2.32,2.32,0,0,1,1.64.6,1.72,1.72,0,0,1,.58,1.29,1.7,1.7,0,0,1-.52,1.3,2.54,2.54,0,0,1-1.76.54l2.25,3.66h-1.23l-2.27-3.93H198a1.44,1.44,0,0,0,1.11-.43,1.62,1.62,0,0,0,.39-1.15,1.51,1.51,0,0,0-.42-1.06,1.7,1.7,0,0,0-1.32-.51h-1.06Z",1,"cls-3"],["d","M50.57,81.05H43.32a24.33,24.33,0,0,0,1.14,3.66h7A23.06,23.06,0,0,1,50.57,81.05Zm-.42-10.18H42.82a31.67,31.67,0,0,0-.2,3.55v.31H50a1.51,1.51,0,0,1,0-.31A31.47,31.47,0,0,1,50.15,70.87ZM52,86.17h-7a22.63,22.63,0,0,0,2.07,3.68h6.71l0,.05A20,20,0,0,1,52,86.17ZM48.91,56.88A20.47,20.47,0,0,0,47.27,59h6.61c.13-.24.27-.46.42-.69a17.81,17.81,0,0,1,2.14-2.65l-1.28-3.78A22.78,22.78,0,0,0,48.91,56.88Zm39.29,3-4.31,6a33.63,33.63,0,0,1,1,8.58q0,9.54-4.31,16.13c-3.26,4.82-7.64,7.21-13.16,7.21A14.88,14.88,0,0,1,54.8,91.27H48.19c.23.31.46.62.72.91q7,8.05,18.54,8c7.65,0,13.81-2.7,18.53-8.13a26.24,26.24,0,0,0,6.29-17.68A26.31,26.31,0,0,0,88.2,59.84Zm-42.46,1.6a21.74,21.74,0,0,0-1.54,3.45h7.07a22.87,22.87,0,0,1,1.28-3.45Zm-2,4.67A25.33,25.33,0,0,0,43,69.63h7.28a24.62,24.62,0,0,1,.66-3.52ZM50,76H42.65a27.56,27.56,0,0,0,.4,3.7h7.28A27.55,27.55,0,0,1,50,76Z",1,"cls-4"],["d","M87.69,47.63c.15,1.35.29,2.72.4,4.07,0,.67-.49,1-1.28,1-.5,0-.68-.31-.63-1,.11-1.39.2-2.78.31-4.17a15.3,15.3,0,0,0,.16-2.68c-.11-.78-.51-1.5,0-2.25a.37.37,0,0,0,0-.11c0-2.18,0-4.35,0-6.53,0-.63-.18-.72-.72-.39q-2.37,1.53-4.77,3c-.38.24-.43.47-.29.9.38,1.19.7,2.42,1,3.64.14.65.23,1.3.36,1.95,0,.13,0,.27.07.4-1.66.9-7.5,3.1-25.41,3.42,0-.57,0-1.15,0-1.71-.07-1.86-.19-3.69-.27-5.55,0-.38-.14-.58-.52-.65-2.2-.45-4.38-.9-6.56-1.37-.7-.14-1.39-.32-2.07-.47a.44.44,0,0,1,0-.16c.16-.07.34-.16.52-.22q6.6-2.54,13.23-5a3.93,3.93,0,0,1,1.12-.24c4.49-.21,9-.39,13.5-.59,2.94-.13,5.89-.2,8.85-.38.86-.06,1.67-.29,2.4.41.1.09.34,0,.52.09s.36.13.52.18a1.7,1.7,0,0,1-.23.53,2.07,2.07,0,0,0-.62,1.56c0,2.22-.07,4.42-.07,6.64a13.08,13.08,0,0,0,.22,1.51,1.79,1.79,0,0,1,0,.52,4.85,4.85,0,0,0-.13,1.18C87.41,46,87.59,46.8,87.69,47.63Z",1,"cls-2"],["d","M84.47,59.05c0,.11.07.24.11.35a1,1,0,0,1-.33,1.13.56.56,0,0,0-.07.54,1.29,1.29,0,0,1-.4,1.75,1,1,0,0,0-.43,1.1c.51,1.75-1.46,3.48-3,3.32-.72-.08-1.43-.24-2.15-.35a18.61,18.61,0,0,0-2.12-.27,1,1,0,0,0-.72.47A17.74,17.74,0,0,0,74.66,69,2.22,2.22,0,0,0,75,71c.9,1.28,1.71,2.63,2.54,4a.77.77,0,0,1,.09.27c-1.17-.7-2.3-1.51-3.55-2.11-2.63-1.28-5.33-1.46-7.87.22a34.32,34.32,0,0,0-4.1,3.24c-2.21,2-4.9,2.49-7.82,2.53a2.85,2.85,0,0,1,0-.51,40.18,40.18,0,0,1,2.31-8,11.67,11.67,0,0,1,2.85-4.36,2.34,2.34,0,0,1,2-.65A37.37,37.37,0,0,1,70.16,68c.9.36,1.78.75,2.66,1.15,0-.06.06-.13.08-.18a28.06,28.06,0,0,0-12-3.68c0-.12,0-.2,0-.25a5.28,5.28,0,0,0-.09-4.16c-.18-.51-.57-.94-.81-1.45-.48-1-.9-2-1.35-3.06a16.21,16.21,0,0,1-1.15-2.47,18.41,18.41,0,0,1-.54-3.48,10.9,10.9,0,0,1,0-1.4c.2.56,23.25.33,25.43-3.46a6.77,6.77,0,0,0,.23,1,5.18,5.18,0,0,1,.13,3.64,2,2,0,0,0,.41,2.11c.82.95,1.59,1.93,2.31,2.95a1.31,1.31,0,0,1-.38,2C84.09,57.9,84.09,57.9,84.47,59.05Z",1,"cls-2"],["d","M70.37,74.28A6.58,6.58,0,0,0,66.14,76a21.47,21.47,0,0,0-4.86,5.71.9.9,0,0,1-1,.53,7.48,7.48,0,0,0-1.49.11c-1.87.24-3.73.51-5.59.77l-.16-.22c.11-.5.24-1,.33-1.5s.3-.6.74-.6c.88,0,1.77,0,2.65,0a6.06,6.06,0,0,0,4.47-1.91,18,18,0,0,1,4-3.62,8.78,8.78,0,0,1,6.34-1.57,8.61,8.61,0,0,1,4.78,2.5c1.62,1.64,3.08,3.44,4.6,5.18.5.56,1,1.14,1.46,1.71l-.11.12c-.18-.13-.37-.25-.54-.4a94.92,94.92,0,0,0-7.95-6.92,6.87,6.87,0,0,0-2.38-1.34Z",1,"cls-2"],[3,"ngSubmit","formGroup"],[1,"error-message",2,"font-size","1.1em"],[1,"form-group"],["for","firstname"],["id","firstname","type","firstname","formControlName","firstname","placeholder","Entrez votre Nom",3,"ngClass"],["class","error-message",4,"ngIf"],["for","lastname"],["id","lastname","type","lastname","formControlName","lastname","placeholder","Entrez votre Pr\xE9nom",3,"ngClass"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Entrez votre email (example@um5.ac.ma)",3,"ngClass"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Entrez votre Mot de passe",3,"ngClass"],["type","submit",1,"btn","btn_primary",3,"disabled"],[1,"anim_cnt"],[1,"login_links"],["routerLink","/login"],[1,"error-message"],[4,"ngIf"],[1,"loader2"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"span",2),Qt(),N(3,"svg",3)(4,"defs")(5,"style"),k(6,".cls-1,.cls-3{fill:#075b58;}.cls-2{fill:#00d6c5;}.cls-3{stroke:#075b58;stroke-miterlimit:10;stroke-width:0.25px;}.cls-4{fill:url(#D\xE9grad\xE9_sans_nom_11);}"),R(),N(7,"linearGradient",4),ee(8,"stop",5)(9,"stop",6),R()(),ee(10,"path",7)(11,"path",8)(12,"path",9)(13,"path",10)(14,"path",11)(15,"path",12)(16,"path",13)(17,"path",14)(18,"path",15)(19,"path",16)(20,"path",17)(21,"path",18)(22,"path",19)(23,"path",20)(24,"path",21)(25,"path",22)(26,"path",23)(27,"path",24)(28,"path",25)(29,"path",26)(30,"path",27)(31,"path",28),R()(),Lr(),N(32,"form",29),Re("ngSubmit",function(){return r.onSubmit()}),N(33,"span",30),k(34),R(),N(35,"div",31)(36,"label",32),k(37,"Nom"),R(),ee(38,"input",33),me(39,d3,2,1,"div",34),R(),N(40,"div",31)(41,"label",35),k(42,"Pr\xE9nom"),R(),ee(43,"input",36),me(44,f3,2,1,"div",34),R(),N(45,"div",31)(46,"label",37),k(47,"Email"),R(),ee(48,"input",38),me(49,m3,3,2,"div",34),R(),N(50,"div",31)(51,"label",39),k(52,"Mot de passe"),R(),ee(53,"input",40),me(54,_3,3,2,"div",34),R(),N(55,"button",41),k(56," S'inscrire "),me(57,E3,2,0,"main",42),R()(),N(58,"div",43)(59,"a",44),k(60," Vous avez d\xE9j\xE0 un compte ? "),R()()()()),t&2&&(G(32),Y("formGroup",r.loginForm),G(2),Rt(" ",r.authService.errorMessage_signUp()," "),G(4),Y("ngClass",xt(12,ah,r.loginForm.get("firstname").invalid&&r.loginForm.get("firstname").touched)),G(),Y("ngIf",r.loginForm.get("firstname").invalid&&r.loginForm.get("firstname").touched),G(4),Y("ngClass",xt(14,ah,r.loginForm.get("lastname").invalid&&r.loginForm.get("lastname").touched)),G(),Y("ngIf",r.loginForm.get("lastname").invalid&&r.loginForm.get("lastname").touched),G(4),Y("ngClass",xt(16,ah,r.loginForm.get("email").invalid&&r.loginForm.get("email").touched)),G(),Y("ngIf",r.loginForm.get("email").invalid&&r.loginForm.get("email").touched),G(4),Y("ngClass",xt(18,ah,r.loginForm.get("password").invalid&&r.loginForm.get("password").touched)),G(),Y("ngIf",r.loginForm.get("password").invalid&&r.loginForm.get("password").touched),G(),Y("disabled",r.loginForm.invalid),G(2),Xt(r.isLoading?57:-1))},dependencies:[Mi,$o,Go,vs,ms,Kr,ps,gs,Fi,Li,os,rs],styles:["*[_ngcontent-%COMP%]{--primary-color: #007bff;--darker-primary-color: #0056b3;--accent-color: lightcoral;--background-color: #f5f5f5;--text-color: #333;--border-color: #ccc}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px;text-align:center}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--text-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--text-color);font-weight:700}input[_ngcontent-%COMP%]{width:90%;padding:.75rem;font-size:1rem;border:1px solid var(--border-color);border-radius:4px;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);outline:none}.input-error[_ngcontent-%COMP%]{border-color:var(--accent-color)}.error-message[_ngcontent-%COMP%]{color:var(--accent-color);font-size:.875rem;margin-top:.25rem}.submit-button[_ngcontent-%COMP%]{width:6rem;padding:.75rem;background-color:var(--primary-color);color:#fff;border:none;border-radius:12px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--darker-primary-color)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.login_links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px;font-size:.9rem}.login_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:gray;font-style:italic}.login_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333}.anim_cnt[_ngcontent-%COMP%]{position:relative;background-color:transparent}"]})};var uh=class n{constructor(e){this.router=e;console.log(e.url.split("/")[2]),e.url.split("/")[2]&&(this.email=e.url.split("/")[2])}email="";static \u0275fac=function(t){return new(t||n)(K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-verify-email"]],decls:20,vars:1,consts:[[1,"container"],["fill","#000000","height","60","width","60","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 485.638 485.638",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M472.689,156.996L328.642,12.949c-17.266-17.266-45.353-17.266-62.616,0L12.948,266.024 c-17.264,17.266-17.264,45.353,0,62.617L156.995,472.69c17.266,17.264,45.354,17.265,62.617,0l253.076-253.076 C489.954,202.348,489.952,174.26,472.689,156.996z M183.546,455.21c-2.064-0.707-4.031-1.745-5.68-3.393L33.819,307.771 c-0.039-0.041-0.048-0.092-0.09-0.133l149.816-0.001V455.21z M42.601,278.118L278.122,42.596l0.002,229.085 c-0.002,3.444-2.998,6.442-6.443,6.442L42.601,278.118z M213.06,437.498v-129.86h58.623c9.609,0,18.64-3.741,25.427-10.528 c6.788-6.788,10.527-15.817,10.528-25.428V213.06l129.854,0.005L213.06,437.498z M307.637,183.545V33.729 c0.04,0.041,0.093,0.05,0.134,0.091l144.047,144.047c1.646,1.647,2.685,3.613,3.388,5.683L307.637,183.545z"],["d","M14.382,62.57h151.154c7.941,0,14.381-6.438,14.381-14.38c0-7.942-6.439-14.381-14.381-14.381H14.382 c-7.943,0-14.381,6.438-14.381,14.381C0.001,56.132,6.439,62.57,14.382,62.57z"],["d","M14.382,119.065h94.784c7.942,0,14.38-6.438,14.38-14.381c0-7.941-6.438-14.38-14.38-14.38H14.382 c-7.943,0-14.381,6.438-14.381,14.38C0.001,112.627,6.439,119.065,14.382,119.065z"],["d","M14.382,173.849h61.197c7.941,0,14.381-6.438,14.381-14.381s-6.439-14.381-14.381-14.381H14.382 c-7.943,0-14.381,6.439-14.381,14.381S6.439,173.849,14.382,173.849z"],["d","M75.579,438.278H14.382c-7.943,0-14.381,6.439-14.381,14.381c0,7.942,6.438,14.381,14.381,14.381h61.197 c7.941,0,14.381-6.438,14.381-14.381C89.96,444.717,83.521,438.278,75.579,438.278z"],[2,"margin-top","20px"],["routerLink","/login",1,"btn","btn_primary"]],template:function(t,r){t&1&&(N(0,"div",0),Qt(),N(1,"svg",1),ee(2,"g",2)(3,"g",3),N(4,"g",4)(5,"g"),ee(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9),R()()(),Lr(),N(11,"h2"),k(12,"Un Email de v\xE9rification a \xE9t\xE9 envoy\xE9 \xE0 votre compte ! "),R(),N(13,"p",10),k(14," V\xE9rifier votre Email "),N(15,"strong"),k(16),R(),k(17," pour activer votre compte "),R(),N(18,"a",11),k(19,"Login"),R()()),t&2&&(G(16),Rt(" ",r.email.length!=null?"("+r.email+")":""," "))},dependencies:[os,rs],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:clamp(30%,100%,300px);background-color:#fff;margin:30px auto;padding:10px;border-radius:10px;border:1px solid rgb(220,220,220);box-shadow:1px 1px 1px gray}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})};var IA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wA={};var pr,Jy;(function(){var n;function e(C,v){function E(){}E.prototype=v.prototype,C.D=v.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(I,w,A){for(var _=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)_[zn-2]=arguments[zn];return v.prototype[w].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var w=0;16>w;++w)I[w]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(w=0;16>w;++w)I[w]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=C.g[0],E=C.g[1],w=C.g[2];var A=C.g[3],_=v+(A^E&(w^A))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+I[1]+3905402710&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+I[2]+606105819&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+I[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+I[5]+1200080426&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+I[6]+2821735955&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+I[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+I[9]+2336552879&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+I[10]+4294925233&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+I[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+I[13]+4254626195&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+I[14]+2792965006&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+I[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(w^A&(E^w))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+I[6]+3225465664&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+I[11]+643717713&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+I[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+I[10]+38016083&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+I[15]+3634488961&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+I[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+I[14]+3275163606&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+I[3]+4107603335&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+I[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+I[2]+4243563512&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+I[7]+1735328473&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+I[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(E^w^A)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+I[8]+2272392833&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+I[11]+1839030562&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+I[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+I[4]+1272893353&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+I[7]+4139469664&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+I[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+I[0]+3936430074&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+I[3]+3572445317&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+I[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+I[12]+3873151461&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+I[15]+530742520&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+I[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(w^(E|~A))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+I[7]+1126891415&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+I[14]+2878612391&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+I[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+I[3]+2399980690&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+I[10]+4293915773&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+I[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+I[15]+4264355552&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+I[6]+2734768916&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+I[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+I[11]+3174756917&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+I[2]+718787259&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+w&4294967295,C.g[3]=C.g[3]+A&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var E=v-this.blockSize,I=this.B,w=this.h,A=0;A<v;){if(w==0)for(;A<=E;)i(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<v;)if(I[w++]=C.charCodeAt(A++),w==this.blockSize){i(this,I),w=0;break}}else for(;A<v;)if(I[w++]=C[A++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var E=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=E&255,E/=256;for(this.u(C),C=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)C[E++]=this.g[v]>>>I&255;return C};function o(C,v){var E=a;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=v(C)}function s(C,v){this.h=v;for(var E=[],I=!0,w=C.length-1;0<=w;w--){var A=C[w]|0;I&&A==v||(E[w]=A,I=!1)}this.g=E}var a={};function u(C){return-128<=C&&128>C?o(C,function(v){return new s([v|0],0>v?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return M(l(-C));for(var v=[],E=1,I=0;C>=E;I++)v[I]=C/E|0,E*=4294967296;return new s(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return M(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,w=0;w<C.length;w+=8){var A=Math.min(8,C.length-w),_=parseInt(C.substring(w,w+A),v);8>A?(A=l(Math.pow(v,A)),I=I.j(A).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(T(this))return-M(this).m();for(var C=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);C+=(0<=I?I:4294967296+I)*v,v*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(T(this))return"-"+M(this).toString(C);for(var v=l(Math.pow(C,6)),E=this,I="";;){var w=ve(E,v).g;E=F(E,w.j(v));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=w,D(E))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function T(C){return C.h==-1}n.l=function(C){return C=F(this,C),T(C)?-1:D(C)?0:1};function M(C){for(var v=C.g.length,E=[],I=0;I<v;I++)E[I]=~C.g[I];return new s(E,~C.h).add(y)}n.abs=function(){return T(this)?M(this):this},n.add=function(C){for(var v=Math.max(this.g.length,C.g.length),E=[],I=0,w=0;w<=v;w++){var A=I+(this.i(w)&65535)+(C.i(w)&65535),_=(A>>>16)+(this.i(w)>>>16)+(C.i(w)>>>16);I=_>>>16,A&=65535,_&=65535,E[w]=_<<16|A}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(C,v){return C.add(M(v))}n.j=function(C){if(D(this)||D(C))return p;if(T(this))return T(C)?M(this).j(M(C)):M(M(this).j(C));if(T(C))return M(this.j(M(C)));if(0>this.l(m)&&0>C.l(m))return l(this.m()*C.m());for(var v=this.g.length+C.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var w=0;w<C.g.length;w++){var A=this.i(I)>>>16,_=this.i(I)&65535,zn=C.i(w)>>>16,qs=C.i(w)&65535;E[2*I+2*w]+=_*qs,Z(E,2*I+2*w),E[2*I+2*w+1]+=A*qs,Z(E,2*I+2*w+1),E[2*I+2*w+1]+=_*zn,Z(E,2*I+2*w+1),E[2*I+2*w+2]+=A*zn,Z(E,2*I+2*w+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Z(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function B(C,v){this.g=C,this.h=v}function ve(C,v){if(D(v))throw Error("division by zero");if(D(C))return new B(p,p);if(T(C))return v=ve(M(C),v),new B(M(v.g),M(v.h));if(T(v))return v=ve(C,M(v)),new B(M(v.g),v.h);if(30<C.g.length){if(T(C)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,I=v;0>=I.l(C);)E=Ue(E),I=Ue(I);var w=Te(E,1),A=Te(I,1);for(I=Te(I,2),E=Te(E,2);!D(I);){var _=A.add(I);0>=_.l(C)&&(w=w.add(E),A=_),I=Te(I,1),E=Te(E,1)}return v=F(C,w.j(v)),new B(w,v)}for(w=p;0<=C.l(v);){for(E=Math.max(1,Math.floor(C.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=l(E),_=A.j(v);T(_)||0<_.l(C);)E-=I,A=l(E),_=A.j(v);D(A)&&(A=y),w=w.add(A),C=F(C,_)}return new B(w,C)}n.A=function(C){return ve(this,C).h},n.and=function(C){for(var v=Math.max(this.g.length,C.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&C.i(I);return new s(E,this.h&C.h)},n.or=function(C){for(var v=Math.max(this.g.length,C.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|C.i(I);return new s(E,this.h|C.h)},n.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^C.i(I);return new s(E,this.h^C.h)};function Ue(C){for(var v=C.g.length+1,E=[],I=0;I<v;I++)E[I]=C.i(I)<<1|C.i(I-1)>>>31;return new s(E,C.h)}function Te(C,v){var E=v>>5;v%=32;for(var I=C.g.length-E,w=[],A=0;A<I;A++)w[A]=0<v?C.i(A+E)>>>v|C.i(A+E+1)<<32-v:C.i(A+E);return new s(w,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jy=wA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,pr=wA.Integer=s}).apply(typeof IA<"u"?IA:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={};var Xy,I3,_s,ev,Sc,dh,tv,nv,rv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return d.prototype[b].apply(g,V)}}function T(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let V=0;V<S;V++)c[b+V]=g[V]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ve(c){return ve[" "](c),c}ve[" "]=function(){};var Ue=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function w(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function _(){var c=gf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zn{constructor(){this.h=this.g=null}add(d,f){let g=qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var qs=new F(()=>new _M,c=>c.reset());class _M{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let zs,Ws=!1,gf=new zn,D_=()=>{let c=a.Promise.resolve(void 0);zs=()=>{c.then(EM)}};var EM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){A(f)}var d=qs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ws=!1};function wr(){this.s=this.s,this.C=this.C}wr.prototype.s=!1,wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var IM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ks(c,d){if(ft.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ue){e:{try{ve(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ks.aa.h.call(this)}}D(Ks,ft);var wM={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Zs="closure_listenable_"+(1e6*Math.random()|0),CM=0;function DM(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++CM,this.da=this.fa=!1}function Jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xc(c){this.src=c,this.g={},this.h=0}Xc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var V=yf(c,d,g,b);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new DM(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function mf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function yf(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var vf="closure_lm_"+(1e6*Math.random()|0),_f={};function b_(c,d,f,g,b){if(g&&g.once)return T_(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)b_(c,d[S],f,g,b);return null}return f=Cf(f),c&&c[Zs]?c.K(d,f,l(g)?!!g.capture:!!g,b):A_(c,d,f,!1,g,b)}function A_(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var V=l(b)?!!b.capture:!!b,Se=If(c);if(Se||(c[vf]=Se=new Xc(c)),f=Se.add(d,f,g,V,S),f.proxy)return f;if(g=bM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)IM||(b=V),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(M_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bM(){function c(f){return d.call(c.src,c.listener,f)}let d=AM;return c}function T_(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)T_(c,d[S],f,g,b);return null}return f=Cf(f),c&&c[Zs]?c.L(d,f,l(g)?!!g.capture:!!g,b):A_(c,d,f,!0,g,b)}function S_(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)S_(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=Cf(f),c&&c[Zs]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=yf(S,f,g,b),-1<f&&(Jc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=If(c))&&(d=c.g[d.toString()],c=-1,d&&(c=yf(d,f,g,b)),(f=-1<c?d[c]:null)&&Ef(f))}function Ef(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Zs])mf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(M_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=If(d))?(mf(f,c),f.h==0&&(f.src=null,d[vf]=null)):Jc(c)}}}function M_(c){return c in _f?_f[c]:_f[c]="on"+c}function AM(c,d){if(c.da)c=!0;else{d=new Ks(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Ef(c),c=f.call(g,d)}return c}function If(c){return c=c[vf],c instanceof Xc?c:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cf(c){return typeof c=="function"?c:(c[wf]||(c[wf]=function(d){return c.handleEvent(d)}),c[wf])}function pt(){wr.call(this),this.i=new Xc(this),this.M=this,this.F=null}D(pt,wr),pt.prototype[Zs]=!0,pt.prototype.removeEventListener=function(c,d,f,g){S_(this,c,d,f,g)};function Dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ft(d,c);else if(d instanceof ft)d.target=d.target||c;else{var b=d;d=new ft(g,c),I(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var V=d.g=f[S];b=eu(V,g,!0,d)&&b}if(V=d.g=c,b=eu(V,g,!0,d)&&b,b=eu(V,g,!1,d)&&b,f)for(S=0;S<f.length;S++)V=d.g=f[S],b=eu(V,g,!1,d)&&b}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Jc(f[g]);delete c.g[d],c.h--}}this.F=null},pt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},pt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function eu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var V=d[S];if(V&&!V.da&&V.capture==f){var Se=V.listener,ut=V.ha||V.src;V.fa&&mf(c.i,V),b=Se.call(ut,g)!==!1&&b}}return b&&!g.defaultPrevented}function R_(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function x_(c){c.g=R_(()=>{c.g=null,c.i&&(c.i=!1,x_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class TM extends wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:x_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(c){wr.call(this),this.h=c,this.g={}}D(Qs,wr);var N_=[];function O_(c){Te(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ef(d)},c),c.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),O_(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=a.JSON.stringify,SM=a.JSON.parse,MM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bf(){}bf.prototype.h=null;function P_(c){return c.h||(c.h=c.i())}function k_(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Af(){ft.call(this,"d")}D(Af,ft);function Tf(){ft.call(this,"c")}D(Tf,ft);var ni={},F_=null;function tu(){return F_=F_||new pt}ni.La="serverreachability";function L_(c){ft.call(this,ni.La,c)}D(L_,ft);function Js(c){let d=tu();Dt(d,new L_(d))}ni.STAT_EVENT="statevent";function V_(c,d){ft.call(this,ni.STAT_EVENT,c),this.stat=d}D(V_,ft);function bt(c){let d=tu();Dt(d,new V_(d,c))}ni.Ma="timingevent";function j_(c,d){ft.call(this,ni.Ma,c),this.size=d}D(j_,ft);function Xs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function RM(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var V="",Se=S.split("&"),ut=0;ut<Se.length;ut++){var we=Se[ut].split("=");if(1<we.length){var gt=we[0];we=we[1];var mt=gt.split("_");V=2<=mt.length&&mt[1]=="type"?V+(gt+"="+we+"&"):V+(gt+"=redacted&")}}else V=null;else V=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+V})}function xM(c,d,f,g,b,S,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+V})}function Yi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+OM(c,f)+(g?" "+g:"")})}function NM(c,d){c.info(function(){return"TIMEOUT: "+d})}ea.prototype.info=function(){};function OM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var V=1;V<b.length;V++)b[V]=""}}}}return Df(f)}catch{return d}}var nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},U_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sf;function ru(){}D(ru,bf),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},Sf=new ru;function Cr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B_}function B_(){this.i=null,this.g="",this.h=!1}var H_={},Mf={};function Rf(c,d,f){c.L=1,c.v=au(Wn(d)),c.m=f,c.P=!0,$_(c,null)}function $_(c,d){c.F=Date.now(),iu(c),c.A=Wn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),rE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new B_,c.g=IE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new TM(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(N_[0]=b.toString()),b=N_);for(var S=0;S<b.length;S++){var V=b_(f,b[S],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Js(),RM(c.i,c.u,c.A,c.l,c.R,c.m)}Cr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Kn(c)==3?d.j():this.Y(c)},Cr.prototype.Y=function(c){try{if(c==this.g)e:{let mt=Kn(this.g);var d=this.g.Ba();let eo=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||lE(this.g)))){this.J||mt!=4||d==7||(d==8||0>=eo?Js(3):Js(2)),xf(this);var f=this.g.Z();this.X=f;t:if(G_(this)){var g=lE(this.g);c="";var b=g.length,S=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),ta(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,xM(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ut=this.g;if((Se=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Se)){var we=Se;break t}}we=null}if(f=we)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nf(this,f);else{this.o=!1,this.s=3,bt(12),ri(this),ta(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<V.length;)if(on=PM(this,V),on==Mf){mt==4&&(this.s=4,bt(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==H_){this.s=4,bt(15),Yi(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,on,null),Nf(this,on);if(G_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||V.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,V,"[Invalid Chunked Response]"),ri(this),ta(this);else if(0<V.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Vf(gt),gt.M=!0,bt(11))}}else Yi(this.i,this.l,V,null),Nf(this,V);mt==4&&ri(this),this.o&&!this.J&&(mt==4?yE(this.j,this):(this.o=!1,iu(this)))}else YM(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ri(this),ta(this)}}}catch{}finally{}};function G_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function PM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Mf:(f=Number(d.substring(f,g)),isNaN(f)?H_:(g+=1,g+f>d.length?Mf:(d=d.slice(g,g+f),c.C=g+f,d)))}Cr.prototype.cancel=function(){this.J=!0,ri(this)};function iu(c){c.S=Date.now()+c.I,q_(c,c.I)}function q_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Xs(y(c.ba,c),d)}function xf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Cr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(NM(this.i,this.A),this.L!=2&&(Js(),bt(17)),ri(this),this.s=2,ta(this)):q_(this,this.S-c)};function ta(c){c.j.G==0||c.J||yE(c.j,c)}function ri(c){xf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,O_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Nf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Of(f.h,c))){if(!c.K&&Of(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)hu(f),lu(f);else break e;Lf(f),bt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Xs(y(f.Za,f),6e3));if(1>=K_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oi(f,11)}else if((c.K||f.g==c)&&hu(f),!Z(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let we=b[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let gt=we[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=we[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let eo=we[5];eo!=null&&typeof eo=="number"&&0<eo&&(g=1.5*eo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let on=c.g;if(on){let pu=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var S=g.h;S.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Pf(S,S.h),S.h=null))}if(g.D){let jf=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(g.ya=jf,Ne(g.I,g.D,jf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=EE(g,g.J?g.ia:null,g.W),V.K){Z_(g.h,V);var Se=V,ut=g.L;ut&&(Se.I=ut),Se.B&&(xf(Se),iu(Se)),g.g=V}else gE(g);0<f.i.length&&du(f)}else we[0]!="stop"&&we[0]!="close"||oi(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?oi(f,7):Ff(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Js(4)}catch{}}var kM=class{constructor(c,d){this.g=c,this.map=d}};function z_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function W_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function K_(c){return c.h?1:c.g?c.g.size:0}function Of(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pf(c,d){c.g?c.g.add(d):c.h=d}function Z_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}z_.prototype.cancel=function(){if(this.i=Q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Q_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return T(c.i)}function FM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function LM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Y_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=LM(c),g=FM(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var J_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ii){this.h=c.h,ou(this,c.j),this.o=c.o,this.g=c.g,su(this,c.s),this.l=c.l;var d=c.i,f=new ia;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),X_(this,f),this.m=c.m}else c&&(d=String(c).match(J_))?(this.h=!1,ou(this,d[1]||"",!0),this.o=na(d[2]||""),this.g=na(d[3]||"",!0),su(this,d[4]),this.l=na(d[5]||"",!0),X_(this,d[6]||"",!0),this.m=na(d[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}ii.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ra(d,eE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ra(d,eE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ra(f,f.charAt(0)=="/"?BM:UM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ra(f,$M)),c.join("")};function Wn(c){return new ii(c)}function ou(c,d,f){c.j=f?na(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function su(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function X_(c,d,f){d instanceof ia?(c.i=d,GM(c.i,c.h)):(f||(d=ra(d,HM)),c.i=new ia(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function au(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function na(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ra(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eE=/[#\/\?@]/g,UM=/[#\?:]/g,BM=/[#\?]/g,HM=/[#\?@]/g,$M=/#/g;function ia(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Dr(c){c.g||(c.g=new Map,c.h=0,c.i&&VM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ia.prototype,n.add=function(c,d){Dr(this),this.i=null,c=Ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tE(c,d){Dr(c),d=Ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nE(c,d){return Dr(c),d=Ji(c,d),c.g.has(d)}n.forEach=function(c,d){Dr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){Dr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(c){Dr(this);let d=[];if(typeof c=="string")nE(this,c)&&(d=d.concat(this.g.get(Ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Dr(this),this.i=null,c=Ji(this,c),nE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rE(c,d,f){tE(c,d),0<f.length&&(c.i=null,c.g.set(Ji(c,d),T(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var b=S;V[g]!==""&&(b+="="+encodeURIComponent(String(V[g]))),c.push(b)}}return this.i=c.join("&")};function Ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function GM(c,d){d&&!c.j&&(Dr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(tE(this,g),rE(this,b,f))},c)),c.j=d}function qM(c,d){let f=new ea;if(a.Image){let g=new Image;g.onload=m(br,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(br,f,"TestLoadImage: error",!1,d,g),g.onabort=m(br,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(br,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function zM(c,d){let f=new ea,g=new AbortController,b=setTimeout(()=>{g.abort(),br(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?br(f,"TestPingServer: ok",!0,d):br(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),br(f,"TestPingServer: error",!1,d)})}function br(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function WM(){this.g=new MM}function KM(c,d,f){let g=f||"";try{Y_(c,function(b,S){let V=b;l(b)&&(V=Df(b)),d.push(g+S+"="+encodeURIComponent(V))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function oa(c){this.l=c.Ub||null,this.j=c.eb||!1}D(oa,bf),oa.prototype.g=function(){return new cu(this.l,this.j)},oa.prototype.i=function(c){return function(){return c}}({});function cu(c,d){pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(cu,pt),n=cu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,aa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?sa(this):aa(this),this.readyState==3&&iE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,sa(this))},n.Qa=function(c){this.g&&(this.response=c,sa(this))},n.ga=function(){this.g&&sa(this)};function sa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,aa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function aa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oE(c){let d="";return Te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function kf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=oE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Be(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Be,pt);var ZM=/^https?$/i,QM=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sf.g(),this.v=this.o?P_(this.o):P_(Sf),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){sE(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QM,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,V]of f)this.g.setRequestHeader(S,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uE(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){sE(this,S)}};function sE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aE(c),uu(c)}function aE(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),uu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uu(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cE(this):this.bb())},n.bb=function(){cE(this)};function cE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)R_(c.Ea,0,c);else if(Dt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var b=String(c.D).match(J_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!ZM.test(b?b.toLowerCase():"")}f=g}if(f)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var S=2<Kn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",aE(c)}}finally{uu(c)}}}}function uu(c,d){if(c.g){uE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function uE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),SM(d)}};function lE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function YM(c){let d={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Z(c[g]))continue;var f=w(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}C(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dE(c){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,c),this.cb=ca("retryDelaySeedMs",1e4,c),this.Wa=ca("forwardChannelMaxRetries",2,c),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new z_(c&&c.concurrentRequestLimit),this.Da=new WM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){bt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=EE(this,null,this.W),du(this)};function Ff(c){if(hE(c),c.G==3){var d=c.U++,f=Wn(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),ua(c,f),d=new Cr(c,c.j,d),d.L=2,d.v=au(Wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=IE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),iu(d)}_E(c)}function lu(c){c.g&&(Vf(c),c.g.cancel(),c.g=null)}function hE(c){lu(c),c.u&&(a.clearTimeout(c.u),c.u=null),hu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function du(c){if(!W_(c.h)&&!c.s){c.s=!0;var d=c.Ga;zs||D_(),Ws||(zs(),Ws=!0),gf.add(d,c),c.B=0}}function JM(c,d){return K_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Xs(y(c.Ga,c,d),vE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Cr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pE(this,b,d),f=Wn(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),ua(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(oE(S)))+"&"+d:this.m&&kf(f,this.m,S)),Pf(this.h,b),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),b.T=!0,Rf(b,f,null)):Rf(b,f,d),this.G=2}}else this.G==3&&(c?fE(this,c):this.i.length==0||W_(this.h)||fE(this))};function fE(c,d){var f;d?f=d.l:f=c.U++;let g=Wn(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),ua(c,g),c.m&&c.o&&kf(g,c.m,c.o),f=new Cr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pf(c.h,f),Rf(f,g,d)}function ua(c,d){c.H&&Te(c.H,function(f,g){Ne(d,g,f)}),c.l&&Y_({},function(f,g){Ne(d,g,f)})}function pE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let V=["count="+f];S==-1?0<f?(S=b[0].g,V.push("ofs="+S)):S=0:V.push("ofs="+S);let Se=!0;for(let ut=0;ut<f;ut++){let we=b[ut].g,gt=b[ut].map;if(we-=S,0>we)S=Math.max(0,b[ut].g-100),Se=!1;else try{KM(gt,V,"req"+we+"_")}catch{g&&g(gt)}}if(Se){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function gE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;zs||D_(),Ws||(zs(),Ws=!0),gf.add(d,c),c.v=0}}function Lf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Xs(y(c.Fa,c),vE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Xs(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),lu(this),mE(this))};function Vf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mE(c){c.g=new Cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Wn(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),ua(c,d),c.m&&c.o&&kf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=au(Wn(d)),f.m=null,f.P=!0,$_(f,c)}n.Za=function(){this.C!=null&&(this.C=null,lu(this),Lf(this),bt(19))};function hu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yE(c,d){var f=null;if(c.g==d){hu(c),Vf(c),c.g=null;var g=2}else if(Of(c.h,d))f=d.D,Z_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=tu(),Dt(g,new j_(g,f)),du(c)}else gE(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&JM(c,d)||g==2&&Lf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:oi(c,5);break;case 4:oi(c,10);break;case 3:oi(c,6);break;default:oi(c,2)}}}function vE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function oi(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let b=!g;g=new ii(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ou(g,"https"),au(g),b?qM(g.toString(),f):zM(g.toString(),f)}else bt(2);c.G=0,c.l&&c.l.sa(d),_E(c),hE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function _E(c){if(c.G=0,c.ka=[],c.l){let d=Q_(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function EE(c,d,f){var g=f instanceof ii?Wn(f):new ii(f);if(g.g!="")d&&(g.g=d+"."+g.g),su(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ii(null);g&&ou(S,g),d&&(S.g=d),b&&su(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),ua(c,g),g}function IE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new oa({eb:f})):new Be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wE(){}n=wE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fu(){}fu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){pt.call(this),this.g=new dE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Xi(this)}D(Vt,pt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Ff(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Df(c),c=f);d.i.push(new kM(d.Ya++,c)),d.G==3&&du(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,Vt.aa.N.call(this)};function CE(c){Af.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(CE,Af);function DE(){Tf.call(this),this.status=1}D(DE,Tf);function Xi(c){this.g=c}D(Xi,wE),Xi.prototype.ua=function(){Dt(this.g,"a")},Xi.prototype.ta=function(c){Dt(this.g,new CE(c))},Xi.prototype.sa=function(c){Dt(this.g,new DE)},Xi.prototype.ra=function(){Dt(this.g,"b")},fu.prototype.createWebChannel=fu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,rv=gr.createWebChannelTransport=function(){return new fu},nv=gr.getStatEventTarget=function(){return tu()},tv=gr.Event=ni,dh=gr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nu.NO_ERROR=0,nu.TIMEOUT=8,nu.HTTP_ERROR=6,Sc=gr.ErrorCode=nu,U_.COMPLETE="complete",ev=gr.EventType=U_,k_.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",pt.prototype.listen=pt.prototype.K,_s=gr.WebChannel=k_,I3=gr.FetchXmlHttpFactory=oa,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Xy=gr.XhrIo=Be}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});var CA="@firebase/firestore",DA="4.7.10";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Bs="11.5.0";var Bi=new mu("@firebase/firestore");function Es(){return Bi.logLevel}function z(n,...e){if(Bi.logLevel<=Cn.DEBUG){let t=e.map(z0);Bi.debug(`Firestore (${Bs}): ${n}`,...t)}}function yr(n,...e){if(Bi.logLevel<=Cn.ERROR){let t=e.map(z0);Bi.error(`Firestore (${Bs}): ${n}`,...t)}}function Ts(n,...e){if(Bi.logLevel<=Cn.WARN){let t=e.map(z0);Bi.warn(`Firestore (${Bs}): ${n}`,...t)}}function z0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function be(n,e){n||te()}function oe(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends OE{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},uv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},lv=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>j(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Un)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new at(e)}},dv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},hv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new dv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_h=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fv=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,FE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){be(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _h(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new _h(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function gT(){return new TextEncoder}var Eh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=w3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function pv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=gT(),s=C3(o.encode(bA(n,t)),o.encode(bA(e,t)));return s!==0?s:he(r,i)}}t+=r>65535?2:1}return he(n.length,e.length)}function bA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function C3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return he(n[t],e[t]);return he(n.length,e.length)}function Ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var AA=-62135596800,TA=1e6,ht=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*TA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AA)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-AA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ht(0,0))}static max(){return new n(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var SA="__name__",Ih=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(),r===void 0?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return he(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):pv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}},je=class n extends Ih{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},D3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends Ih{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return D3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SA}static keyField(){return new n([SA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};var Pc=-1,gv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};gv.UNKNOWN_ID=-1;function b3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Hi(i,X.empty(),e)}function A3(n){return new Hi(n.readTime,n.key,Pc)}var Hi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),X.empty(),Pc)}static max(){return new n(se.max(),X.empty(),Pc)}};function T3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var S3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hs(n){return j(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==S3)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function M3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $s(n){return n.name==="IndexedDbTransactionError"}var W0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),K0=-1;function nf(n){return n==null}function kc(n){return n===0&&1/n==-1/0}function R3(n){return typeof n=="number"&&Number.isInteger(n)&&!kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var mT="";function x3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MA(e)),e=N3(n.get(t),e);return MA(e)}function N3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case mT:t+="";break;default:t+=o}}return t}function MA(n){return n+mT+""}var O3="remoteDocuments",yT="owner";var vT="mutationQueues";var _T="mutations";var ET="documentMutations",P3="remoteDocumentsV14";var IT="remoteDocumentGlobal";var wT="targets";var CT="targetDocuments";var DT="targetGlobal",bT="collectionParents";var AT="clientMetadata";var TT="bundles";var ST="namedQueries";var k3="indexConfiguration";var F3="indexState";var L3="indexEntries";var MT="documentOverlays";var V3="globals";var j3=[vT,_T,ET,O3,wT,yT,DT,CT,AT,IT,bT,TT,ST],SK=[...j3,MT],U3=[vT,_T,ET,P3,wT,yT,DT,CT,AT,IT,bT,TT,ST,MT],B3=U3,H3=[...B3,k3,F3,L3];var MK=[...H3,V3];function RA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ti(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ze=class n{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ds(this.root,e,this.comparator,!0)}},Ds=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wh(this.data.getIterator())}getIteratorFrom(e){return new wh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},wh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ch("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var $3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(n){if(be(!!n),typeof n=="string"){let e=0,t=$3.exec(n);if(be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _r(n){return typeof n=="string"?Ct.fromBase64String(n):Ct.fromUint8Array(n)}var xT="server_timestamp",NT="__type__",OT="__previous_value__",PT="__local_write_time__";function Z0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||t===void 0?void 0:t.stringValue)===xT}function rf(n){let e=n.mapValue.fields[OT];return Z0(e)?rf(e):e}function Fc(n){let e=vr(n.mapValue.fields[PT].timestampValue);return new ht(e.seconds,e.nanos)}var yv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Dh="(default)",bh=class n{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Q0="__type__",kT="__max__",hh={mapValue:{fields:{__type__:{stringValue:kT}}}},Y0="__vector__",Ms="value";function Yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Z0(n)?4:LT(n)?9007199254740991:FT(n)?10:11:te()}function Gn(n,e){if(n===e)return!0;let t=Yr(n);if(t!==Yr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fc(n).isEqual(Fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vr(i.timestampValue),a=vr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _r(i.bytesValue).isEqual(_r(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?kc(s)===kc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ss(n.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(RA(s)!==RA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Gn(s[u],a[u])))return!1;return!0}(n,e);default:return te()}}function Lc(n,e){return(n.values||[]).find(t=>Gn(t,e))!==void 0}function Rs(n,e){if(n===e)return 0;let t=Yr(n),r=Yr(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return xA(n.timestampValue,e.timestampValue);case 4:return xA(Fc(n),Fc(e));case 5:return pv(n.stringValue,e.stringValue);case 6:return function(o,s){let a=_r(o),u=_r(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=he(Fe(o.latitude),Fe(s.latitude));return a!==0?a:he(Fe(o.longitude),Fe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[Ms])===null||a===void 0?void 0:a.arrayValue,D=(u=y[Ms])===null||u===void 0?void 0:u.arrayValue,T=he(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:NA(m,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===hh.mapValue&&s===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(s===hh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=pv(u[p],h[p]);if(y!==0)return y;let m=Rs(a[u[p]],l[h[p]]);if(m!==0)return m}return he(u.length,h.length)}(n.mapValue,e.mapValue);default:throw te()}}function xA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=vr(n),r=vr(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function NA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Rs(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function xs(n){return vv(n)}function vv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=vr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _r(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=vv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${vv(t.fields[s])}`;return i+"}"}(n.mapValue):te()}function gh(n){switch(Yr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=rf(n);return e?16+gh(e):16;case 5:return 2*n.stringValue.length;case 6:return _r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ti(r.fields,(o,s)=>{i+=o.length+gh(s)}),i}(n.mapValue);default:throw te()}}function OA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _v(n){return!!n&&"integerValue"in n}function J0(n){return!!n&&"arrayValue"in n}function PA(n){return!!n&&"nullValue"in n}function kA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function FT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q0])===null||t===void 0?void 0:t.stringValue)===Y0}function Rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ti(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kT}var xK={mapValue:{fields:{[Q0]:{stringValue:Y0},[Ms]:{arrayValue:{}}}}};var $t=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Rc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ti(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Rc(this.value))}};function VT(n){let e=[];return ti(n.fields,(t,r)=>{let i=new Gt([t]);if(mh(r)){let o=VT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var In=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(e,t){this.position=e,this.inclusive=t}};function FA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=Rs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gn(n.position[t],e.position[t]))return!1;return!0}var Os=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function G3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ah=class{},Je=class n extends Ah{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Iv(e,t,r):t==="array-contains"?new Dv(e,r):t==="in"?new bv(e,r):t==="not-in"?new Av(e,r):t==="array-contains-any"?new Tv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wv(e,r):new Cv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rs(t,this.value)):t!==null&&Yr(this.value)===Yr(t)&&this.matchesComparison(Rs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class n extends Ah{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return jT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function jT(n){return n.op==="and"}function UT(n){return q3(n)&&jT(n)}function q3(n){for(let e of n.filters)if(e instanceof wn)return!1;return!0}function Ev(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+xs(n.value);if(UT(n))return n.filters.map(e=>Ev(e)).join(",");{let e=n.filters.map(t=>Ev(t)).join(",");return`${n.op}(${e})`}}function BT(n,e){return n instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(n,e):n instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BT(s,i.filters[a]),!0):!1}(n,e):void te()}function HT(n){return n instanceof Je?function(t){return`${t.field.canonicalString()} ${t.op} ${xs(t.value)}`}(n):n instanceof wn?function(t){return t.op.toString()+" {"+t.getFilters().map(HT).join(" ,")+"}"}(n):"Filter"}var Iv=class extends Je{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},wv=class extends Je{constructor(e,t){super(e,"in",t),this.keys=$T("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Cv=class extends Je{constructor(e,t){super(e,"not-in",t),this.keys=$T("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function $T(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var Dv=class extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return J0(t)&&Lc(t.arrayValue,this.value)}},bv=class extends Je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Lc(this.value.arrayValue,t)}},Av=class extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Lc(this.value.arrayValue,t)}},Tv=class extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!J0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}};var Sv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function VA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Sv(n,e,t,r,i,o,s)}function X0(n){let e=oe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ev(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xs(r)).join(",")),e.le=t}return e.le}function e_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!G3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LA(n.startAt,e.startAt)&&LA(n.endAt,e.endAt)}function Mv(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var $i=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function z3(n,e,t,r,i,o,s,a){return new $i(n,e,t,r,i,o,s,a)}function t_(n){return new $i(n)}function jA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GT(n){return n.collectionGroup!==null}function xc(n){let e=oe(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Os(o,r))}),t.has(Gt.keyField().canonicalString())||e.he.push(new Os(Gt.keyField(),r))}return e.he}function Hn(n){let e=oe(n);return e.Pe||(e.Pe=W3(e,xc(n))),e.Pe}function W3(n,e){if(n.limitType==="F")return VA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Os(i.field,o)});let t=n.endAt?new Ns(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ns(n.startAt.position,n.startAt.inclusive):null;return VA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Rv(n,e){let t=n.filters.concat([e]);return new $i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xv(n,e,t){return new $i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function of(n,e){return e_(Hn(n),Hn(e))&&n.limitType===e.limitType}function qT(n){return`${X0(Hn(n))}|lt:${n.limitType}`}function Is(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>HT(i)).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>xs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>xs(i)).join(",")),`Target(${r})`}(Hn(n))}; limitType=${n.limitType})`}function sf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=FA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,xc(r),i)||r.endAt&&!function(s,a,u){let l=FA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,xc(r),i))}(n,e)}function K3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zT(n){return(e,t)=>{let r=!1;for(let i of xc(n)){let o=Z3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z3(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Rs(u,l):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var Er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return RT(this.inner)}size(){return this.innerSize}};var Q3=new ze(X.comparator);function Ir(){return Q3}var WT=new ze(X.comparator);function Mc(...n){let e=WT;for(let t of n)e=e.insert(t.key,t);return e}function KT(n){let e=WT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return Nc()}function ZT(){return Nc()}function Nc(){return new Er(n=>n.toString(),(n,e)=>n.isEqual(e))}var Y3=new ze(X.comparator),J3=new ct(X.comparator);function _e(...n){let e=J3;for(let t of n)e=e.add(t);return e}var X3=new ct(he);function e5(){return X3}function n_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function QT(n){return{integerValue:""+n}}function t5(n,e){return R3(e)?QT(e):n_(n,e)}var Ps=class{constructor(){this._=void 0}};function n5(n,e,t){return n instanceof ks?function(i,o){let s={fields:{[NT]:{stringValue:xT},[PT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Z0(o)&&(o=rf(o)),o&&(s.fields[OT]=o),{mapValue:s}}(t,e):n instanceof Gi?JT(n,e):n instanceof qi?XT(n,e):function(i,o){let s=YT(i,o),a=UA(s)+UA(i.Ie);return _v(s)&&_v(i.Ie)?QT(a):n_(i.serializer,a)}(n,e)}function r5(n,e,t){return n instanceof Gi?JT(n,e):n instanceof qi?XT(n,e):t}function YT(n,e){return n instanceof Fs?function(r){return _v(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ks=class extends Ps{},Gi=class extends Ps{constructor(e){super(),this.elements=e}};function JT(n,e){let t=eS(e);for(let r of n.elements)t.some(i=>Gn(i,r))||t.push(r);return{arrayValue:{values:t}}}var qi=class extends Ps{constructor(e){super(),this.elements=e}};function XT(n,e){let t=eS(e);for(let r of n.elements)t=t.filter(i=>!Gn(i,r));return{arrayValue:{values:t}}}var Fs=class extends Ps{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function UA(n){return Fe(n.integerValue||n.doubleValue)}function eS(n){return J0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function i5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof qi&&i instanceof qi?Ss(r.elements,i.elements,Gn):r instanceof Fs&&i instanceof Fs?Gn(r.Ie,i.Ie):r instanceof ks&&i instanceof ks}(n.transform,e.transform)}var Nv=class{constructor(e,t){this.version=e,this.transformResults=t}},Zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ls=class{};function tS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Th(n.key,Zr.none()):new zi(n.key,n.data,Zr.none());{let t=n.data,r=$t.empty(),i=new ct(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qn(n.key,r,new rn(i.toArray()),Zr.none())}}function o5(n,e,t){n instanceof zi?function(i,o,s){let a=i.value.clone(),u=HA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof qn?function(i,o,s){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=HA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Oc(n,e,t,r){return n instanceof zi?function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=o.value.clone(),h=$A(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof qn?function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=$A(o.fieldTransforms,u,s),h=s.data;return h.setAll(nS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function s5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=YT(r.transform,i||null);o!=null&&(t===null&&(t=$t.empty()),t.set(r.field,o))}return t||null}function BA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(o,s)=>i5(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var zi=class extends Ls{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends Ls{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function HA(n,e,t){let r=new Map;be(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r5(s,a,t[i]))}return r}function $A(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,n5(o,s,e))}return r}var Th=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ov=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Pv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&o5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ZT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=tS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(t,r)=>BA(t,r))&&Ss(this.baseMutations,e.baseMutations,(t,r)=>BA(t,r))}},kv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length);let i=function(){return Y3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Fv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Lv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,Ie;function a5(n){switch(n){case O.OK:return te();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return te()}}function rS(n){if(n===void 0)return yr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Qe.OK:return O.OK;case Qe.CANCELLED:return O.CANCELLED;case Qe.UNKNOWN:return O.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return O.INTERNAL;case Qe.UNAVAILABLE:return O.UNAVAILABLE;case Qe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Qe.NOT_FOUND:return O.NOT_FOUND;case Qe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Qe.ABORTED:return O.ABORTED;case Qe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Qe.DATA_LOSS:return O.DATA_LOSS;default:return te()}}(Ie=Qe||(Qe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var GA=null;var c5=new pr([4294967295,4294967295],0);function qA(n){let e=gT().encode(n),t=new Jy;return t.update(e),new Uint8Array(t.digest())}function zA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pr([t,r],0),new pr([i,o],0)]}var Vv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ji(`Invalid padding: ${t}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ji(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=pr.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(pr.fromNumber(r)));return i.compare(c5)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=qA(e),[r,i]=zA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;let t=qA(e),[r,i]=zA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new ze(he),Ir(),_e())}},Vc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var bs=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Mh=class{constructor(e,t){this.targetId=e,this.ge=t}},Rh=class{constructor(e,t,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},xh=class{constructor(){this.pe=0,this.ye=WA(),this.we=Ct.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=_e(),t=_e(),r=_e();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Vc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=WA()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},jv=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=fh(),this.Ue=fh(),this.Ke=new ze(he)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(Mv(o))if(r===0){let s=new X(o.path);this.ze(t,s,In.newNoDocument(s,se.min()))}else be(r===1);else{let s=this.et(t);if(s!==r){let a=this.tt(e),u=a?this.nt(a,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}GA?.rt(function(h,p,y,m,D){var T,M,F,Z,B,ve;let Ue={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Te=p.unchangedNames;return Te&&(Ue.bloomFilter={applied:D===0,hashCount:(T=Te?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(Z=(F=(M=Te?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&Z!==void 0?Z:0,padding:(ve=(B=Te?.bits)===null||B===void 0?void 0:B.padding)!==null&&ve!==void 0?ve:0,mightContain:C=>{var v;return(v=m?.mightContain(C))!==null&&v!==void 0&&v}}),Ue}(s,e.ge,this.ke.it(),a,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_r(r).toUint8Array()}catch(u){if(u instanceof Ch)return Ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Vv(s,i,o)}catch(u){return Ts(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let a=this.Xe(s);if(a){if(o.current&&Mv(a.target)){let u=new X(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,In.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=_e();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Sh(e,t,this.Ke,this.Qe,r);return this.Qe=Ir(),this.$e=fh(),this.Ue=fh(),this.Ke=new ze(he),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new xh,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ct(he),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ct(he),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xh),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function fh(){return new ze(X.comparator)}function WA(){return new ze(X.comparator)}var u5={asc:"ASCENDING",desc:"DESCENDING"},l5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d5={and:"AND",or:"OR"},Uv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Bv(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function Nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function h5(n,e){return Nh(n,e.toTimestamp())}function $n(n){return be(!!n),se.fromTimestamp(function(t){let r=vr(t);return new ht(r.seconds,r.nanos)}(n))}function r_(n,e){return Hv(n,e).canonicalString()}function Hv(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oS(n){let e=je.fromString(n);return be(lS(e)),e}function $v(n,e){return r_(n.databaseId,e.path)}function iv(n,e){let t=oS(e);if(t.get(1)!==n.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(aS(t))}function sS(n,e){return r_(n.databaseId,e)}function f5(n){let e=oS(n);return e.length===4?je.emptyPath():aS(e)}function Gv(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aS(n){return be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function KA(n,e,t){return{name:$v(n,e),fields:t.value.mapValue.fields}}function p5(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:rS(l.code);return new W(h,l.message||"")}(s);t=new Rh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=iv(n,r.document.name),o=$n(r.document.updateTime),s=r.document.createTime?$n(r.document.createTime):se.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=In.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new bs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=iv(n,r.document),o=r.readTime?$n(r.readTime):se.min(),s=In.newNoDocument(i,o),a=r.removedTargetIds||[];t=new bs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=iv(n,r.document),o=r.removedTargetIds||[];t=new bs([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Lv(i,o),a=r.targetId;t=new Mh(a,s)}}return t}function g5(n,e){let t;if(e instanceof zi)t={update:KA(n,e.key,e.value)};else if(e instanceof Th)t={delete:$v(n,e.key)};else if(e instanceof qn)t={update:KA(n,e.key,e.data),updateMask:D5(e.fieldMask)};else{if(!(e instanceof Ov))return te();t={verify:$v(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fs)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:h5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(n,e.precondition)),t}function m5(n,e){return n&&n.length>0?(be(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?$n(i.updateTime):$n(o);return s.isEqual(se.min())&&(s=$n(o)),new Nv(s,i.transformResults||[])}(t,e))):[]}function y5(n,e){return{documents:[sS(n,e.path)]}}function v5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sS(n,i);let o=function(l){if(l.length!==0)return uS(wn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:ws(y.field),direction:I5(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Bv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function _5(n){let e=f5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){be(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=cS(p);return y instanceof wn&&UT(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(D){return new Os(Cs(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,nf(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new Ns(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new Ns(m,y)}(t.endAt)),z3(e,i,s,o,a,"F",u,l)}function E5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Cs(t.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Cs(t.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Cs(t.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Cs(t.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return Je.create(Cs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wn.create(t.compositeFilter.filters.map(r=>cS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function I5(n){return u5[n]}function w5(n){return l5[n]}function C5(n){return d5[n]}function ws(n){return{fieldPath:n.canonicalString()}}function Cs(n){return Gt.fromServerFormat(n.fieldPath)}function uS(n){return n instanceof Je?function(t){if(t.op==="=="){if(kA(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NAN"}};if(PA(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kA(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NOT_NAN"}};if(PA(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(t.field),op:w5(t.op),value:t.value}}}(n):n instanceof wn?function(t){let r=t.getFilters().map(i=>uS(i));return r.length===1?r[0]:{compositeFilter:{op:C5(t.op),filters:r}}}(n):te()}function D5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var jc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var qv=class{constructor(e){this.Tt=e}};function b5(n){let e=_5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xv(e,e.limit,"L"):e}var Oh=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),kc(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=vr(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(_r(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?LT(e)?this.ft(t,Number.MAX_SAFE_INTEGER):FT(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):te()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Ms,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Fe(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),X.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};Oh.xt=new Oh;var zv=class{constructor(){this.Tn=new Wv}addToCollectionParentIndex(e,t){return this.Tn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Hi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Wv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(je.comparator)).toArray()}};var NK=new Uint8Array(0);var ZA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dS=41943040,nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(dS,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var Uc=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var QA="LruGarbageCollector",A5=1048576;function YA([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var Kv=class{constructor(e){this.Hn=e,this.buffer=new ct(YA),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();YA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Zv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){z(QA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>j(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){$s(t)?z(QA,"Ignoring IndexedDB error during garbage collection: ",t):yield Hs(t)}yield this.er(3e5)}))}},Qv=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(W0.ae);let r=new Kv(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(ZA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Es()<=Cn.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function T5(n,e){return new Qv(n,e)}var Yv=class{constructor(){this.changes=new Er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Xv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Oc(r.mutation,i,rn.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=Vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Mc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ir(),s=Nc(),a=function(){return Nc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof qn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Oc(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Nc(),i=new ze((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=ZT();h.forEach(y=>{if(!o.has(y)){let m=tS(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Vi()),a=Pc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:KT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Mc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,y){return new $i(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,In.newInvalidDocument(h)))});let a=Mc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Oc(h.mutation,l,rn.empty(),ht.now()),sf(t,l)&&(a=a.insert(u,l))}),a})}};var e0=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return P.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:b5(i.bundledQuery),readTime:$n(i.readTime)}}(t)),P.resolve()}};var t0=class{constructor(){this.overlays=new ze(X.comparator),this.Rr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Vi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Vi(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Vi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Vi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Fv(t,r));let o=this.Rr.get(t);o===void 0&&(o=_e(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var n0=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Bc=class{constructor(){this.Vr=new ct(Ye.mr),this.gr=new ct(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Ye(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ye(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new X(new je([])),r=new Ye(t,e),i=new Ye(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new X(new je([])),r=new Ye(t,e),i=new Ye(t,e+1),o=_e();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return X.comparator(e.key,t.key)||he(e.Cr,t.Cr)}static pr(e,t){return he(e.Cr,t.Cr)||X.comparator(e.key,t.key)}};var r0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ct(Ye.mr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?K0:this.Fr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ye(t,0),i=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(he);return t.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),P.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new X(o),0),a=new ct(he);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Cr)),!0)},s),P.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){be(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return P.forEach(t.mutations,i=>{let o=new Ye(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Ye(t,0),i=this.Mr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var i0=class{constructor(e){this.kr=e,this.docs=function(){return new ze(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():In.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ir(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||T3(A3(h),r)<=0||(i.has(h.key)||sf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){te()}qr(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new o0(this)}getSize(e){return P.resolve(this.size)}},o0=class extends Yv{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var s0=class{constructor(e){this.persistence=e,this.Qr=new Er(t=>X0(t),e_),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Bc,this.targetCount=0,this.Kr=Uc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),P.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.zn(t),P.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Ur.containsKey(t))}};var Ph=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new W0(0),this.zr=!1,this.zr=!0,this.jr=new n0,this.referenceDelegate=e(this),this.Hr=new s0(this),this.indexManager=new zv,this.remoteDocumentCache=function(i){return new i0(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new qv(t),this.Yr=new e0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new r0(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new a0(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return P.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},a0=class extends mv{constructor(e){super(),this.currentSequenceNumber=e}},c0=class n{constructor(e){this.persistence=e,this.ti=new Bc,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),P.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.ii,r=>{let i=X.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return P.or([()=>P.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},kh=class n{constructor(e,t){this.persistence=e,this.oi=new Er(r=>x3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=T5(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return P.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),P.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}ar(e,t,r){return P.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var u0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var l0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d0=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NE()?8:M3(xE())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new l0;return this._s(e,t,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,t,s,a.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Es()<=Cn.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Is(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),P.resolve()):(Es()<=Cn.DEBUG&&z("QueryEngine","Query:",Is(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Es()<=Cn.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Is(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(t))):P.resolve())}rs(e,t){if(jA(t))return P.resolve(null);let r=Hn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xv(t,null,"F"),r=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,a);return this.ls(t,l,s,u.readTime)?this.rs(e,xv(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return jA(t)||i.isEqual(se.min())?P.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?P.resolve(null):(Es()<=Cn.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(t)),this.hs(e,s,t,b3(i,Pc)).next(a=>a))})}cs(e,t){let r=new ct(zT(e));return t.forEach((i,o)=>{sf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Es()<=Cn.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Is(t)),this.ns.getDocumentsMatchingQuery(e,t,Hi.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var i_="LocalStore",S5=3e8,h0=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new ze(he),this.Is=new Er(o=>X0(o),e_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function M5(n,e,t,r){return new h0(n,e,t,r)}function hS(n,e){return j(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function R5(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=P.resolve();return y.forEach(D=>{m=m.next(()=>h.getEntry(u,D)).next(T=>{let M=l.docVersions.get(D);be(M!==null),T.version.compareTo(M)<0&&(p.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),h.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function fS(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function x5(n,e){let t=oe(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Hr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(T,M,F){return T.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=S5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(y,m,h)&&a.push(t.Hr.updateTargetData(o,m))});let u=Ir(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(N5(o,s,e.documentUpdates).next(h=>{u=h.Vs,l=h.fs})),!r.isEqual(se.min())){let h=t.Hr.getLastRemoteSnapshotVersion(o).next(p=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function N5(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ir();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(i_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function O5(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=K0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P5(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function f0(n,e,t){return j(this,null,function*(){let r=oe(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!$s(s))throw s;z(i_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function JA(n,e,t){let r=oe(n),i=se.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=oe(u),y=p.Is.get(h);return y!==void 0?P.resolve(p.Ts.get(y)):p.Hr.getTargetData(l,h)}(r,s,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:_e())).next(a=>(k5(r,K3(e),a),{documents:a,gs:o})))}function k5(n,e,t){let r=n.Es.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var Fh=class{constructor(){this.activeTargetIds=e5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p0=class{constructor(){this.ho=new Fh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var g0=class{To(e){}shutdown(){}};var XA="ConnectivityMonitor",Lh=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){z(XA,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){z(XA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function m0(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}var ov="RestConnection",F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},y0=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=m0(),a=this.bo(e,t.toUriEncodedString());z(ov,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(l=>(z(ov,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Ts(ov,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=F5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var v0=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var wt="WebChannelConnection",_0=class extends y0{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=m0();return new Promise((s,a)=>{let u=new Xy;u.setWithCredentials(!0),u.listenOnce(ev.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sc.NO_ERROR:let h=u.getResponseJson();z(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Sc.TIMEOUT:z(wt,`RPC '${e}' ${o} timed out`),a(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:let p=u.getStatus();if(z(wt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let D=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(m.status);a(new W(D,m.message))}else a(new W(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(O.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{z(wt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(wt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=m0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rv(),a=nv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,D=new v0({Fo:M=>{m?z(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(z(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),z(wt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Mo:()=>p.close()}),T=(M,F,Z)=>{M.listen(F,B=>{try{Z(B)}catch(ve){setTimeout(()=>{throw ve},0)}})};return T(p,_s.EventType.OPEN,()=>{m||(z(wt,`RPC '${e}' stream ${i} transport opened.`),D.Qo())}),T(p,_s.EventType.CLOSE,()=>{m||(m=!0,z(wt,`RPC '${e}' stream ${i} transport closed`),D.Uo())}),T(p,_s.EventType.ERROR,M=>{m||(m=!0,Ts(wt,`RPC '${e}' stream ${i} transport errored:`,M),D.Uo(new W(O.UNAVAILABLE,"The operation could not be completed")))}),T(p,_s.EventType.MESSAGE,M=>{var F;if(!m){let Z=M.data[0];be(!!Z);let B=Z,ve=B?.error||((F=B[0])===null||F===void 0?void 0:F.error);if(ve){z(wt,`RPC '${e}' stream ${i} received error:`,ve);let Ue=ve.status,Te=function(E){let I=Qe[E];if(I!==void 0)return rS(I)}(Ue),C=ve.message;Te===void 0&&(Te=O.INTERNAL,C="Unknown error status: "+Ue+" with message "+ve.message),m=!0,D.Uo(new W(Te,C)),p.close()}else z(wt,`RPC '${e}' stream ${i} received:`,Z),D.Ko(Z)}}),T(a,tv.STAT_EVENT,M=>{M.stat===dh.PROXY?z(wt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===dh.NOPROXY&&z(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}};function sv(){return typeof document<"u"?document:null}function af(n){return new Uv(n,!0)}var Vh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var eT="PersistentStream",jh=class{constructor(e,t,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Vh(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return j(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return j(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return j(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>j(this,null,function*(){this.state=0,this.start()}))}m_(e){return z(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(z(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},E0=class extends jh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=p5(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?$n(s.readTime):se.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=Gv(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Mv(u)?{documents:y5(o,u)}:{query:v5(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iS(o,s.resumeToken);let l=Bv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Nh(o,s.snapshotVersion.toTimestamp());let l=Bv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=E5(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=Gv(this.serializer),t.removeTarget=e,this.I_(t)}},I0=class extends jh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=m5(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=Gv(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>g5(this.serializer,r))};this.I_(t)}};var w0=class{},C0=class extends w0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Hv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Hv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(O.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},D0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yr(t),this.N_=!1):z("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var Wi="RemoteStore",b0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>j(this,null,function*(){Zi(this)&&(z(Wi,"Restarting streams for network reachability change."),yield function(u){return j(this,null,function*(){let l=oe(u);l.W_.add(4),yield Kc(l),l.j_.set("Unknown"),l.W_.delete(4),yield cf(l)})}(this))}))}),this.j_=new D0(r,i)}};function cf(n){return j(this,null,function*(){if(Zi(n))for(let e of n.G_)yield e(!0)})}function Kc(n){return j(this,null,function*(){for(let e of n.G_)yield e(!1)})}function pS(n,e){let t=oe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),c_(t)?a_(t):Gs(t).c_()&&s_(t,e))}function o_(n,e){let t=oe(n),r=Gs(t);t.K_.delete(e),r.c_()&&gS(t,e),t.K_.size===0&&(r.c_()?r.P_():Zi(t)&&t.j_.set("Unknown"))}function s_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gs(n).y_(e)}function gS(n,e){n.H_.Ne(e),Gs(n).w_(e)}function a_(n){n.H_=new jv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Gs(n).start(),n.j_.B_()}function c_(n){return Zi(n)&&!Gs(n).u_()&&n.K_.size>0}function Zi(n){return oe(n).W_.size===0}function mS(n){n.H_=void 0}function L5(n){return j(this,null,function*(){n.j_.set("Online")})}function V5(n){return j(this,null,function*(){n.K_.forEach((e,t)=>{s_(n,e)})})}function j5(n,e){return j(this,null,function*(){mS(n),c_(n)?(n.j_.q_(e),a_(n)):n.j_.set("Unknown")})}function U5(n,e,t){return j(this,null,function*(){if(n.j_.set("Online"),e instanceof Rh&&e.state===2&&e.cause)try{yield function(i,o){return j(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.K_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){z(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uh(n,r)}else if(e instanceof bs?n.H_.We(e):e instanceof Mh?n.H_.Ze(e):n.H_.je(e),!t.isEqual(se.min()))try{let r=yield fS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.H_.ot(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.K_.get(l);h&&o.K_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.K_.get(u);if(!h)return;o.K_.set(u,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),gS(o,u);let p=new jc(h.target,u,l,h.sequenceNumber);s_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z(Wi,"Failed to raise snapshot:",r),yield Uh(n,r)}})}function Uh(n,e,t){return j(this,null,function*(){if(!$s(e))throw e;n.W_.add(1),yield Kc(n),n.j_.set("Offline"),t||(t=()=>fS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>j(this,null,function*(){z(Wi,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield cf(n)}))})}function yS(n,e){return e().catch(t=>Uh(n,t,e))}function uf(n){return j(this,null,function*(){let e=oe(n),t=Jr(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:K0;for(;B5(e);)try{let i=yield O5(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,H5(e,i)}catch(i){yield Uh(e,i)}vS(e)&&_S(e)})}function B5(n){return Zi(n)&&n.U_.length<10}function H5(n,e){n.U_.push(e);let t=Jr(n);t.c_()&&t.S_&&t.b_(e.mutations)}function vS(n){return Zi(n)&&!Jr(n).u_()&&n.U_.length>0}function _S(n){Jr(n).start()}function $5(n){return j(this,null,function*(){Jr(n).C_()})}function G5(n){return j(this,null,function*(){let e=Jr(n);for(let t of n.U_)e.b_(t.mutations)})}function q5(n,e,t){return j(this,null,function*(){let r=n.U_.shift(),i=kv.from(r,e,t);yield yS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uf(n)})}function z5(n,e){return j(this,null,function*(){e&&Jr(n).S_&&(yield function(r,i){return j(this,null,function*(){if(function(s){return a5(s)&&s!==O.ABORTED}(i.code)){let o=r.U_.shift();Jr(r).h_(),yield yS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uf(r)}})}(n,e)),vS(n)&&_S(n)})}function tT(n,e){return j(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),z(Wi,"RemoteStore received new credentials");let r=Zi(t);t.W_.add(3),yield Kc(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield cf(t)})}function W5(n,e){return j(this,null,function*(){let t=oe(n);e?(t.W_.delete(2),yield cf(t)):e||(t.W_.add(2),yield Kc(t),t.j_.set("Unknown"))})}function Gs(n){return n.J_||(n.J_=function(t,r,i){let o=oe(t);return o.M_(),new E0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:L5.bind(null,n),No:V5.bind(null,n),Lo:j5.bind(null,n),p_:U5.bind(null,n)}),n.G_.push(e=>j(this,null,function*(){e?(n.J_.h_(),c_(n)?a_(n):n.j_.set("Unknown")):(yield n.J_.stop(),mS(n))}))),n.J_}function Jr(n){return n.Y_||(n.Y_=function(t,r,i){let o=oe(t);return o.M_(),new I0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:$5.bind(null,n),Lo:z5.bind(null,n),D_:G5.bind(null,n),v_:q5.bind(null,n)}),n.G_.push(e=>j(this,null,function*(){e?(n.Y_.h_(),yield uf(n)):(yield n.Y_.stop(),n.U_.length>0&&(z(Wi,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))}))),n.Y_}var A0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function u_(n,e){if(yr("AsyncQueue",`${e}: ${n}`),$s(n))return new W(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Bh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Mc(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Hh=class{constructor(){this.Z_=new ze(X.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):te():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Vs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Bh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var T0=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},S0=class{constructor(){this.queries=nT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=oe(t),o=i.queries;i.queries=nT(),o.forEach((s,a)=>{for(let u of a.ta)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}};function nT(){return new Er(n=>qT(n),of)}function ES(n,e){return j(this,null,function*(){let t=oe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new T0,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=u_(s,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&l_(t)})}function IS(n,e){return j(this,null,function*(){let t=oe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function K5(n,e){let t=oe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&l_(t)}function Z5(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function l_(n){n.ia.forEach(e=>{e.next()})}var M0,rT;(rT=M0||(M0={}))._a="default",rT.Cache="cache";var $h=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==M0.Cache}};var Gh=class{constructor(e){this.key=e}},qh=class{constructor(e){this.key=e}},R0=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_e(),this.mutatedKeys=_e(),this.ya=zT(e),this.wa=new Bh(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new Hh,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=sf(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),M=!1;y&&m?y.data.isEqual(m.data)?D!==T&&(r.track({type:3,doc:m}),M=!0):this.va(y,m)||(r.track({type:2,doc:m}),M=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),M=!0):y&&!m&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(a=!0)),M&&(m?(s=s.add(m),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((h,p)=>function(m,D){let T=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return T(m)-T(D)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new Vs(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Hh,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=_e(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new qh(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Gh(r))}),t}Oa(e){this.fa=e.gs,this.pa=_e();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},d_="SyncEngine",x0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},N0=class{constructor(e){this.key=e,this.Ba=!1}},O0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Er(a=>qT(a),of),this.qa=new Map,this.Qa=new Set,this.$a=new ze(X.comparator),this.Ua=new Map,this.Ka=new Bc,this.Wa={},this.Ga=new Map,this.za=Uc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function Q5(n,e,t=!0){return j(this,null,function*(){let r=TS(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield wS(r,e,t,!0),i})}function Y5(n,e){return j(this,null,function*(){let t=TS(n);yield wS(t,e,!0,!1)})}function wS(n,e,t,r){return j(this,null,function*(){let i=yield P5(n.localStore,Hn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield J5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&pS(n.remoteStore,i),a})}function J5(n,e,t,r,i){return j(this,null,function*(){n.Ha=(p,y,m)=>function(T,M,F,Z){return j(this,null,function*(){let B=M.view.ba(F);B.ls&&(B=yield JA(T.localStore,M.query,!1).then(({documents:C})=>M.view.ba(C,B)));let ve=Z&&Z.targetChanges.get(M.targetId),Ue=Z&&Z.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(B,T.isPrimaryClient,ve,Ue);return oT(T,M.targetId,Te.Ma),Te.snapshot})}(n,p,y,m);let o=yield JA(n.localStore,e,!0),s=new R0(e,o.gs),a=s.ba(o.documents),u=Vc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);oT(n,t,l.Ma);let h=new x0(e,t,s);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function X5(n,e,t){return j(this,null,function*(){let r=oe(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!of(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield f0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&o_(r.remoteStore,i.targetId),P0(r,i.targetId)}).catch(Hs))):(P0(r,i.targetId),yield f0(r.localStore,i.targetId,!0))})}function e8(n,e){return j(this,null,function*(){let t=oe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),o_(t.remoteStore,r.targetId))})}function t8(n,e,t){return j(this,null,function*(){let r=c8(n);try{let i=yield function(s,a){let u=oe(s),l=ht.now(),h=a.reduce((m,D)=>m.add(D.key),_e()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=Ir(),T=_e();return u.ds.getEntries(m,h).next(M=>{D=M,D.forEach((F,Z)=>{Z.isValidDocument()||(T=T.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,D)).next(M=>{p=M;let F=[];for(let Z of a){let B=s5(Z,p.get(Z.key).overlayedDocument);B!=null&&F.push(new qn(Z.key,B,VT(B.value.mapValue),Zr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,F,a)}).next(M=>{y=M;let F=M.applyToLocalDocumentSet(p,T);return u.documentOverlayCache.saveOverlays(m,M.batchId,F)})}).then(()=>({batchId:y.batchId,changes:KT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Wa[s.currentUser.toKey()];l||(l=new ze(he)),l=l.insert(a,u),s.Wa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Zc(r,i.changes),yield uf(r.remoteStore)}catch(i){let o=u_(i,"Failed to persist write");t.reject(o)}})}function CS(n,e){return j(this,null,function*(){let t=oe(n);try{let r=yield x5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?be(s.Ba):i.removedDocuments.size>0&&(be(s.Ba),s.Ba=!1))}),yield Zc(t,r,e)}catch(r){yield Hs(r)}})}function iT(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.ta)y.sa(a)&&(l=!0)}),l&&l_(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function n8(n,e,t){return j(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new ze(X.comparator);s=s.insert(o,In.newNoDocument(o,se.min()));let a=_e().add(o),u=new Sh(se.min(),new Map,new ze(he),s,a);yield CS(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),h_(r)}else yield f0(r.localStore,e,!1).then(()=>P0(r,e,t)).catch(Hs)})}function r8(n,e){return j(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield R5(t.localStore,e);bS(t,r,null),DS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zc(t,i)}catch(i){yield Hs(i)}})}function i8(n,e,t){return j(this,null,function*(){let r=oe(n);try{let i=yield function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);bS(r,e,t),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(r,i)}catch(i){yield Hs(i)}})}function DS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function bS(n,e,t){let r=oe(n),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function P0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||AS(n,r)})}function AS(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(o_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),h_(n))}function oT(n,e,t){for(let r of t)r instanceof Gh?(n.Ka.addReference(r.key,e),o8(n,r)):r instanceof qh?(z(d_,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||AS(n,r.key)):te()}function o8(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(z(d_,"New document in limbo: "+t),n.Qa.add(r),h_(n))}function h_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new X(je.fromString(e)),r=n.za.next();n.Ua.set(r,new N0(t)),n.$a=n.$a.insert(t,r),pS(n.remoteStore,new jc(Hn(t_(t.path)),r,"TargetPurposeLimboResolution",W0.ae))}}function Zc(n,e,t){return j(this,null,function*(){let r=oe(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=u0.Yi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return j(this,null,function*(){let h=oe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.Hi,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>P.forEach(y.Ji,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!$s(p))throw p;z(i_,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ts.get(y),D=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(D);h.Ts=h.Ts.insert(y,T)}}})}(r.localStore,o))})}function s8(n,e){return j(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){z(d_,"User change. New user:",e.toKey());let r=yield hS(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zc(t,r.Rs)}})}function a8(n,e){let t=oe(n),r=t.Ua.get(e);if(r&&r.Ba)return _e().add(r.key);{let i=_e(),o=t.qa.get(e);if(!o)return i;for(let s of o){let a=t.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function TS(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n8.bind(null,e),e.La.p_=K5.bind(null,e.eventManager),e.La.Ja=Z5.bind(null,e.eventManager),e}function c8(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}var SS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return j(this,null,function*(){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return M5(this.persistence,new d0,t.initialUser,this.serializer)}Xa(t){return new Ph(c0.ri,this.serializer)}Za(t){return new p0}terminate(){return j(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),k0=class extends SS{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){be(this.persistence.referenceDelegate instanceof kh);let r=this.persistence.referenceDelegate.garbageCollector;return new Zv(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ph(r=>kh.ri(r,t),this.serializer)}};var u8=(()=>{class n{initialize(t,r){return j(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),yield W5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new S0}()}createDatastore(t){let r=af(t.databaseInfo.databaseId),i=function(s){return new _0(s)}(t.databaseInfo);return function(s,a,u,l){return new C0(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new b0(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>iT(this.syncEngine,r,0),function(){return Lh.D()?new Lh:new g0}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new O0(o,s,a,u,l,h);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return j(this,null,function*(){var t,r;yield function(o){return j(this,null,function*(){let s=oe(o);z(Wi,"RemoteStore shutting down."),s.W_.add(5),yield Kc(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var zh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Xr="FirestoreClient",F0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=Eh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>j(this,null,function*(){z(Xr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(Xr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>j(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=u_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function av(n,e){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(Xr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>j(this,null,function*(){r.isEqual(i)||(yield hS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function sT(n,e){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield l8(n);z(Xr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tT(e.remoteStore,i)),n._onlineComponents=e})}function l8(n){return j(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(Xr,"Using user provided OfflineComponentProvider");try{yield av(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),yield av(n,new SS)}}else z(Xr,"Using default OfflineComponentProvider"),yield av(n,new k0(void 0));return n._offlineComponents})}function MS(n){return j(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(Xr,"Using user provided OnlineComponentProvider"),yield sT(n,n._uninitializedComponentsProvider._online)):(z(Xr,"Using default OnlineComponentProvider"),yield sT(n,new u8))),n._onlineComponents})}function d8(n){return MS(n).then(e=>e.syncEngine)}function L0(n){return j(this,null,function*(){let e=yield MS(n),t=e.eventManager;return t.onListen=Q5.bind(null,e.syncEngine),t.onUnlisten=X5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e8.bind(null,e.syncEngine),t})}function h8(n,e,t={}){let r=new Un;return n.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return function(o,s,a,u,l){let h=new zh({next:y=>{h.su(),s.enqueueAndForget(()=>IS(o,p)),y.fromCache&&u.source==="server"?l.reject(new W(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new $h(a,h,{includeMetadataChanges:!0,Ta:!0});return ES(o,p)}(yield L0(n),n.asyncQueue,e,t,r)})),r.promise}function RS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var aT=new Map;function xS(n,e,t){if(!t)throw new W(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f8(n,e,t,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cT(n){if(!X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uT(n){if(X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=lf(n);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var NS="firestore.googleapis.com",lT=!0,Wh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A5)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},js=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cv;switch(r.type){case"firstParty":return new hv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return j(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=aT.get(t);r&&(z("ComponentProvider","Removing Datastore"),aT.delete(t),r.terminate())}(this),Promise.resolve()}};function OS(n,e,t,r={}){var i;let o=(n=mr(n,js))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==NS&&o.host!==a&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!kE(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=at.MOCK_USER;else{l=RE(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new at(p)}n._authCredentials=new uv(new vh(l,h))}}var Ki=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Lt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Qr=class n extends Ki{constructor(e,t,r){super(e,t,t_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function PS(n,e,...t){if(n=qt(n),xS("collection","path",e),n instanceof js){let r=je.fromString(e,...t);return uT(r),new Qr(n,null,r)}{if(!(n instanceof Lt||n instanceof Qr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return uT(r),new Qr(n.firestore,null,r)}}function f_(n,e,...t){if(n=qt(n),arguments.length===1&&(e=Eh.newId()),xS("doc","path",e),n instanceof js){let r=je.fromString(e,...t);return cT(r),new Lt(n,null,new X(r))}{if(!(n instanceof Lt||n instanceof Qr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return cT(r),new Lt(n.firestore,n instanceof Qr?n.converter:null,new X(r))}}var dT="AsyncQueue",Kh=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Vh(this,"async_queue_retry"),this.Su=()=>{let r=sv();r&&z(dT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=sv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=sv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Un;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return j(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$s(e))throw e;z(dT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=A0.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&te()}verifyOperationInProgress(){}Mu(){return j(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function hT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ei=class extends js{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return j(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Kh(e),this._firestoreClient=void 0,yield e}})}};function kS(n,e){let t=typeof n=="object"?n:ha(),r=typeof n=="string"?n:e||Dh,i=Hf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ME("firestore");o&&OS(i,...o)}return i}function p_(n){if(n._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p8(n),n._firestoreClient}function p8(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new yv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new F0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Hc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ct.fromBase64String(e))}catch(t){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Us=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $c=class{constructor(e){this._methodName=e}};var Gc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var qc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var g8=/^__.*__$/,V0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new zi(e,this.data,t,this.fieldTransforms)}},Zh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function FS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var j0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FS(this.Lu)&&g8.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},U0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||af(e)}ju(e,t,r,i=!1){return new j0({Lu:e,methodName:t,zu:r,path:Gt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function g_(n){let e=n._freezeSettings(),t=af(n._databaseId);return new U0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m8(n,e,t,r,i,o={}){let s=n.ju(o.merge||o.mergeFields?2:0,e,t,i);m_("Data must be an object, but it was:",s,r);let a=LS(r,s),u,l;if(o.merge)u=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=B0(e,p,t);if(!s.contains(y))throw new W(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);jS(h,y)||h.push(y)}u=new rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new V0(new $t(a),u,l)}var Qh=class n extends $c{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function y8(n,e,t,r){let i=n.ju(1,e,t);m_("Data must be an object, but it was:",i,r);let o=[],s=$t.empty();ti(r,(u,l)=>{let h=y_(e,u,t);l=qt(l);let p=i.Uu(h);if(l instanceof Qh)o.push(h);else{let y=Qc(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new rn(o);return new Zh(s,a,i.fieldTransforms)}function v8(n,e,t,r,i,o){let s=n.ju(1,e,t),a=[B0(e,r,t)],u=[i];if(o.length%2!=0)throw new W(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(B0(e,o[y])),u.push(o[y+1]);let l=[],h=$t.empty();for(let y=a.length-1;y>=0;--y)if(!jS(l,a[y])){let m=a[y],D=u[y];D=qt(D);let T=s.Uu(m);if(D instanceof Qh)l.push(m);else{let M=Qc(D,T);M!=null&&(l.push(m),h.set(m,M))}}let p=new rn(l);return new Zh(h,p,s.fieldTransforms)}function _8(n,e,t,r=!1){return Qc(t,n.ju(r?4:3,e))}function Qc(n,e){if(VS(n=qt(n)))return m_("Unsupported field value:",e,n),LS(n,e);if(n instanceof $c)return function(r,i){if(!FS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Qc(a,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:Nh(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,o)}}if(r instanceof Gc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:iS(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qc)return function(s,a){return{mapValue:{fields:{[Q0]:{stringValue:Y0},[Ms]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return n_(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${lf(r)}`)}(n,e)}function LS(n,e){let t={};return RT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(n,(r,i)=>{let o=Qc(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function VS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Gc||n instanceof Hc||n instanceof Lt||n instanceof $c||n instanceof qc)}function m_(n,e,t){if(!VS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=lf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function B0(n,e,t){if((e=qt(e))instanceof Us)return e._internalPath;if(typeof e=="string")return y_(n,e);throw Yh("Field path arguments must be of type string or ",n,!1,void 0,t)}var E8=new RegExp("[~\\*/\\[\\]]");function y_(n,e,t){if(e.search(E8)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Us(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(O.INVALID_ARGUMENT,a+n+u)}function jS(n,e){return n.some(t=>t.isEqual(e))}var Jh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new H0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(v_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},H0=class extends Jh{data(){return super.data()}};function v_(n,e){return typeof e=="string"?y_(n,e):e instanceof Us?e._internalPath:e._delegate._internalPath}function US(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zc=class{},$0=class extends zc{};function BS(n,e,...t){let r=[];e instanceof zc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof G0).length,a=o.filter(u=>u instanceof Xh).length;if(s>1||s>0&&a>0)throw new W(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Xh=class n extends $0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return $S(e._query,t),new Ki(e.firestore,e.converter,Rv(e._query,t))}_parse(e){let t=g_(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){pT(p,h);let D=[];for(let T of p)D.push(fT(u,o,T));y={arrayValue:{values:D}}}else y=fT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||pT(p,h),y=_8(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function HS(n,e,t){let r=e,i=v_("where",n);return Xh._create(i,r,t)}var G0=class n extends zc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:wn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)$S(s,u),s=Rv(s,u)}(e._query,t),new Ki(e.firestore,e.converter,Rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function fT(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new W(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(e)&&t.indexOf("/")!==-1)throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(je.fromString(t));if(!X.isDocumentKey(r))throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OA(n,new X(r))}if(t instanceof Lt)return OA(n,t._key);throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function pT(n,e){if(!Array.isArray(n)||n.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $S(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var q0=class{convertValue(e,t="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ti(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ms].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Fe(s.doubleValue));return new qc(o)}convertGeoPoint(e){return new Gc(Fe(e.latitude),Fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){let t=vr(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);be(lS(r));let i=new bh(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function I8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ui=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ef=class extends Jh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new As(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(v_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},As=class extends ef{data(e={}){return super.data(e)}},tf=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ui(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new As(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new As(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new As(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:w8(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function w8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var Wc=class extends q0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}};function GS(n){n=mr(n,Ki);let e=mr(n.firestore,ei),t=p_(e),r=new Wc(e);return US(n._query),h8(t,n._query).then(i=>new tf(e,r,n,i))}function qS(n,e,t,...r){n=mr(n,Lt);let i=mr(n.firestore,ei),o=g_(i),s;return s=typeof(e=qt(e))=="string"||e instanceof Us?v8(o,"updateDoc",n._key,e,t,r):y8(o,"updateDoc",n._key,e),WS(i,[s.toMutation(n._key,Zr.exists(!0))])}function zS(n,e){let t=mr(n.firestore,ei),r=f_(n),i=I8(n.converter,e);return WS(t,[m8(g_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function __(n,...e){var t,r,i;n=qt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hT(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Lt)l=mr(n.firestore,ei),h=t_(n._key.path),u={next:p=>{e[s]&&e[s](C8(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=mr(n,Ki);l=mr(p.firestore,ei),h=p._query;let y=new Wc(l);u={next:m=>{e[s]&&e[s](new tf(l,y,p,m))},error:e[s+1],complete:e[s+2]},US(n._query)}return function(y,m,D,T){let M=new zh(T),F=new $h(m,M,D);return y.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return ES(yield L0(y),F)})),()=>{M.su(),y.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return IS(yield L0(y),F)}))}}(p_(l),h,a,u)}function WS(n,e){return function(r,i){let o=new Un;return r.asyncQueue.enqueueAndForget(()=>j(this,null,function*(){return t8(yield d8(r),i,o)})),o.promise}(p_(n),e)}function C8(n,e,t){let r=t.docs.get(e._key),i=new Wc(n);return new ef(n,i,e._key,r,new Ui(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Bs=i})(LE),da(new la("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ei(new lv(r.getProvider("auth-internal")),new fv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yt(CA,DA,e),yt(CA,DA,"esm2017")})();var df=function(){return df=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},df.apply(this,arguments)};var A8={includeMetadataChanges:!1};function KS(n,e){return e===void 0&&(e=A8),new re(function(t){var r=__(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:df(df({},r),(t={},t[e.idField]=n.id,t))}function QS(n){return KS(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function YS(n,e){return e===void 0&&(e={}),QS(n).pipe(J(function(t){return t.map(function(r){return ZS(r,e)})}))}var Qi=class{constructor(e){return e}},JS="firestore",E_=class{constructor(){return as(JS)}};var I_=new U("angularfire2.firestore-instances");function T8(n,e){let t=yc(JS,n,e);return t&&new Qi(t)}function S8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qi(r)}}var M8={provide:E_,deps:[[new _t,I_]]},R8={provide:Qi,useFactory:T8,deps:[[new _t,I_],hr]};function XS(n,...e){return yt("angularfire",Vn.full,"fst"),Zt([R8,M8,{provide:I_,useFactory:S8(n),multi:!0,deps:[Ee,Le,jn,ki,[new _t,Ec],[new _t,zr],...e]}])}var eM=Ve(YS,!0);var tM=Ve(zS,!0,2);var Yc=Ve(PS,!0,2);var nM=Ve(f_,!0,2);var rM=Ve(GS,!0);var iM=Ve(kS,!0);var oM=Ve(BS,!0,2);var sM=Ve(qS,!0,2);var w_=Ve(HS,!0,2);var hf=class n{constructor(e){this.http=e}fireStore=x(Qi);subjectCollection=Yc(this.fireStore,"Subjects");mangoColection=Yc(this.fireStore,"mango");kiwiColection=Yc(this.fireStore,"kiwi");getSubjects(e){return eM(this.kiwiColection)}getByDiscipline(e,t){let r=oM(Yc(this.fireStore,"kiwi"),w_("speciality","==",e),w_("professor","==",t)),i=[];return rM(r).then(o=>{o.forEach(s=>i.push(ae(L({},s.data()),{id:s.id})))}),Q(i)}addSubject(e){return le(tM(this.kiwiColection,e).then(t=>t.id))}updateSubject(e){let t=nM(this.fireStore,"kiwi",e.id),r=sM(t,e).then(i=>(console.log("Document Updated Successfully :  "),i)).catch(i=>{console.log("Error ",i)});return le(r)}static \u0275fac=function(t){return new(t||n)(H(Vm))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var aM=n=>({input_error:n}),x8=n=>({reserved:n}),N8=n=>({color:n});function O8(n,e){if(n&1&&(N(0,"option",26),k(1),R()),n&2){let t=e.$implicit;Y("value",t),G(),Ti(t)}}function P8(n,e){n&1&&(N(0,"div",27),k(1," Discipline Obligatoire. "),R())}function k8(n,e){if(n&1&&(N(0,"option",26),k(1),R()),n&2){let t=e.$implicit;Y("value",t.name),G(),Ti(t.name)}}function F8(n,e){n&1&&(N(0,"div",27),k(1," Professeur Obligatoire. "),R())}function L8(n,e){n&1&&(N(0,"div",27)(1,"span",28),k(2," Obligatoire."),R()())}function V8(n,e){n&1&&(N(0,"th"),k(1,"Action"),R())}function j8(n,e){if(n&1){let t=Ai();N(0,"td")(1,"button",31),Re("click",function(){gn(t);let i=Ge().$implicit,o=Ge(2);return mn(o.show_subject_modal(i))}),k(2," Modifier"),R()()}}function U8(n,e){if(n&1&&(N(0,"tr",23)(1,"td"),k(2),R(),N(3,"td"),k(4),R(),N(5,"td"),k(6),R(),N(7,"td",30),k(8),R(),me(9,j8,3,0,"td"),R()),n&2){let t=e.$implicit,r=Ge(2);Y("ngClass",xt(7,x8,t.statut!="Ouvert")),G(2),Ti(t.subject),G(2),Ti(t.professor),G(2),Ti(t.service),G(),Y("ngStyle",xt(9,N8,t.statut=="Ouvert"?"#25b125":"#F44336")),G(),Rt(" ",t.statut,""),G(),Xt(r.isAdmin?9:-1)}}function B8(n,e){if(n&1&&me(0,U8,10,11,"tr",29),n&2){let t=Ge();Y("ngForOf",t.dataList())}}function H8(n,e){n&1&&(N(0,"td",24)(1,"main",32),ee(2,"span",33),R()())}function $8(n,e){n&1&&(N(0,"tr")(1,"td",24),k(2,"Aucun sujet trouv\xE9"),R()())}function G8(n,e){n&1&&Im(0)}function q8(n,e){if(n&1){let t=Ai();N(0,"div",34),Re("click",function(i){gn(t);let o=Ge();return mn(o.hide_subject_modal(i))}),N(1,"div",35)(2,"div",36)(3,"div",37)(4,"span",38),Re("click",function(i){gn(t);let o=Ge();return mn(o.hide_subject_modal(i))}),k(5,"X"),R(),N(6,"h2"),k(7),R()(),ee(8,"hr"),me(9,G8,1,0,"ng-container",39),R(),ee(10,"div",40),R()()}if(n&2){Ge();let t=TC(56);G(7),Rt(" ","Modifier le sujet"," "),G(2),Y("ngTemplateOutlet",t)}}function z8(n,e){n&1&&(N(0,"div",61),k(1," Le sujet est obligatoire. "),R())}function W8(n,e){n&1&&(N(0,"div",61),k(1," La sp\xE9cialit\xE9 est obligatoire. "),R())}function K8(n,e){n&1&&(N(0,"div",61),k(1," Le professeur est obligatoire. "),R())}function Z8(n,e){n&1&&(N(0,"div",61),k(1," Le service est obligatoire. "),R())}function Q8(n,e){n&1&&(N(0,"div",61),k(1," Le statut est obligatoire. "),R())}function Y8(n,e){if(n&1){let t=Ai();N(0,"form",41),Re("ngSubmit",function(){gn(t);let i=Ge();return mn(i.onUpdateSubject())}),N(1,"div",12)(2,"label",42),k(3,"Sujet *"),R(),ee(4,"textarea",43),me(5,z8,2,0,"div",44),R(),N(6,"div",12)(7,"label",45),k(8,"Sp\xE9cialit\xE9 *"),R(),ee(9,"input",46),me(10,W8,2,0,"div",44),R(),N(11,"div",12)(12,"label",18),k(13,"Professeur *"),R(),ee(14,"input",47),me(15,K8,2,0,"div",44),R(),N(16,"div",12)(17,"label",48),k(18,"Service *"),R(),ee(19,"input",49),me(20,Z8,2,0,"div",44),R(),N(21,"div",12)(22,"label",50),k(23,"Statut *"),R(),N(24,"select",51)(25,"option",52),k(26,"S\xE9lectionnez un statut"),R(),N(27,"option",53),k(28,"Ouvert"),R(),N(29,"option",54),k(30,"R\xE9serv\xE9"),R()(),me(31,Q8,2,0,"div",44),R(),N(32,"div",12)(33,"label",55),k(34,"Date de r\xE9servation"),R(),ee(35,"input",56),R(),N(36,"div",12)(37,"label",57),k(38,"Date de soutenance"),R(),ee(39,"input",58),R(),N(40,"button",59),Re("click",function(){gn(t);let i=Ge();return mn(i.onUpdateSubject())}),k(41,"Enregistrer"),R(),N(42,"button",60),Re("click",function(){gn(t);let i=Ge();return mn(i.onUpdateSubject())}),k(43,"Supprimer"),R()()}if(n&2){let t,r,i,o,s,a=Ge();Y("formGroup",a.subject_form),G(5),Y("ngIf",((t=a.subject_form.get("subject"))==null?null:t.invalid)&&((t=a.subject_form.get("subject"))==null?null:t.touched)),G(5),Y("ngIf",((r=a.subject_form.get("speciality"))==null?null:r.invalid)&&((r=a.subject_form.get("speciality"))==null?null:r.touched)),G(5),Y("ngIf",((i=a.subject_form.get("professor"))==null?null:i.invalid)&&((i=a.subject_form.get("professor"))==null?null:i.touched)),G(5),Y("ngIf",((o=a.subject_form.get("service"))==null?null:o.invalid)&&((o=a.subject_form.get("service"))==null?null:o.touched)),G(11),Y("ngIf",((s=a.subject_form.get("statut"))==null?null:s.invalid)&&((s=a.subject_form.get("statut"))==null?null:s.touched)),G(9),Y("disabled",a.subject_form.invalid)}}var ff=class n{constructor(e,t){this.fb=e;this.router=t;this.subject_form=this.fb.group({subject:["",qe.required],speciality:["",qe.required],professor:["",qe.required],service:["",qe.required],statut:["",qe.required],reservation_date:[""],soutenence_date:[""]})}temp_roles=["khalid.khiar@fmp.um5.ac.maa"];sharedService=x(Gr);doctoratService=x(hf);authService=x(tn);filter_form;dataList=Et([]);subject_form;list_prof_toShow=Et([]);isLoading=!1;ngOnInit(){this.sharedService.bypassItIfYouCan(),this.on_select_change(),this.check_user_role()}getData(){this.isLoading=!0,this.doctoratService.getByDiscipline(this.filter_form.get("discipline")?.value,this.filter_form.get("professor")?.value).subscribe({next:e=>{this.dataList.set(e),setTimeout(()=>{this.isLoading=!1},700)}})}onChooseSubject(){this.filter_form.valid&&this.getData()}onReserveSubject(e){console.log(" :926 item:",e);let t=new Date().toISOString().slice(0,10);this.doctoratService.updateSubject(e).subscribe({next:r=>{console.log(" :796 res:",r),r&&(this.dataList().find(i=>i.id==e.id).statut="R\xE9serv\xE9 le "+t)},error:r=>{}}),console.log(" :928 this.dataList():",this.dataList())}on_select_change(){this.specialityList=this.specialityList.sort(),this.filter_form=this.fb.group({discipline:["",qe.required],professor:["",qe.required]}),this.filter_form.get("professor")?.valueChanges.subscribe(e=>{this.dataList.set([])}),this.filter_form.get("discipline")?.valueChanges.pipe(mp(0)).subscribe(e=>{this.dataList.set([]),this.list_prof_toShow.set([]),e&&this.list_prof_toShow.set(this.list_professor_by_speciality.find(t=>t.speciality==e)?.professors.sort()),this.filter_form.valid&&this.getData()})}isAdmin=!1;check_user_role(){let e=this.authService.user$();this.temp_roles.includes(e.email)&&(this.isAdmin=!0)}show_hide_modal=!1;show_subject_modal(e){this.show_hide_modal=!0,document.body.style.overflow="hidden",document.scrollingElement?.scrollTo(0,0),this.subject_form.patchValue(e)}hide_subject_modal(e){(e=="inside"||e.target.classList.contains("back_overlay")|e.target.classList.contains("close_x"))&&(this.show_hide_modal=!1,document.body.style.overflow="auto")}onUpdateSubject(){let e=this.subject_form.value;this.hide_subject_modal("inside"),this.subject_form.reset(),this.getData()}onDeleteSubject(){let e=this.subject_form.value;this.hide_subject_modal("inside"),this.subject_form.reset(),this.getData()}addMango(){}specialityList=["RHUMATOLOGIE","PHARMACIE","TOXICOLOGIE","CARDIOLOGIE",`PHARMACIE BIOLOGISTE\r\r
(VIROLOGIE)`,"MICROBIOLOGIE ET BIOLOGIE MOLECULAIRE","MICROBIOLOGIE","P\xC9DIATRIE","CHIRURGIE THORACIQUE","CHIRURGIE GENERALE","CHIRURGIE PEDIATRIQUE","GASTRO-ENTEROLOGIE","MEDECINE INTERNE","HEMATOLOGIE BIOLOGIQUE","ANESTHESIE-REANIMATION","CHIRURGIE REPARATRICE ET PLASTIQUE","CHIRURGIE CARDIO-VASCULAIRE","GYNECOLOGIE- OBSTETRIQUE","DERMATOLOGIE","CHIRURGIE CARDIOVASCULAIRE",`CHIRURGIE MAXILLO-FACIALE\r
`,"UROLOGIE","NEURO-CHIRURGIE","REANIMATION MEDICALE","NEUROLOGIE","PNEUMO-PHTISIOLOGIE","MEDECINE NUCLEAIRE","CHIRURGIE VASCULAIRE PERIPHERIQUE","PHARMACOLOGIE","O.R.L","ANATOMIE","ANESTHESIE REANIMATION","RADIOTHERAPIE","PSYCHIATRIE","STOMATOLOGIE ET CHIRURGIE MAXILLO FACIALE","MEDECINE SOCIALE, SANTE PUBLIQUE ET HYGIENE","ANATOMIE PATHOLOGIQUE","NEPHROLOGIE","MEDECINE LEGALE","GENETIQUE","BIOCHIMIE","IMMUNOLOGIE"];list_professor_by_speciality=[{id:"b4f67559-db54-414f-8955-a64c8773ce53",speciality:"RHUMATOLOGIE",professors:[{name:"RKAIN HANANE",service:"LAB PHYSIOLOGIE"}]},{id:"9e3c0b88-c20b-48df-9e67-1f8ab8af36e4",speciality:"PHARMACIE",professors:[{name:"AHID SAMIR",service:"LAB PHARMACOLOGIE"}]},{id:"378d84ae-71b2-44fb-ac6b-b88bf89d5484",speciality:"TOXICOLOGIE",professors:[{name:"BOUSLIMAN YASSIR",service:"HMIMV"},{name:"EL JAOUDI RACHID",service:"HMIMV"}]},{id:"86b907c4-8533-4f90-afd8-e4e4059e722a",speciality:"CARDIOLOGIE",professors:[{name:"MOUINE NAJAT",service:"HMIMV"},{name:"LAKHAL ZOUHAIR",service:"HMIMV"},{name:"KHEYI JAMAL",service:"HMIMV"},{name:"BEN EL MAKKI  Abdelilah",service:"HMIMV "},{name:"DOGHMI NAOUFAL",service:"CARDIOLOGIE B"}]},{id:"b99b9099-0c3d-47fa-8547-19d689d73853",speciality:`PHARMACIE BIOLOGISTE\r\r
(VIROLOGIE)`,professors:[{name:"Pr. Reda ",service:"service"}]},{id:"9fcbb3e2-4eb1-4a55-bf0f-ed5829f73348",speciality:"MICROBIOLOGIE ET BIOLOGIE MOLECULAIRE",professors:[{name:"AANNIZ TARIK",service:"BIOTECHNOLOGIE"},{name:"OUADGHIRI MOUNA",service:"BIOTECHNOLOGIE"}]},{id:"fa005bc0-a770-468f-bd99-e1ece0c983d8",speciality:"MICROBIOLOGIE",professors:[{name:"KABBAJ HAKIMA",service:"EXPLORATIONS FONCTIONNELLES DIGESTIVES"},{name:"SEKHSOKH YASSINE",service:"HMIMV"}]},{id:"8aea5f77-aec2-4742-ad44-41a3c96a99ac",speciality:"P\xC9DIATRIE",professors:[{name:"LAMYA KARBOUBI",service:"URGENCES M\xC9DICALES P\xC9DIATRIQUES"},{name:"AMINA BARAKAT",service:"N\xC9ONATOLOGIE"},{name:"CHKIRATE BOUCHRA ",service:"P\xC9DIATRIE IV"},{name:"MAHRAOUI CHAFIK",service:"P\xC9DIATRIE I"},{name:"EL KHORASSANI MOHAMED",service:"P\xC9DIATRIE II"},{name:"ETTAIR SAID",service:"P\xC9DIATRIE III"},{name:"MESKINI TOUFIK",service:"P\xC9DIATRIE III"},{name:"HESSISSEN LAILA",service:"P\xC9DIATRIE II"},{name:"THIMOU AMAL",service:"P\xC9DIATRIE I"}]},{id:"35d7efe8-29e4-46e0-9dce-571e83d96e8a",speciality:"CHIRURGIE THORACIQUE",professors:[{name:"KABIRI EL HASSAN",service:"HMIMV"},{name:"MASSINE HAMOUMI",service:"HMIMV"},{name:"BOUCHIKH MOHAMMED ",service:"CHIRURGIE THORACIQUE"}]},{id:"f4b0a176-59d5-4fd5-b4d0-eb04ab2215e3",speciality:"CHIRURGIE GENERALE",professors:[{name:"EL ABSI MOHAMED",service:"URGENCES CHIRURGICALES VISC\xC9RALES"},{name:"EL MALKI HADJ OMAR",service:"CHIRURGIE A"},{name:"SABBAH FARID",service:"CHIRURGIE C"},{name:"BENAMR SAID",service:"CHIRURGIE B"},{name:"BOUCHENTOUF SIDI MOHAMMED",service:"HMIMV"},{name:"AIT ALI ABDELMOUNAIM",service:"HMIMV"},{name:"ZENTAR AZIZ",service:"HMIMV"},{name:"BOUNAIM AHMED",service:"HMIMV"},{name:"MOUJAHID MOUNTASSIR",service:"HMIMV"}]},{id:"4c1987bc-e2b5-42e3-9619-10b4283b5d99",speciality:"CHIRURGIE PEDIATRIQUE",professors:[{name:"Amrani Abdelouahed ",service:"CHIRURGIE P\xC9DIATRIQUE B"},{name:"BOUHAFS AMINE",service:"CHIRURGIE P\xC9DIATRIQUE C"},{name:"OUBEJJA HOUDA",service:"URGENCES CHIRURGICALES"}]},{id:"e8e5c354-89d6-407c-a6b0-66d7c543249e",speciality:"GASTRO-ENTEROLOGIE",professors:[{name:"AJANA FATIMA ZOHRA",service:"M\xC9DECINE C"}]},{id:"7215a7f9-5353-4b3a-9c09-32c96ddff92e",speciality:"MEDECINE INTERNE",professors:[{name:"AMMOURI WAFA",service:"M\xC9DECINE A"}]},{id:"d53c934b-e24f-4af3-9bc2-9cea5f5ffdad",speciality:"HEMATOLOGIE BIOLOGIQUE",professors:[{name:" BELMEKKI ABDELKADER",service:"HMIMV"}]},{id:"276c1bab-41eb-445b-8acc-5f4a950adbd5",speciality:"ANESTHESIE-REANIMATION",professors:[{name:"EL MOUSSAOUI RACHID",service:"R\xC9ANIMATION CENTRALE"},{name:"TADILI SIDI JAWAD",service:"R\xC9ANIMATION DES URGENCES CHIRURGICALES"},{name:"AWAB AL MAHDI",service:"R\xC9ANIMATION CENTRALE"},{name:"ALILOU MUSTAPHA",service:"URGENCES CHIRURGICALES HOSPITALI\xC8RES"},{name:"FILALI KARIM",service:"HMIMV"},{name:"ECH-CHERIF EL KETTANI SELMA",service:"NEURO-RADIOLOGIE"}]},{id:"8a1ff0c0-491b-4d82-b026-f1fdd00d8bc2",speciality:"CHIRURGIE REPARATRICE ET PLASTIQUE",professors:[{name:"FEJJAL NAWFAL",service:"BR\xDBL\xC9S"},{name:"KHALES AMINE",service:"HMIMV"}]},{id:"dd159e0f-ec46-4711-b5bd-3d431195a7a1",speciality:"CHIRURGIE CARDIO-VASCULAIRE",professors:[{name:"BAMOUS MEHDI",service:"HMIMV"}]},{id:"a65f3d66-619f-40a5-96fd-2aeee21bb8ed",speciality:"GYNECOLOGIE- OBSTETRIQUE",professors:[{name:"ALAMI MOHAMED HASSAN",service:"GYNECOLOGIE- OBSTETRIQUE MAT"},{name:"KOUACH JAOUAD",service:"HMIMV"},{name:"FILALI  ADIB ABDELHAI",service:"GYN\xC9COLOGIE"},{name:"YOUSFI MALKI MOUNIA",service:"MAT II"}]},{id:"0f7cc986-dd47-4366-afb0-7c30e537282b",speciality:"DERMATOLOGIE",professors:[{name:"MEZIANE MARYEME",service:"DERMATOLOGIE"},{name:"ISMAILI NADIA",service:"DERMATOLOGIE"}]},{id:"1ba77c69-0290-465c-9f49-7a56f0a7562a",speciality:"CHIRURGIE CARDIOVASCULAIRE",professors:[{name:"Younes Moutaki allah",service:"HMIMV"},{name:"BELLOUIZE  SIHAM",service:"HMIMV"}]},{id:"b8424dcd-8132-45b1-895a-ba5556f4706a",speciality:`CHIRURGIE MAXILLO-FACIALE\r
`,professors:[{name:"BOULAADAS MALIK",service:"STOMATOLOGIE ET CHIRURGIE MAXILLO-FACIALE"}]},{id:"6440b0ca-7abc-4450-a740-66863264e5dc",speciality:"UROLOGIE",professors:[{name:"NOUINI YASSINE",service:"UROLOGIE A"}]},{id:"06d8a553-5d1f-4aec-8fc7-3b97a5f19233",speciality:"NEURO-CHIRURGIE",professors:[{name:"EL FATEMI NIZARE",service:"NEURO-CHIRURGIE"},{name:"HEMAMA MUSTAPHA",service:"NEUROCHIRURGIE"},{name:"GAZZAZ  MILOUDI",service:"HMIMV"}]},{id:"27dd257d-a241-4ca1-a426-d9911c4f4907",speciality:"REANIMATION MEDICALE",professors:[{name:"ABOUQAL REDOUANE",service:"UMH"},{name:"BELAYACHI JIHANE",service:"UMH"}]},{id:"dac4210f-1d19-4d33-b8da-e0ebb8e2e130",speciality:"NEUROLOGIE",professors:[{name:"SATTE AMAL",service:"HMIMV "},{name:"REGRAGUI WAFA",service:"Neurologie B et neurog\xE9n\xE9tique"}]},{id:"40c24db4-1687-4b77-8eb3-9d1c15b8c646",speciality:"PNEUMO-PHTISIOLOGIE",professors:[{name:"ZAHRAOUI RACHIDA",service:"PNEUMOLOGIE B"},{name:"BOURKADI JAMAL-EDDINE",service:"PNEUMO-PHTYSIOLOGIE"},{name:"EL FTOUH MUSTAPHA",service:"PNEUMOLOGIE"},{name:"SOUALHI MOUNA",service:"PNEUMOLOGIE B"},{name:"ACHACHI LEILA",service:"PNEUMOLOGIE "}]},{id:"263dce6a-fd23-4ae4-8ca0-318c3d92c615",speciality:"MEDECINE NUCLEAIRE",professors:[{name:"GUERROUJ HASNAE",service:"RADIO-ISOTOPS/M\xC9DECINE NUCL\xC9AIRE"}]},{id:"16b759ce-1a88-4743-9b45-6ba579a0734b",speciality:"CHIRURGIE VASCULAIRE PERIPHERIQUE",professors:[{name:"LEKEHAL BRAHIM",service:"CHIRURGIE D"}]},{id:"7836e7ed-fcf0-4c76-8dc8-465866811679",speciality:"PHARMACOLOGIE",professors:[{name:"MEDDAH BOUCHRA",service:"LAB D'ANIMALERIE"}]},{id:"61b51c10-57bd-4559-a4de-89de35600d53",speciality:"O.R.L",professors:[{name:"BENCHEIKH RAZIKA",service:"O.R.L"},{name:"ESSAKALLI HOUSSYNI LEILA",service:"HOP. SP\xC9CIALIT\xC9S"},{name:"BENBOUZID MOHAMMED ANAS",service:"HOP. SP\xC9CIALIT\xC9S"},{name:"BENARIBA FOUAD",service:"HMIMV"},{name:"ERRAMI NOUREDDINE",service:"HMIMV"},{name:"ZALAGH MOHAMMED",service:"HMIMV"},{name:"JAHIDI MOHAMMED ALI",service:"HMIMV"},{name:"OURAINI SALOUA",service:"HMIMV"},{name:"HEMMAOUI BOUCHAIB",service:"HMIMV"}]},{id:"ef115adc-eb90-4f11-9981-f4e0f8cb47d7",speciality:"ANATOMIE",professors:[{name:"BASSIR  RIDA ALLAH",service:"ORTHOP\xC9DIE - TRAUMATOLOGIE"}]},{id:"e9b89a1d-34a0-4149-adb5-026c5d48f97b",speciality:"ANESTHESIE REANIMATION",professors:[{name:"EL AHMADI BRAHIM",service:"ANESTHESIE REANIMATION"}]},{id:"5e93a5a1-54b0-4075-ad4e-eada3baf4c11",speciality:"RADIOTHERAPIE",professors:[{name:"KEBDANI TAYEB ",service:"RADIOTH\xC9RAPIE"},{name:"HASSOUNI KHALID",service:"RADIOTH\xC9RAPIE"},{name:"EL KACEMI  HANAN",service:"RADIOTH\xC9RAPIE"}]},{id:"278d4fea-3135-4247-94d2-aa410e471565",speciality:"PSYCHIATRIE",professors:[{name:"SABIR MARIA",service:"PSYCHIATRIE A"}]},{id:"e0bcf050-75f0-49e3-a779-c5c56c75da2c",speciality:"STOMATOLOGIE ET CHIRURGIE MAXILLO FACIALE",professors:[{name:"HAMAMA JALAL",service:"HMIMV"}]},{id:"f15d1a32-9b8c-48e2-865e-d9a70c98f3d0",speciality:"MEDECINE SOCIALE, SANTE PUBLIQUE ET HYGIENE",professors:[{name:"ELARBI BOUAITI",service:"HMIMV"}]},{id:"c8379689-ed3c-43af-b4ca-822eb7aaf1fe",speciality:"ANATOMIE PATHOLOGIQUE",professors:[{name:"CHERRADI NADIA",service:"HOP. SP\xC9CIALIT\xC9S"},{name:"ELKTAIBI ABDERRAHIM",service:"HMIMV"},{name:"CHAHDI HAFSA",service:"HMIMV"},{name:"DAMIRI AMAL",service:"HMIMV"},{name:"ELOCHI MOHAMED REDA",service:"HMIMV"}]},{id:"e6c40e6f-30f0-4cc3-b7b0-c78e5e425882",speciality:"NEPHROLOGIE",professors:[{name:"ZAJJARI YASSIR",service:"HMIMV"}]},{id:"e3879f89-dc32-4fbe-b5f9-ca60c502652e",speciality:"MEDECINE LEGALE",professors:[{name:"AIT BOUGHIMA FADILA",service:"LAB M\xC9DECINE L\xC9GALE"}]},{id:"47d7ef4b-12b9-4812-9e7a-f076fa46ea50",speciality:"GENETIQUE",professors:[{name:"CHAFAI ELALAOUI SIHAM",service:"LAB G\xC9N\xC9TIQUE"}]},{id:"81dd60bc-6b59-4abc-8609-e17423759bc4",speciality:"BIOCHIMIE",professors:[{name:"OUAZZANI CHADIA",service:"BIOCHIMIE"}]},{id:"72c591d2-089f-484d-9fb2-0865830a2cb9",speciality:"IMMUNOLOGIE",professors:[{name:"HADEF RACHID",service:"HMIMV"},{name:"ZRARA ABDELHAMID",service:"HMIMV"},{name:"ATOUF OUAFA",service:"HOP. D'ENFANTS"},{name:"OUADGHIRI SANAE",service:"HOP. D'ENFANTS"}]}];static \u0275fac=function(t){return new(t||n)(K(ys),K(xe))};static \u0275cmp=Ke({type:n,selectors:[["app-subject"]],decls:57,vars:15,consts:[["subjectModal",""],[1,"goBack_span",3,"click"],["width","50","height","50","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M9.66088 8.53078C9.95402 8.23813 9.95442 7.76326 9.66178 7.47012C9.36913 7.17698 8.89426 7.17658 8.60112 7.46922L9.66088 8.53078ZM4.47012 11.5932C4.17698 11.8859 4.17658 12.3607 4.46922 12.6539C4.76187 12.947 5.23674 12.9474 5.52988 12.6548L4.47012 11.5932ZM5.51318 11.5771C5.21111 11.2936 4.73648 11.3088 4.45306 11.6108C4.16964 11.9129 4.18475 12.3875 4.48682 12.6709L5.51318 11.5771ZM8.61782 16.5469C8.91989 16.8304 9.39452 16.8152 9.67794 16.5132C9.96136 16.2111 9.94625 15.7365 9.64418 15.4531L8.61782 16.5469ZM5 11.374C4.58579 11.374 4.25 11.7098 4.25 12.124C4.25 12.5382 4.58579 12.874 5 12.874V11.374ZM15.37 12.124V12.874L15.3723 12.874L15.37 12.124ZM17.9326 13.1766L18.4614 12.6447V12.6447L17.9326 13.1766ZM18.25 15.7351C18.2511 16.1493 18.5879 16.4841 19.0021 16.483C19.4163 16.4819 19.7511 16.1451 19.75 15.7309L18.25 15.7351ZM8.60112 7.46922L4.47012 11.5932L5.52988 12.6548L9.66088 8.53078L8.60112 7.46922ZM4.48682 12.6709L8.61782 16.5469L9.64418 15.4531L5.51318 11.5771L4.48682 12.6709ZM5 12.874H15.37V11.374H5V12.874ZM15.3723 12.874C16.1333 12.8717 16.8641 13.1718 17.4038 13.7084L18.4614 12.6447C17.6395 11.8276 16.5267 11.3705 15.3677 11.374L15.3723 12.874ZM17.4038 13.7084C17.9435 14.245 18.2479 14.974 18.25 15.7351L19.75 15.7309C19.7468 14.572 19.2833 13.4618 18.4614 12.6447L17.4038 13.7084Z","fill","#ffffff"],[1,"container"],[1,"box_cnt"],[1,"title_cnt"],[1,"data_cnt"],[1,"form_cnt",3,"formGroup"],[1,"form-group"],["for","discipline"],["id","discipline","formControlName","discipline",3,"ngClass"],["value","",2,"color","grey"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["for","professor"],["id","professor","formControlName","professor",3,"ngClass"],[2,"display","flex","height","100%","justify-content","flex-end","flex-direction","column"],["type","button",1,"btn","btn_primary","choix_btn",3,"click"],[1,"table-container"],[3,"ngClass"],["colspan","4",2,"text-align","center"],["class","back_overlay",3,"click",4,"ngIf"],[3,"value"],[1,"error"],[2,"color","transparent"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"btn","btn_accent",3,"click"],[1,"anim_cnt"],[1,"loader"],[1,"back_overlay",3,"click"],[1,"modal_container"],[1,"modal_body"],[1,"modal_title"],[1,"close_x",3,"click"],[4,"ngTemplateOutlet"],[1,"modal_footer"],[1,"subject-form",3,"ngSubmit","formGroup"],["for","subject"],["formControlName","subject",1,"form-control"],["class","error-message",4,"ngIf"],["for","speciality"],["type","text","id","speciality","formControlName","speciality",1,"form-control"],["type","text","id","professor","formControlName","professor",1,"form-control"],["for","service"],["type","text","id","service","formControlName","service",1,"form-control"],["for","statut"],["id","statut","formControlName","statut",1,"form-control"],["value",""],["value","Ouvert"],["value","Reserve"],["for","reservation_date"],["type","date","id","reservation_date","formControlName","reservation_date",1,"form-control"],["for","soutenence_date"],["type","date","id","soutenence_date","formControlName","soutenence_date",1,"form-control"],["type","submit",1,"btn","btn_primary","submit_btn",3,"click","disabled"],["type","button",1,"btn","delete_btn",3,"click"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Ai();ee(0,"app-header"),N(1,"span",1),Re("click",function(){return gn(i),mn(r.router.navigate(["home"]))}),Qt(),N(2,"svg",2),ee(3,"g",3)(4,"g",4),N(5,"g",5),ee(6,"path",6),R()()(),Lr(),N(7,"div",7)(8,"section",8)(9,"section",9)(10,"h2"),k(11,"Soutenance de th\xE8se "),R(),N(12,"p"),k(13,"Plateforme de la proc\xE9dure de soutenance de th\xE8se"),R()()(),N(14,"main",10)(15,"form",11)(16,"div",12)(17,"label",13),k(18,"Discipline"),R(),N(19,"select",14)(20,"option",15),k(21,"Choisir la Discipline"),R(),me(22,O8,2,2,"option",16),R(),me(23,P8,2,0,"div",17),R(),N(24,"div",12)(25,"label",18),k(26,"Professeur"),R(),N(27,"select",19)(28,"option",15),k(29,"Choisir le professor"),R(),me(30,k8,2,2,"option",16),R(),me(31,F8,2,0,"div",17),R(),N(32,"div",20)(33,"button",21),Re("click",function(){return gn(i),mn(r.onChooseSubject())}),k(34,"Choisir"),R(),me(35,L8,3,0,"div",17),R()(),N(36,"section",22)(37,"table")(38,"thead")(39,"tr")(40,"th"),k(41,"Sujet"),R(),N(42,"th"),k(43,"Professeur"),R(),N(44,"th"),k(45,"Service"),R(),N(46,"th"),k(47,"Statut"),R(),me(48,V8,2,0,"th"),R()(),N(49,"tbody"),me(50,B8,1,1,"tr",23)(51,H8,3,0,"td",24)(52,$8,3,0,"tr"),R()()()()(),ee(53,"app-footer"),me(54,q8,11,2,"div",25)(55,Y8,44,7,"ng-template",null,0,MC)}t&2&&(G(15),Y("formGroup",r.filter_form),G(4),Y("ngClass",xt(11,aM,r.filter_form.get("discipline").invalid&&r.filter_form.get("discipline").touched)),G(3),Y("ngForOf",r.specialityList),G(),Y("ngIf",r.filter_form.get("discipline").invalid&&r.filter_form.get("discipline").touched),G(4),Y("ngClass",xt(13,aM,r.filter_form.get("professor").invalid&&r.filter_form.get("professor").touched)),G(3),Y("ngForOf",r.list_prof_toShow()),G(),Y("ngIf",r.filter_form.get("professor").invalid&&r.filter_form.get("professor").touched),G(4),Y("ngIf",r.filter_form.get("professor").invalid&&r.filter_form.get("professor").touched||r.filter_form.get("discipline").invalid&&r.filter_form.get("discipline").touched),G(13),Xt(r.isAdmin?48:-1),G(2),Xt(r.dataList().length>0?50:r.isLoading?51:52),G(4),Y("ngIf",r.show_hide_modal))},dependencies:[Mi,$o,qC,Go,WC,zC,vs,ms,yA,_A,Kr,ih,ps,gs,Fi,Li,cs,us],styles:[`@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px;margin:10px;min-height:100vh;align-items:center;animation:_ngcontent-%COMP%_fade_In .5s linear 0s 1 forwards}.container[_ngcontent-%COMP%]   .box_cnt[_ngcontent-%COMP%]   .links_section[_ngcontent-%COMP%]{display:block;border-radius:10px;padding:15px;margin-top:5px;background-color:#fff}.container[_ngcontent-%COMP%]   .box_cnt[_ngcontent-%COMP%]   .links_section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:gray;margin-top:8px;text-decoration:none;transition:1s;position:relative;width:fit-content}.container[_ngcontent-%COMP%]   .box_cnt[_ngcontent-%COMP%]   .links_section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";width:0;height:2px;bottom:-5px;position:absolute;display:block;background-color:#007bff}.container[_ngcontent-%COMP%]   .box_cnt[_ngcontent-%COMP%]   .links_section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.container[_ngcontent-%COMP%]   .box_cnt[_ngcontent-%COMP%]   .links_section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_lineDown 1s linear forwards;transition:.7s}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]{margin-bottom:7rem;background-color:#fff;padding:2rem;overflow-x:scroll;border-radius:10px}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .choix_btn[_ngcontent-%COMP%]{height:38px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);align-items:start;gap:25px 14px}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.3rem;font-weight:500;color:#555}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:10px;font-size:.8rem}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem}.container[_ngcontent-%COMP%]   .data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]   .input_error[_ngcontent-%COMP%]{border-color:#dc3545!important}.goBack_span[_ngcontent-%COMP%]{cursor:pointer;transform:scale(1.019);transition:.4s}@keyframes _ngcontent-%COMP%_lineDown{0%{width:0px}to{width:100%}}@keyframes _ngcontent-%COMP%_fade_In{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-top:2rem;box-shadow:1px 1px 10px 1px #0000001a;border-radius:8px;background:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Arial,sans-serif;background:#fff;border-radius:8px;overflow:hidden}thead[_ngcontent-%COMP%]{background-color:var(--table_header_color);color:#fff}th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;text-transform:uppercase;font-size:.875rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;transition:background-color .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}td[_ngcontent-%COMP%]{padding:1rem;color:#333;font-size:.875rem}@media (max-width: 768px){th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.75rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.75rem}}@media screen and (max-width: 700px){.data_cnt[_ngcontent-%COMP%]{width:85%;padding:1em}.data_cnt[_ngcontent-%COMP%]   .form_cnt[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.reserved[_ngcontent-%COMP%]{background:#dedbdb;opacity:.85}.reserved[_ngcontent-%COMP%]:hover{background:#dedbdb!important}.anim_cnt[_ngcontent-%COMP%]{position:relative}.back_overlay[_ngcontent-%COMP%]{background-color:#545454b3;position:absolute;top:0;width:100%;min-height:100vh;height:100%;display:flex;align-items:center;justify-content:center}.modal_container[_ngcontent-%COMP%]{top:50px;left:30%;width:600px;background:#fff;padding:20px 0;box-shadow:0 2px 10px #0000001a;border-radius:20px;height:80%;max-height:800px}.modal_container[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]{width:100%}.modal_container[_ngcontent-%COMP%]   .modal_title[_ngcontent-%COMP%]   .close_x[_ngcontent-%COMP%]{float:right;cursor:pointer}.modal_body[_ngcontent-%COMP%]{overflow:hidden auto;height:100%;padding:0 15px}.subject-form[_ngcontent-%COMP%]{margin:.7rem auto;padding:1rem;border-radius:8px}.subject-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem}.subject-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.subject-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#444}.subject-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .3s ease}.subject-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none}.subject-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.5rem}.subject-form[_ngcontent-%COMP%]   .submit_btn[_ngcontent-%COMP%]{float:right}.subject-form[_ngcontent-%COMP%]   .delete_btn[_ngcontent-%COMP%]{float:left;background-color:#e42f2f;color:#fff}.subject-form[_ngcontent-%COMP%]   .delete_btn[_ngcontent-%COMP%]:hover{background-color:#9e2222}.subject-form[_ngcontent-%COMP%]   .ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#d32f2f}.subject-form[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:1em}`]})};var cM=[{path:"login",component:sh},{path:"signUp",component:ch},{path:"verifyEmail/:email",component:uh},{path:"subject",component:ff,canActivate:[wc]},{path:"home",component:zd,canActivate:[wc]},{path:"**",redirectTo:"home",pathMatch:"full"}];var uM=(n,e)=>{let t=sessionStorage.getItem("token");return console.log(t),n=n.clone({setHeaders:{Authorization:"Bearer "+t}}),e(n)};var lM={firebaseConfig:{apiKey:"AIzaSyBIA1I0mkOCu0a6KoRMFBu1CzGDXeJofPQ",authDomain:"doctorat-fmpr.firebaseapp.com",projectId:"doctorat-fmpr",storageBucket:"doctorat-fmpr.firebasestorage.app",messagingSenderId:"742961280244",appId:"1:742961280244:web:e08a631ad43e593b95daa1"}};var dM={providers:[xC({eventCoalescing:!0}),lb(cM,gb()),uD(lD([uM])),vb(()=>_b(lM.firebaseConfig)),Pb(()=>Fb()),XS(()=>iM())]};var J8="firebase",X8="11.5.0";Ar.registerVersion(J8,X8,"app-compat");var e6=["ngOnDestroy"],fM=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(e6.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var C_=class{constructor(e){return e}},pM=new U("angularfire2.app.options"),gM=new U("angularfire2.app.name");function mM(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=Ar.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Ar.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;t6("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new C_(s)}var t6=(n,...e)=>{Vo()&&typeof console<"u"&&console[n](...e)};function yM(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return n6(i,s)||(hM("error",`${e} was already initialized on the ${t} Firebase App with different settings.${r6?" You may need to reload as Firebase is not HMR aware.":""}`),hM("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function n6(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var r6=typeof module<"u"&&!!module.hot,hM=(n,...e)=>{Vo()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var i6=new U("angularfire2.auth.use-emulator"),o6=new U("angularfire2.auth.settings"),s6=new U("angularfire2.auth.tenant-id"),a6=new U("angularfire2.auth.langugage-code"),c6=new U("angularfire2.auth.use-device-language"),u6=new U("angularfire.auth.persistence"),l6=(n,e,t,r,i,o,s,a)=>yM(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[t,r,i,o,s,a]),d6=(()=>{class n{injector=x(tt);authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,u,l,h,p,y,m){let D=new Oe,T=Q(void 0).pipe(Ut(s.outsideAngular),ke(()=>o.runOutsideAngular(()=>import("./chunk-VXH6J45M.js"))),J(()=>mM(t,o,r)),J(M=>l6(M,o,a,l,h,p,u,y)),Ju({bufferSize:1,refCount:!1}));if(Ga(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Q(null);else{T.pipe(cn()).subscribe();let M=T.pipe(ke(B=>B.getRedirectResult().then(ve=>ve,()=>null)),mc(this.injector),Ju({bufferSize:1,refCount:!1})),F=T.pipe(ke(B=>new re(ve=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(Ue=>ve.next(Ue),Ue=>ve.error(Ue),()=>ve.complete()))})))),Z=T.pipe(ke(B=>new re(ve=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(Ue=>ve.next(Ue),Ue=>ve.error(Ue),()=>ve.complete()))}))));this.authState=M.pipe(el(F),zt(s.outsideAngular),Ut(s.insideAngular)),this.user=M.pipe(el(Z),zt(s.outsideAngular),Ut(s.insideAngular)),this.idToken=this.user.pipe(ke(B=>B?le(B.getIdToken()):Q(null))),this.idTokenResult=this.user.pipe(ke(B=>B?le(B.getIdTokenResult()):Q(null))),this.credential=gp(M,D,this.authState.pipe(dt(B=>!B))).pipe(J(B=>B?.user?B:null),zt(s.outsideAngular),Ut(s.insideAngular))}return fM(this,T,o,{spy:{apply:(M,F,Z)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&Z.then(B=>D.next(B))}}})}static \u0275fac=function(r){return new(r||n)(H(pM),H(gM,8),H(Jt),H(Ee),H(jn),H(i6,8),H(o6,8),H(s6,8),H(a6,8),H(c6,8),H(u6,8),H(zr,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),vM=(()=>{class n{constructor(){Ar.registerVersion("angularfire",Vn.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=vn({type:n});static \u0275inj=fn({providers:[d6]})}return n})();function h6(n,e){n&1&&(N(0,"main",0),ee(1,"span",6),R())}function f6(n,e){n&1&&ee(0,"router-outlet")}var pf=class n{title="doctoratApp";sharedService=x(Gr);isLoading=!1;constructor(){dd(()=>{this.isLoading=this.sharedService.isLoading()})}ngOnInit(){console.log("%cStop!","color: red; font-size: 50px; -webkit-text-stroke: 2px black;"),console.log("%cThis is a browser feature intended for developers. If someone told you to copy-paste something here to enable a feature or hack someone's account, it is a scam.","color: black; font-size: 16px;"),this.sharedService.bypassItIfYouCan()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"anim_cnt"],[1,"restricted_content"],[1,"stars_cnt"],["id","stars"],["id","stars2"],["id","stars3"],[1,"loader"]],template:function(t,r){t&1&&(me(0,h6,2,0,"main",0)(1,f6,1,0,"router-outlet"),N(2,"div",1)(3,"h2"),k(4," *************** Restricted Content *************** "),R()(),N(5,"section",2),ee(6,"div",3)(7,"div",4)(8,"div",5),R()),t&2&&Xt(r.isLoading?0:1)},dependencies:[Dy,vM],styles:[".animated_background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;display:block;background-color:#fff;background-image:linear-gradient(to bottom,#ffffffdb,#0e4166)}"]})};ED(pf,dM).catch(n=>console.error(n));
